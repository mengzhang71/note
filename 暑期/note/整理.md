# é¡¹ç›®

## æŸ¥è¯¢é¡µé¢

å†™apiæœ‰ä¸‰éƒ¨æ›²

#### æŸ¥è¯¢ã€é‡ç½®æŒ‰é’®é€»è¾‘

handleResetQueryäº‹ä»¶

æŠŠæœç´¢æ¡†çš„å†…å®¹æ¸…ç©º

æ·±å…‹éš†å’±ä»¬çš„constå˜é‡

é‡æ–°èµ‹searchParams--è§£æ„ï¼Œå…¶ä»–ç…§æ¬ï¼Œåªæœ‰userAuditStatusé‡èµ‹ï¼Œæ˜¯query

å°±ä¸ºç©ºï¼Œå…¶ä»–å°±ä¸ç®¡

æœ€åè¯·æ±‚ this.fetchDeclareSearchPage()

æœ€åè¯·æ±‚æ•°æ®fetch.post('/xiangmu/declareSearch/page', this.searchParams



**è¿™é‡Œé¡ºç€å¼•ç”³ä¸‹çš„è·å–æ•°æ®**

è¡¨å•æ•°æ®å’Œä¸‹æ‹‰æ çš„æ•°æ®æ˜¯è·å–æ˜¯ä¸ä¸€æ ·çš„ï¼ˆåè€…æ˜¯è¦é€è¿›elementUIçš„å¯¹æ•°æ®æ ¼å¼è¦æ±‚å¾ˆé«˜ï¼‰ï¼Œä¸‹æ‹‰æ çš„æ•°æ®éœ€è¦æ¥è¿‡æ¥å…ˆåšå¤„ç†ï¼Œlabelã€valueã€children



### Managenté¡µé¢ï¼š

#### v-bind=â€œ$attrsã€v-on="$listeners"éƒ¨åˆ†

##### v-bind="$attrs"

ä¸»è¦ç”¨äºç»„ä»¶ä¹‹é—´çš„éš”ä»£ä¼ å€¼ï¼Œ**é«˜å±‚çº§å‘åº•å±‚çº§ä¼ å€¼**

Aç»„ä»¶ä¸­çš„å€¼éœ€è¦ç›´æ¥ä¼ ç»™Cï¼Œé‚£ä¹ˆå°±éœ€è¦åœ¨Bä¸­è®¾ç½®v-bind="$attrs"ï¼Œç„¶ååœ¨Cç»„ä»¶ä¸­ç”¨propæ¥æ”¶ï¼Œæ­¤æ—¶å°±ç›´æ¥æŠŠå€¼ä¼ ç»™äº†Cç»„ä»¶ã€‚

##### v-on="$listeners"

ä¸»è¦ç”¨äºåº•å±‚ç»„ä»¶å‘é«˜å±‚ç»„ä»¶ä¼ é€’ä¿¡æ¯

æˆ‘çš„ç†è§£ï¼Œåœ¨è¿™é‡Œæ˜¯äºŒæ¬¡å°è£…el-table æ—¶ç”¨åˆ°äº†ï¼Œ

å°è£…el-tableé‡Œçš„	<el-table-columnæ—¶ï¼Œel-table é‡Œ

æˆ‘çŸ¥é“å®ƒæ˜¯è·¨çº§é€šä¿¡ç”¨åˆ°çš„ï¼Œä½†æ˜¯å®ƒåˆ°åº•æ˜¯æ€ä¹ˆç”¨çš„å‘¢



managenté¡µé¢ï¼š

![image-20230630104058265](%E6%95%B4%E7%90%86.assets/image-20230630104058265.png)

headersé‡Œé¢åŠ äº†æƒ³è¦åŠ è¿™æ ·çš„æ ·å¼çš„ï¼Œä¸€å®šè¦åŠ componentï¼Œåé¢ä¼šæåˆ°ç”¨åˆ°äº†table-colè‡ªå¸¦æ’æ§½é‡Œ



Gridé‡Œçš„ :total="total"ï¼Œå°±æ˜¯é€šè¿‡v-bind=â€œ$attrsä¼ ç»™å­äº†çš„ï¼Œæ²¡äººç”¨propæ¥æ”¶



```
      <html-content
        v-else-if="col.component"
        v-bind="$attrs"
        v-on="$listeners"
        :html="col.component(scope.row, index)"
        :row="scope.row"
        :index="index"
      ></html-content>
```

DynamicColumnç»„ä»¶ä¸‹è‡ªå·±å†™äº†htmlContentç»„ä»¶

```
   htmlContent: {
      props: {
        html: String,
        row: Object,
        index: Number
      },
      render (h: any) {
        const self: Vue = this
        const component = Vue.extend({
          template: `<div @click.stop="onComponentClick">${self.$props.html}</div>`,
          methods: {
            onComponentClick () {
              this.$children.forEach((item: any) => {
                self.$emit(item.$attrs.clickName, self.$props.row, self.$props.index)
              })
            }
          }
        })

        return h(component, {
          // on: {
          //   click: function() {
          //     console.log(111)
          //     ;(self as any).aaa()
          //   }
          // }
        })
      }
    }
```

   template: `<div @click.stop="onComponentClick">${self.$props.html}</div>`,

è¿™é‡Œçš„${self.$props.html}

å¤–é¢

 :html="col.component(scope.row, index)"

colæ˜¯sortHeadersé‡Œçš„éå†çš„item

å–ï¼Œå°±æ˜¯è¿™é‡Œcomponent

![image-20230630104058265](%E6%95%B4%E7%90%86.assets/image-20230630104058265.png)



â€‹      this.$children.forEach((item: any) => {

è£å“¥è¯´ï¼Œå¤–é¢ä¸€å®šè¦ç”¨componentçš„åŸå› ï¼Œè¦ä¸ç„¶è¿™é‡Œéå†çš„å°±æ˜¯ç©ºå…ƒç´ äº†ï¼ˆæ²¡æœ‰childrenï¼‰$childrenæ˜¯æŒ‡è¿™ä¸ªä¸‹é¢çš„æ•´ä¸ªç»„ä»¶ï¼Œä¸æ˜¯å…ƒç´ å•¥çš„



 å¦‚æœheadeé‡Œçš„componentå¦‚æœæœ‰ç‚¹å‡»æ–¹æ³•ï¼Œå°±æ‰§è¡Œå’¯ï¼Œ(è¿˜æ˜¯é—®ä¸€é—®å§)









## Gridï¼ˆå«studentInfoï¼‰

**gridé‡Œçš„åŠ¨æ€æ **

colæ˜¯iä»gridé‡Œä¼ è¿›æ¥çš„item



#### DynamicColumnç»„ä»¶

å°è£…çš„el-table



 æ•°æ®  :data="items"é€šè¿‡ v-bind="$attrs"ä¹Ÿä¼ è¿›DynamicColumnç»„ä»¶äº†



DynamicColumnç»„ä»¶ä¼ è¿›å»çš„æ•°æ® :col="item"

item å°±æ˜¯sortHeaders   v-for="(item, index) in sortHeaders"

DynamicColumnç»„ä»¶å°±å¼€å§‹æ ¹æ®colæ¸²æŸ“è¡¨å¤´ã€è¡¨æ ¼

  :label="col.text"

  :prop="col.value"

labelæ˜¯è¡¨å¤´ï¼Œpropæ˜¯è¡¨æ ¼



#### æ—¥æœŸå¤„ç†

```js
{{ dateFormatter(scope.row[scope.column.property], col.dateType) }} 

dateFormatter(time: any, timeFormat: string | true) {
    if (dayjs(time).isValid()) {
      return timeFormat === true ? dayjs(time).format('YYYY-MM-DD') : dayjs(time).format(timeFormat)
    } else {
      return ''
    }
  }
```







#### **ç»„ä»¶ä¼ é€’**

Vueç»„ä»¶çš„è‡ªæˆ‘è°ƒç”¨ï¼Œç§°ä¹‹ä¸ºç»„ä»¶ä¼ é€’ã€‚åŸç†ç›¸å½“äºé€’å½’ã€‚DynamicColumnç»„ä»¶ï¼Œæœ¬è´¨ä¸Šæ˜¯element-ui ä¸­çš„ el-table-columnçš„å°è£…ã€‚ç›®çš„ä¸ºäº†æ»¡è¶³æ ‘å½¢è¡¨æ ¼çš„éœ€æ±‚ã€‚

æ³¨æ„ç»„ä»¶è°ƒç”¨å¿…é¡»è¦æ»¡è¶³ä»¥ä¸‹æ¡ä»¶:

\1.     ä¸€å®šè¦æ³¨å†Œç»„ä»¶å

![img](%E6%95%B4%E7%90%86.assets/clip_image002.jpg)

\2.     åœ¨æœ¬ç»„ä»¶ï¼ˆå¦‚ï¼šDynamicColumnä¸­ï¼‰ç›´æ¥è°ƒç”¨è‡ªå·±ï¼Œæ‰€ä¼ å‚æ•°ä¸éåŒåç»„ä»¶æ˜¯ä¸€æ ·çš„ã€‚

![img](%E6%95%B4%E7%90%86.assets/clip_image004.jpg)

\3.     

ä¸€å®šè¦æœ‰åˆ¤æ–­è‡ªæˆ‘è°ƒç”¨çš„æ¡ä»¶ï¼Œå¦åˆ™ä¼šå¯¼è‡´ç¨‹åºå´©æºƒï¼Œç›¸å½“äºé€’å½’ä¹Ÿéœ€è¦ä¸€ä¸ªç»“æŸé€’å½’çš„åˆ¤æ–­ã€‚



#### ç–é€šæ’æ§½

æ•°æ®æ˜¯ä¸€è·¯å¾€ä¸‹ä¼ çš„ï¼Œ

header=> sortHeaders=>col

headersé‡Œçš„value å¯¹åº” eltableçš„propï¼Œlabelï¼ˆè¡¨å¤´ï¼‰å¯¹åº”text

 :label="col.text"		  :prop="col.value"





 **studentInfo**ç»„ä»¶éƒ¨åˆ†ï¼š

```js
        <template #operate="{ scope }">
          <el-button class="color-green" @click.native.stop="toDetail(scope.row, 'è¯¦æƒ…')" type="text"
            >å­¦å‘˜è¯¦æƒ…</el-button
          >
          <el-button class="color-green" @click.native.stop="toDetail(scope.row, 'å­¦ä¹ è€ƒè¯•è®°å½•')" type="text"
            >è€ƒè¯•è®°å½•</el-button
          >
        </template>
```

**Grid**ç»„ä»¶éƒ¨åˆ†ï¼š

```js
    <!-- è¿™æ˜¯ä½œç”¨åŸŸæ’æ§½çˆ¶ç»„ä»¶é‡Œç”¨çš„ï¼Œ -->

     <span v-if="item.slotName" :slot="item.slotName" slot-scope="{ scope }">

      <!-- æŠŠä¸Šé¢çš„nameã€scopeä¼ ç»™çˆ¶äº† -->

     <slot :name="item.slotName" :scope="scope"></slot>

    </span>
```

Gridä¸­**dynamic-colum**ç»„ä»¶éƒ¨åˆ†ï¼š

```js
  <!-- elementuiçš„el-colè‡ªå¸¦æ’æ§½ï¼Œæä¾›ç»™ä½ è®©ä½ å¯ä»¥ä¿®æ”¹åˆ—å†…å®¹æ ¼å¼çš„ -->
    <template slot-scope="scope">
      <div
        v-if="col.template"
        @click.stop="onTemplateClick($event, scope.row, index)"
        v-html="col.template(scope.row, index)"
      ></div>
      <html-content
        v-else-if="col.component"
        v-bind="$attrs"
        v-on="$listeners"
        :html="col.component(scope.row, index)"
        :row="scope.row"
        :index="index"
      ></html-content>
		.....
      <!-- å¦‚æœå‘ç°æœ‰æºå¸¦çš„æ•°æ®æ˜¯æ’æ§½ç±»å‹ï¼Œå°±æ˜¯æä¾›å ä½ç¬¦å’¯ï¼Œä¹Ÿå°±æ˜¯gridé‡Œindexé‡Œçš„æ·»åŠ çš„ä½œç”¨åŸŸæ’æ§½ -->
      <slot v-else-if="col.slotName" :name="col.slotName" :scope="scope" />
    </template>
```

![image-20230629170732724](%E6%95%B4%E7%90%86.assets/image-20230629170732724.png)



é«˜äº®



### html-contentç»„ä»¶

ç”¨renderå’Œjsxç¼–å†™ç»„å†…ç»„ä»¶

æ¥å®ç°çš„è‡ªå®šä¹‰htmlå†…å®¹å’Œç‚¹å‡»äº‹ä»¶

```js
 <html-content
        v-else-if="col.component"
        v-bind="$attrs"
        v-on="$listeners"
        :html="col.component(scope.row, index)"
        :row="scope.row"
        :index="index"
      ></html-content>
```



ä¼ è¿›å»çš„headeræ ·å­é•¿è¿™æ ·ï¼Œæ ¹æ®ä¼ è¿›å»çš„valueç±»å‹ï¼Œæ¥å†³å®šå­—ä½“æ ·å¼

```js
   {
      value: 'status',
      text: 'è€ƒè¯•çŠ¶æ€',
      component: (row: any) => {
        const html = `<div class="state-label state-taskStatus-${
          row.status === 'å¾…è€ƒè¯•' ? 'yellow' : row.status === 'æœªé€šè¿‡' ? 'red' : 'green'
        }">${row.status}</div>`
        return html
      }
    },
```



ç®€å•çš„ç”¨renderå’Œjsxç¼–å†™ç»„å†…ç»„ä»¶

```js
  components: {
    htmlContent: {
      props: {
        html: String,
        row: Object,
        index: Number
      },
      render(h: any) {
        const self: Vue = this
        const component = Vue.extend({
          template: `<div @click.stop="onComponentClick">${self.$props.html}</div>`,
          methods: {
            onComponentClick() {
              this.$children.forEach((item: any) => {
                self.$emit(item.$attrs.clickName, self.$props.row, self.$props.index)
              })
            }
          }
        })

        return h(component, {
          // on: {
          //   click: function() {
          //     console.log(111)
          //     ;(self as any).aaa()
          //   }
          // }
        })
      }
    }
  }
```





## è¯¦æƒ…é¡µé¢ã€å¼¹çª—

## æ–‡ä»¶ä¸Šä¼ 

æ–‡ä»¶ä¸Šä¼ ï¼Œä¸‹è½½ï¼Œé¢„è§ˆ TreeFile2ä¸ºä¾‹

   [é•¿æ²™å¸‚å†œä¸šé¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ç³»ç»Ÿ (ç”³æŠ¥ç«¯)](http://10.14.3.27:4933/crowd/replenishment?_key=1687940181646)

### æ•´ä½“é€»è¾‘

![Snipaste_2023-07-06_10-21-48](%E6%95%B4%E7%90%86.assets/Snipaste_2023-07-06_10-21-48.png)

2éƒ¨åˆ†æ˜¯åœ¨uploadçš„.thenä¸­ï¼Œ.thenä¸­è°ƒç”¨çš„æ˜¯handleSuccessæ–¹æ³•ï¼Œå…ˆæ”¾åˆ°å˜é‡é‡Œåœ¨ç‚¹å‡»é¡µé¢çš„å‘å¸ƒæ—¶ï¼Œä¸Šä¼ åˆ°ä¸šåŠ¡æ•°æ®åº“ä¸­ï¼Œå°±æ˜¯3çš„éƒ¨åˆ†

[æ™ºæ…§å†œä¸šå†œæ‘äº‘ä¸Šèµ„æ–™åº“](http://10.14.3.27:4933/sub/subSystem-cloud/keyWork/list?menuId=12941)



- 1éƒ¨åˆ†å°±æ˜¯uploadæ–¹æ³•



const uploaderClass = new UploaderClass({

   files: [params.file],

   beforeUpload: () => data,

   fileExists: fileUploadExists,

   uploadChunk: fileUploadChunk

  })

ç­¾åthis.signatureå±æ€§åœ¨è¿™é‡Œç”¨ä¸Šäº†



// è·å–ç­¾å

 getSignature () {

  comService.getSignature({ storeId: 'op' }).then(res => {

   **this.signature** = res.data

   const { filePermissionVo, signature } = res.data

   **this.customAuth** = Object.freeze({ signature, filePermissionVo })

  })

 }





#### .start() æ–¹æ³•





```
  async start() {
    const beforeUploadData = (await this.beforeUpload()) || {}
    const res = []
    for (let i = 0, l = this.files.length; i < l; i++) {
      this.files[i].registerData(beforeUploadData)
      const data = await this.files[i].start(beforeUploadData)
      res.push(data)
    }
    return res
  }
```







- 2éƒ¨åˆ†æ˜¯åœ¨uploadçš„.thenä¸­ï¼Œ.thenä¸­è°ƒç”¨çš„æ˜¯handleSuccessæ–¹æ³•ï¼Œå…ˆæ”¾åˆ°å˜é‡é‡Œåœ¨ç‚¹å‡»é¡µé¢çš„å‘å¸ƒæ—¶ï¼Œä¸Šä¼ åˆ°ä¸šåŠ¡æ•°æ®åº“ä¸­ï¼Œå°±æ˜¯3çš„éƒ¨åˆ†



- 3éƒ¨åˆ†	handleReleaseæ–¹æ³• ï¼Œ

  ```
    handleRelease () {
      // ä»»ä¸€è¡¨å•é¡¹è¢«æ ¡éªŒåè§¦å‘
      this.FormRef.validate().then((valid: boolean) => {
        let req: any
        if (this.isEdit) {
        æ˜¯ç¼–è¾‘å°±è°ƒæ›´æ–°æ¥å£
          req = jobUpdate(this.form)
        } else {
          req = importJobAdd(this.form)
        }
        req.then((res: any) => {
          this.$message.success(`${this.title}èµ„æ–™ä¸Šä¼ æˆåŠŸ`)
          this.$xxTab.close()
          this.$xxTab.open('subSystem-cloud', 'é‡ç‚¹å·¥ä½œåŠ¨æ€ä¸€è§ˆ', {})
        })
      })
    }
  ```

  é‡ç‚¹å·¥ä½œé¡µé¢å°±æ˜¯é‚£ä¸ªæˆ‘çš„èµ„æ–™é¡µé¢

### :on-success="handleSuccess"

on-success	æ–‡ä»¶ä¸Šä¼ æˆåŠŸæ—¶çš„é’©å­

æŠŠlinkGuidæ–‡ä»¶åç­‰ä¿¡æ¯ï¼Œç»™åˆ°ä¸šåŠ¡ç³»ç»Ÿæ•°æ®åº“ä¸­ä¿å­˜

```
  handleSuccess (res: any) {
    const { fileName, linkGuid } = res
    console.log(JSON.stringify(this.form.files, null, 2))
    const hasUploaded = this.form.files.find((item: any) => item.fileLinkId === linkGuid)
    console.log(linkGuid, fileName)
    if (!hasUploaded) {
      this.form.files.push({
        fileLinkId: linkGuid,
        fileName,
        name: fileName
      })
    }
  }
```



```
<div slot="file" slot-scope="{ file }" class="custom-file-item" @click="handlePreview(file)">
```

fileä¼ è¿›å‡½æ•°é‡Œï¼Œé•¿è¿™æ ·

![image-20230713194617272](%E6%95%B4%E7%90%86.assets/image-20230713194617272.png)

ç”±:file-list="form.files"å¾—æ¥

form.fileså°±æ˜¯ä¸Šä¼ çš„æ–‡ä»¶



## æ–‡ä»¶é¢„è§ˆ

[é•¿æ²™å¸‚å†œä¸šé¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ç³»ç»Ÿ (ç”³æŠ¥ç«¯)](http://localhost:4933/crowd/projectDetailPage?_key=1689560935945)

åœ¨èµ„æ–™ä¸Šä¼ çš„æ–°å¢èµ„æ–™é‡Œ

åœ¨el-uploadé‡Œä½¿ç”¨äº†slot=fileå®Œæˆäº†è‡ªå·±é‡å†™äº†è¿™ä¸ªæ˜¾ç¤º

![image-20230829100119447](%E6%95%B4%E7%90%86.assets/image-20230829100119447.png)



æœ¬æ¥çš„ï¼š

![image-20230829100152242](%E6%95%B4%E7%90%86.assets/image-20230829100152242.png)





æ•´æ®µä»£ç ï¼š

```vue
     <el-upload
              action=""
              accept=".pdf,.jpg,.png,.jpeg,.doc,.docx,.txt,.xls,.xlsx,.wps,.ofd"
              :file-list="form.files"
              :http-request="handleUpload"
              :on-success="handleSuccess"
              class="file-upload"
              :class="{ empty: !form.files.length }"
              multiple
            >
              <div class="upload-trigger">
                <span class="upload-icon"></span>
                ä¸Šä¼ æ–‡ä»¶,è¯·<el-button size="small" type="text">ç‚¹å‡»ä¸Šä¼  </el-button>
              </div>
              <div slot="file" slot-scope="{ file }" class="custom-file-item" @click="handlePreview(file)">
                <svg-icon class="icon-size-16" :icon-class="fileIcon(file.name)" />
                <span class="file-name ellipsis">{{ file.name }}</span>
                <span class="status">
                  <i class="el-icon-success"></i>
                  ä¸Šä¼ æˆåŠŸ
                </span>
                <el-button
                  type="text"
                  class="del-btn"
                  icon="el-icon-delete"
                  @click.stop.prevent="handleBeforeRemove(file)"
                ></el-button>
              </div>
            </el-upload>
```







ä¹‹å‰çœ‹çš„è¿™ä¸ªè¡¥æ­£ææ–™è¯¦æƒ…ï¼Œç°åœ¨æ²¡äº†

  [é•¿æ²™å¸‚å†œä¸šé¡¹ç›®å…¨ç”Ÿå‘½å‘¨æœŸç®¡ç†ç³»ç»Ÿ (ç”³æŠ¥ç«¯)](http://10.14.3.27:4933/crowd/replenishment?_key=1687940181646)

æˆ‘çš„é¡¹ç›®é‡Œçš„ææ–™ä¿¡æ¯ projectDetailPageé¡µé¢





### çºµè§ˆ

é‰´æƒã€ä¸Šä¼ ã€å›æ˜¾ã€æ ¹æ®ç±»å‹ï¼ˆpdfæ˜¯ç”¨çš„æ’ä»¶ï¼‰

[å‰ç«¯æ–‡ä»¶æµã€åˆ‡ç‰‡ä¸‹è½½å’Œä¸Šä¼ ï¼šä¼˜åŒ–æ–‡ä»¶ä¼ è¾“æ•ˆç‡ä¸ç”¨æˆ·ä½“éªŒ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7255189826226602045)



ç‚¹projectDetailPage é‡Œçš„.nav-headerå°±åˆ‡æ¢åˆ°ææ–™ä¿¡æ¯æ˜¾ç¤º TreeFile2äº†

TreeFile2é‡Œå†™æ–‡ä»¶é¢„è§ˆï¼Œæ•°æ®æ¥è‡ªprojectDetailPage ä¾èµ–æ³¨å…¥ï¼Œç‚¹å‡»æ–‡ä»¶ä½ç½®æœ‰å·¦é”®ï¼ˆåŒå‡»ï¼Ÿï¼‰å’Œå³é”®æ–¹æ³•ï¼Œä¼ å‚ç»™æ–¹æ³•ï¼Œè®©å…·ä½“æ–¹æ³•å†…å®¹ç”±projectDetailPage å†™

```js
  // æ‰“å¼€é™„ä»¶ææ–™é¢„è§ˆå¼¹çª— -> é€šè¿‡çˆ¶çº§è°ƒç”¨
  showPreviewWindow(data: any) {
    if (!this.isPlenishment && !data.isWrite && data.isDir) {
      return
    }
    clearTimeout(timer)
    timer = null
    if (data?.isDir) return
    if (data) {
      // data.roles = node.roles
      this.selectedData = data
    }
    this.OPHandle.toggleAttachWindow(true, this.selectedData, false)
  }

```

toggleAttachWindowå°±æ˜¯projectDetailPage é‡Œçš„æ–¹æ³•



WindowPreviewåœ¨projectDetailPage ä¸­

#####  @Provide() OPHandle: projectDetailPage = this	ä¼ ç»™treeFile

çˆ¶ç»„ä»¶é€šè¿‡`provide/inject`ç»™å­å­™ç»„ä»¶ä¼ å€¼



##### WindowPreviewé¡µé¢

é‡Œé¢æœ‰è¿›åº¦æ¡		el-progress

ç”±windowParams.loadingæ§åˆ¶



å›¾ç‰‡æ˜¯ç”¨blobæ˜¾ç¤º



#### TreeFile2çš„å…¥å‚

```js
      <TreeFile2
        v-show="navActive === 2"
        class="el-overflow self-table"
        ref="treeFile"
        :disabledClick="false"
        :treeData="declareTreeData"
        :publickParam="treeParam"
        :isArchive="isArchive"
        :isOperation="false"
        @refreshInit="initDeclareTreeData"
      >
      </TreeFile2>
```

isOperation  æ§åˆ¶TreeFile2çš„ä¸Šä¼ æŒ‰é’®çš„æ˜¾ç¤ºã€å’Œæ–‡ä»¶å³è¾¹çš„åˆ é™¤icon

declareTreeDataï¼Œå¯ä»¥çœ‹æˆæ–‡ä»¶å¤¹----ææ–™ä¿¡æ¯é¡µé¢çš„æ•°æ®é‡Œé™¤äº†nullçš„

æ¥è‡ª

```js
 // ç”³æŠ¥ææ–™
  async initDeclareTreeData() {
   const { data }: any = await fetch.get('/xiangmu/prj/box/declareTree', {
```



```js
subParamså€¼:
{
	"name":"JY0712æµ‹è¯•é¡¹ç›®",
	"projectKind":"å†œä¸šä¼ä¸šå‡çº§å‘å±•é¡¹ç›®",
	"projectType":"å†œä¸šä¼ä¸šå‡çº§å‘å±•é¡¹ç›®",
	"projectClassification":"å†œä¸šä¼ä¸šå‡çº§å‘å±•é¡¹ç›®ï¼ˆé¾™å¤´ä¼ä¸šï¼‰",
	"applyStatus":"å®¡æ‰¹ä¸­","applyType":"é¡¹ç›®ç”³æŠ¥",
	"updateTime":"2023-07-12T08:48:41.735Z",
	"keyDigNumGather":"411926250768367616",
	"applyId":"843621702528208896",
	"projectCode":"411926250768367616",
	"thirdId":"8111",
	"applyUserId":"0",
	"canGetBack":true,
	"projectInfoType":1,
	"opinion":null
	}
```



```js
  this.treeParam 
  = {
      keyDigNumGather: this.subParams.keyDigNumGather || this.subParams.projectCode,
      keyTypeCode: this.subParams.keyTypeCode,
      procDefId: '',
      roles: []
    }
```



```js
DeclareTreeDataçš„å€¼
[
    {
        "id": "1",
        "label": "é¡¹ç›®ç”³æŠ¥",
        "parentId": null,
        "materialTypeId": null,
        "fileLinkId": null,
        "fileSize": null,
        "isWrite": null,
        "isDir": true,
        "roles": null,
        "keyTypeCode": null,
        "keyDigNumGather": null,
        "subid": null,
        "children": [
            {
                "id": "1574581296242364418",
                "label": "è¥ä¸šæ‰§ç…§",
                "parentId": null,
                "materialTypeId": "1574581296242364418",
                "fileLinkId": null,
                "fileSize": null,
                "isWrite": false,
                "isDir": true,
                "roles": [
                    "1571775970224902146"
                ],
                "keyTypeCode": 2,
                "keyDigNumGather": "411926250768367616",
                "subid": null,
                "children": [
                    {
                        "id": "411926517010202624",
                        "label": "ä¹ å¤§å¤§.png",
                        "parentId": null,
                        "materialTypeId": "1574581296242364418",
                        "fileLinkId": "411926516620914688",
                        "fileSize": "109719",
                        "isWrite": false,
                        "isDir": false,
                        "roles": [
                            "1571775970224902146"
                        ],
                        "keyTypeCode": 2,
                        "keyDigNumGather": "411926250768367616",
                        "subid": null,
                        "children": null
                    }
                ]
            },
            {
                "id": "1635184496867282945",
                "label": "å…¶ä»–",
                "parentId": null,
                "materialTypeId": "1635184496867282945",
                "fileLinkId": null,
                "fileSize": null,
                "isWrite": false,
                "isDir": true,
                "roles": [
                    "1571775970224902146"
                ],
                "keyTypeCode": 2,
                "keyDigNumGather": "411926250768367616",
                "subid": null,
                "children": []
            }
        ]
    }
]
```

#### å…¶ä»–å‚æ•°

##### å³é”®èœå•

```js
 contextMenu: any[] = [
    {
      icon: 'x-yuedu',
      text: 'é¢„è§ˆ',
      handler: (data: any) => {
        this.showPreviewWindow(data)
      },
      isFile: true
    },
    {
      icon: 'x-shangchuan4',
      text: 'ä¸Šä¼ ',
      handler: () => {
        ;(this.$refs.upload as any)?.$children?.[0].$refs.input.click()
      },
      isDir: true
    },
    {
      icon: 'x-shuaxin2',
      text: 'åˆ·æ–°',
      handler: () => this.$emit('refreshInit')
    },
    {
      icon: 'x-xiazai3',
      text: 'ä¸‹è½½',
      handler: (data: any) => this.download(data)
    },
    {
      icon: 'x-daiban-xuanzhong',
      text: 'ç­¾ç« ',
      handler: (data: any) => this.handleSign(data)
    },
    {
      icon: 'x-bianji1',
      text: 'é‡å‘½å',
      handler: (data: any) => {
        this.showReName(data)
      }
    },
    {
      icon: 'x-shanchu',
      text: 'æˆæœä½œåºŸ',
      handler: (data: any) => this.cancelAchievement(data)
    },
    {
      icon: 'x-laji1',
      text: 'åˆ é™¤',
      handler: (data: any) => this.remove(data)
    }
  ]
```



### TreeFile2å†…å®¹







```js
 <div
        slot-scope="{ node, data }"
        class="tree-node"
        @click.stop="chooseed(data, node)"
        @dblclick.stop="showPreviewWindow(data, node)"
        @contextmenu="contextMenuFliter(data)"
        v-context-menu="{ contextMenu, data }"
      >
```

å•å‡»é€‰ä¸­æŸä¸€ä¸ªæ–‡ä»¶ åŒå‡»é¢„è§ˆï¼Œ

#### å•å‡»é€»è¾‘

ä¸€é”®é˜»æ­¢äº‹ä»¶å†’æ³¡ï¼Œåªè®©å®ƒæ‰§è¡Œæˆ‘ä»¬çš„å‡½æ•°





#### åŒå‡»

```js
  showPreviewWindow (data: any) {
    if (!this.isPlenishment && !data.isWrite && data.isDir) {
      return
    }
    clearTimeout(timer)
    timer = null
    if (data?.isDir) return
    // å¯å†™ï¼Œä¸æ˜¯æ–‡ä»¶å¤¹
    if (data) {
      // data.roles = node.roles

      this.selectedData = data
    }
    this.OPHandle.toggleAttachWindow(true, this.selectedData, false)
  }
```





#### å³é”®

é€šè¿‡ä¸å…è®¸ç‚¹å‡»æ–‡ä»¶å¤¹å®ç°ç¦ç”¨ä¸Šä¼ ç­‰--

**å®ç°ï¼š**

```js
  @contextmenu="contextMenuFliter(data)"
  v-context-menu="{ contextMenu, data }"
```

ç»‘å®šå³é”®èœå•äº‹ä»¶ï¼Œç‚¹å³é”®æ—¶ä¼šå¯¹èœå•åšä¸ªè¿‡æ»¤ï¼ŒcontextMenuFliteræ–¹æ³•

```js
  contextMenuFliter (data: any) {
    this.selectedData = data
    this.filterAcceptFun(data.materialSuffixes)
```

##### filterAcceptFunæ–¹æ³•

```js
  filterAcceptFun (str: string) {
    if (str?.length > 3) {  
  //      attrs: any = {
  //        accept: '.'
  //        }
  // å°†å­—ç¬¦ä¸² str ä¸­çš„åˆ†å· ; æ›¿æ¢ä¸ºé€—å· ,ï¼Œå†å°†æ˜Ÿå· * æ›¿æ¢ä¸ºç©ºå­—ç¬¦ä¸²
      this.attrs.accept = str?.replace(/;/g, ',')?.replace(/\*/g, '')
    } else {
      this.attrs.accept = '.'
    }
  }
```

replaceæ–¹æ³•ï¼Œæ­£åˆ™è¡¨è¾¾å¼



##### contextmenu

[Element: contextmenu event - Web API æ¥å£å‚è€ƒ | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/contextmenu_event)

**`contextmenu`** äº‹ä»¶ä¼šåœ¨ç”¨æˆ·å°è¯•æ‰“å¼€ä¸Šä¸‹æ–‡èœå•æ—¶è¢«è§¦å‘



##### setCurrentNode

é€šè¿‡ node è®¾ç½®æŸä¸ªèŠ‚ç‚¹çš„å½“å‰é€‰ä¸­çŠ¶æ€ï¼Œä½¿ç”¨æ­¤æ–¹æ³•å¿…é¡»è®¾ç½® node-key å±æ€§

(node) å¾…è¢«é€‰èŠ‚ç‚¹çš„ node

```
 this.tree?.setCurrentNode(data)
```



ç‚¹å‡»é¢„è§ˆå°±è°ƒtoggleAttachWindowï¼Œå¦‚æœå¯å†™ä¸”ä¸æ˜¯æ–‡ä»¶å¤¹

è°ƒæ³¨å…¥è¿‡æ¥çš„çˆ¶çº§æ–¹æ³•

```
 this.OPHandle.toggleAttachWindow(true, this.selectedData, false)
```







### WindowPreviewæ–‡ä»¶é¢„è§ˆè¯¦æƒ…é¡µé¢

å¸¦ç€é—®é¢˜å»çœ‹

æ–‡ä»¶ä¸Šä¼ æ€æ ·å®ç°é¢„è§ˆåŠŸèƒ½ã€éœ€è¦ç›‘å¬å“ªäº›äº‹ä»¶

å›¾ç‰‡é¢„è§ˆæ€ä¹ˆå®ç°çš„ï¼ŒåŠ è½½æ æ€ä¹ˆå®ç°çš„

æ•°æ®selectedAttachæ¥è‡ªè¿™

```js
//å°±æ˜¯ä¼ çš„ç‚¹å‡»çš„è¿™ä¸ªï¼Œdata
@dblclick.stop="showPreviewWindow(data, node)"
 è¿™ä¸ªdataæ¥è‡ª :data="treeData"
è¿™ä¸ªtreeDataæ¥è‡ª	@Prop() treeData!: any
è¿™ä¸ªtreeDataæ¥è‡ªçˆ¶ç»„ä»¶ä¼ å…¥ï¼Œ:treeData="declareTreeData"
è¿™ä¸ªæ¥è‡ªapiè¯·æ±‚çš„ï¼Œ  async initDeclareTreeData () {
    
```

å›¾ç‰‡é¢„è§ˆçš„åˆå§‹åŒ–æ˜¯æ€ä¹ˆæ˜¾ç¤ºçš„

```js
è¿™ä¹ˆè°ƒç”¨çš„
created
 this.currentFile = this.selectedAttach

 
//this.selectedAttachå°±æ˜¯å½“å‰æ–‡ä»¶
 mounted () {
  this.onSelect(this.selectedAttach)


```

#### onSelectæ–¹æ³•é‡Œ

åˆ¤æ–­æ–‡ä»¶ç±»å‹ï¼Œè®¾å®šæ—¶å™¨è®©è¿›åº¦æ¡æ‰§è¡Œï¼Œé‰´æƒ

è¯·æ±‚previewTreeçš„api

```js
//resé•¿è¿™æ ·
{data: Blob, status: 200, statusText: 'OK', headers: {â€¦}, config: {â€¦}, â€¦}
config
: 
{transitional: {â€¦}, transformRequest: Array(1), transformResponse: Array(1), timeout: 1000000, adapter: Æ’, â€¦}
data
: 
Blob
size
: 
109719
type
: 
"image/png"
[[Prototype]]
: 
Blob
headers
: 
{access-control-allow-methods: '*', access-control-allow-origin: '*', cache-control: 'max-age=180, public', connection: 'close', content-disposition: 'inline;filename="411926516520251392_.png.png"', â€¦}
request
: 
XMLHttpRequest {onreadystatechange: null, readyState: 4, timeout: 1000000, withCredentials: false, upload: XMLHttpRequestUpload, â€¦}
status
: 
200
statusText
: 
"OK"
[[Prototype]]
: 
Object
```

thenæ–¹æ³•ä¸­èµ‹windowParams--loadingPercent: 100

```
 this.windowParams = {
          ...this.windowParams,
          tips: '',
          ifError: false,
          loadingPercent: 100
        }
```



æœ€åloading: falseå§è¿›åº¦æ¡å–æ¶ˆ

```
.finally(() => {
        setTimeout(() => {
          this.windowParams = {
            ...this.windowParams,
            loading: false
          }
```





é¡µé¢ç”¨el-dialogå®ç°



:**before-close**="dialogBeforeClose"

 // å®ç°å…³é—­å¼¹çª—

 dialogBeforeClose() {

  this.visible = false

 }



if -else  è¿›åº¦æ¡å’Œå›¾ç‰‡é¡µé¢

å›¾ç‰‡é¡µé¢é‡ŒåŒ…å«å‰è¿›åé€€ç®­å¤´



æ”¾å¤§ç¼©å°å‡½æ•°ï¼Œè¿‡ä¼šçœ‹

scale (val: number, step = 0.2) {



 // é¼ æ ‡å·¦é”®æŒ‰ä¸‹æ‹–åŠ¨å¹³ç§»

 handleMove (event: any) {





## ç§»åŠ¨ç«¯

ç€‘å¸ƒæµæ˜¾ç¤ºå¤„ç†



é€‰é¡¹å±•å¼€é€»è¾‘



è¿”å›è®°å¾—åŠ åŸç”Ÿ

back.native ="back"

ç»™vueç»„ä»¶ç»‘å®šäº‹ä»¶æ—¶å€™ï¼Œå¿…é¡»åŠ ä¸Šnative ï¼Œä¸ç„¶ä¸ä¼šç”Ÿæ•ˆï¼ˆç›‘å¬æ ¹å…ƒç´ çš„åŸç”Ÿäº‹ä»¶ï¼Œä½¿ç”¨ `.native` ä¿®é¥°ç¬¦ï¼‰



### JsBridge

```js
/** ä¸Šä¼ ç…§ç‰‡ */
export const getPhoto = (params: any) => {
  return new Promise((resolve) => {
    window.WebViewJavascriptBridge?.callHandler('getPhoto', params, (res: any) => {
      resolve(res)
    })
  })
}

```

Nativeå¯ä»¥åœ¨H5é¡µé¢ä¸­æ³¨å…¥ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œé‡Œé¢å®ç°äº†å¾ˆå¤šApiï¼Œåœ¨H5é¡µé¢ä¸­å°±å¯ä»¥è°ƒç”¨è¿™äº›æ–¹æ³•ã€‚

Nativeè¿˜å¯ä»¥åœ¨H5é¡µé¢ä¸­æ‰§è¡Œä¸€æ®µjsä»£ç ï¼ŒH5å¯ä»¥æå‰å‡†å¤‡å¥½ä¸€ä¸ªå…¨å±€å¯¹è±¡ï¼Œå®ç°å¯¹åº”çš„Apiï¼Œç­‰Nativeæ‰§è¡Œjsè¯­å¥ä»è€Œè°ƒç”¨H5å¯¹åº”çš„Api

[(9 å°ç§ä¿¡ / 80 æ¡æ¶ˆæ¯) åƒé”‹å‰ç«¯å­¦ä¹ è¥ - çŸ¥ä¹ (zhihu.com)](https://www.zhihu.com/org/qian-feng-html5xue-yuan/posts?page=3)





```js
export const openOneMapWithOpenLayers = (params: any) => {
  return new Promise((resolve) => {
    window.WebViewJavascriptBridge?.callHandler('openOneMapWithOpenLayers', params, (res: any) => {
      resolve(res)
    })
  })
}
```





## å…¬æ–‡äº‹åŠ¡æ‰“å°

åœ¨9_18é‡Œ

iframe ï¼Œ æµç¨‹ï¼ˆwordæ˜¯æ€ä¹ˆæ‹¿åˆ°æ–‡ä»¶ã€ä¿å­˜æ–‡ä»¶çš„ï¼›pdfçš„æ–‡ä»¶è·å–blobï¼‰ï¼Œhttp





## å°è´¦List

### é«˜äº®

TzTableBox.vueé‡Œä¼ å…¥äº†ä¸ªkeyWord



æœ‰ä¸ªhighlightï¼Œ

```vue
<el-table-column    >
    //v-htmlä¹Ÿä¼šæ›¿ä»£{{}}çš„å†…å®¹
	<span v-else v-html="highLight(scope.row[scope.column.property], scope.column.property)">{{
              scope.row[scope.column.property]
            }}
    </span>
    
</el-table-column>


highLight(val: any) {
    if (!val) return
    return htmlUtil.highlight(val, this.keyWord)
  }
```



```js
const htmlUtil = {
  highlight: (val: any, keyword: any) => {
    if (!val) {
      return ""
    }

    if (!keyword) {
      return val
    }

    if (typeof val !== "string") {
      return val
    }

    const regExp = new RegExp(keyword, "i")
    //å¿½ç•¥å¤§å°å†™çš„å»valé‡Œæ‰¾keywordï¼Œæ‰¾åˆ°äº†å°±æŠŠvalé‡Œçš„å¯¹åº”çš„æ›¿æ¢æˆç¬¬äºŒä¸ªå‚æ•°
    return val.replace(regExp, `<span style="color: red;">${keyword}</span>`)
  }
}

export { htmlUtil }

```





å°è£…ç»„ä»¶

DListç•™ä¸ªå¿ƒçœ¼



## è¿ç§»å­ç³»ç»Ÿ

å¤šé¡µé¢çš„vueé¡¹ç›®







æ¢è·¯ç”±

é¦–é¡µæ¢æ‰





ä¸€ä¸ªé¡¹ç›®å¤šä¸ªç³»ç»Ÿçš„é…ç½®ï¼ˆå…¥å£é…ç½®ï¼‰

vue.config.js



å¦‚å…¬ä¼—ç«¯ï¼ˆcrowdï¼‰

ä¼šè¿›å…¥crowd_main.tsé‡Œé…ç½®æ‰€æœ‰ä¸œè¥¿ï¼Œåœ¨è¿™å¼•å…¥äº†æ‰€æœ‰è·¯ç”±å’Œæ’ä»¶

ä½†æˆ‘è¿™é‡Œæ²¡è®¤æˆ‘çš„è¿™ä¸ªæ–‡ä»¶   --é‡æ–°buildå†è¿è¡Œï¼Œæ›´æ”¹äº†vue.config.jséƒ½è¦è¿™æ ·

![image-20231102100057263](%E6%95%B4%E7%90%86.assets/image-20231102100057263.png)



æ‰€ä»¥æˆ‘è¿›è¿™



**æ¨¡å—é…ç½®**

åŠ æ–°æ¨¡å—æ—¶éœ€è¦åœ¨/lib/loader.tsé‡Œæ·»åŠ è§„åˆ™





# HTML

### editable

```html
<cite contenteditable="true">-- Write your own name here</cite>

```

è®©æ–‡æœ¬æ˜¯å¯ç¼–è¾‘çš„

[contenteditable - HTMLï¼ˆè¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ï¼‰ | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/HTML/Global_attributes/contenteditable)



# CSS

### èƒŒæ™¯æ¸å˜

#### linear-gradient()

CSS **`linear-gradient()`** å‡½æ•°ç”¨äºåˆ›å»ºä¸€ä¸ªè¡¨ç¤ºä¸¤ç§æˆ–å¤šç§é¢œè‰²çº¿æ€§æ¸å˜çš„å›¾ç‰‡ã€‚å…¶ç»“æœå±äº[``](https://developer.mozilla.org/zh-CN/docs/Web/CSS/gradient)æ•°æ®ç±»å‹ï¼Œæ˜¯ä¸€ç§ç‰¹åˆ«çš„[``](https://developer.mozilla.org/zh-CN/docs/Web/CSS/image)æ•°æ®ç±»å‹ã€‚

```css
.simple-linear {
  background: linear-gradient(blue, pink);
}
```



### æ–‡å­—çœç•¥

[cssæ–‡å­—è¶…å‡ºå…ƒç´ çœç•¥,å•è¡Œã€å¤šè¡Œçœç•¥ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7016631393165770759)

æ²ªä¸Šé˜¿å§¨é‚£ä¸ªä¸‹é¢çš„æ–‡å­—çœç•¥

 overflow: hidden;

 white-space: nowrap;

 text-overflow: ellipsis;



â€‹	å››è¡Œï¼šoverflowï¼šhidden...

###  cursor: pointer;

è®¾ç½®å…‰æ ‡ç±»å‹



### calc()

```js
<div>

	<div class="head">æ ‡é¢˜</div>
	<div class="contain">å†…å®¹</div>

</div>
<style>
	.head{
		height: 70px;
	}
	.contain{
		height: calc(100% - 170px);;
	}
</style>
```


å¯¹äºä»¥ä¸Šä»£ç ï¼Œå¦‚æœæˆ‘ä»¬è¦è®©ç›’å­ä¸­çš„â€œå†…å®¹â€å æ»¡â€œæ ‡é¢˜â€ä»¥ä¸‹çš„æ‰€æœ‰åŒºåŸŸï¼Œå¯ä»¥ç»™â€œæ ‡é¢˜â€è®¾ç½®ä¸€ä¸ªå›ºå®šå€¼ï¼ˆ70pxï¼‰ï¼Œç„¶åè®©â€œå†…å®¹â€çš„é«˜ä¸º100%å‡å»â€œæ ‡é¢˜â€çš„é«˜åº¦ï¼Œåªéœ€è¦è®¾ç½®æ ·å¼ä½¿ç”¨calc() å‡½æ•°å°±å¯ä»¥äº†ï¼

ä½¿ç”¨calc()å‡½æ•°æ—¶éœ€è¦æ³¨æ„ä»¥ä¸‹å‡ ç‚¹ï¼š

1. calc()å‡½æ•°ç”¨äºåŠ¨æ€è®¡ç®—é•¿åº¦å€¼ã€‚
2. **calc()å‡½æ•°æ”¯æŒ â€œ+â€, â€œ-â€, â€œ*â€, â€œ/â€ è¿ç®—ï¼Œè¿ç®—ç¬¦å‰åéƒ½éœ€è¦ä¿ç•™ä¸€ä¸ªç©ºæ ¼**ã€‚
3. calc()å‡½æ•°ä½¿ç”¨æ ‡å‡†çš„æ•°å­¦è¿ç®—ä¼˜å…ˆçº§è§„åˆ™ã€‚

â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œå¿ƒã€‚æ™´ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/jingjing217/article/details/107963876



### **white-space: nowrap;**

ä¸»è¦ç›®çš„å°±æ˜¯è®©æ–‡å­—ä¸æ¢è¡Œå§

**æ‰€æœ‰ç©ºæ ¼ã€å›è½¦ã€åˆ¶è¡¨ç¬¦éƒ½åˆå¹¶æˆä¸€ä¸ªç©ºæ ¼ï¼Œæ–‡æœ¬ä¸æ¢è¡Œ**

åºŠ(ç©ºæ ¼)å‰(ç©ºæ ¼)(ç©ºæ ¼)(ç©ºæ ¼)(ç©ºæ ¼)æ˜æœˆå…‰ï¼Œç–‘æ˜¯åœ°ä¸Šéœœ
ï¼ˆå›è½¦ï¼‰
ä¸¾å¤´æœ›æ˜æœˆï¼Œä½å¤´(Tab)æ€æ•…ä¹¡

![img](%E6%95%B4%E7%90%86.assets/6100773-79b94479e8d415dd.png)



### positionå®šä½

å®šä½ï¼šposition  æ˜¯relativeæ‰æœ‰beforeï¼Ÿè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Œå»è¿‡ä¸€è¿‡position

å¥½åƒæ˜¯å­ç»çˆ¶ç›¸çš„ä¸œè¥¿ï¼Ÿ--ç”¨è¿™ä¸ªçš„æ„ä¹‰

`static`æ˜¯`position`å±æ€§çš„é»˜è®¤å€¼ã€‚å¦‚æœçœç•¥`position`å±æ€§ï¼Œæµè§ˆå™¨å°±è®¤ä¸ºè¯¥å…ƒç´ æ˜¯`static`å®šä½ã€‚å…¶ä»–ä¸‰ä¸ªéƒ½æ˜¯ç›¸å¯¹äºæŸä¸ªåŸºç‚¹çš„å®šä½



ç›¸å¯¹å®šä½/ç»å¯¹å®šä½ æ‰æœ‰é‚£å››ä¸ªå±æ€§

relative  ç›¸å¯¹äºé»˜è®¤ä½ç½®ï¼ˆå³`static`æ—¶çš„ä½ç½®ï¼‰è¿›è¡Œåç§»ï¼Œå³å®šä½åŸºç‚¹æ˜¯å…ƒç´ çš„é»˜è®¤ä½ç½® å»è®¾ç½®topã€bottomï¼Œleftã€right





![image-20230913113607085](%E6%95%B4%E7%90%86.assets/image-20230913113607085.png)



 position è®¾ç½®ä¸ºabsolute/fixed  è„±ç¦»æ ‡å‡†æµï¼Œåœ¨æ–‡æ¡£æµä¸­ä¸å ä½ï¼Œå®½é«˜ç”±å†…å®¹å®šã€‚ä¸å ç”¨çˆ¶ç©ºé—´äº†ï¼Œçˆ¶å…ƒç´ ä¸ä¼šè¢«å…¶æ’‘å¼€ï¼Œ

**absolute** åŸºäºçˆ¶ä½ç½®ï¼Œçˆ¶å†™ä¸ªrelative å°±æ˜¯ç»™å­å…ƒç´ å‚è€ƒä½ç½®å§ï¼Ÿ***\*å¤§æ¦‚å°±æ˜¯å…ˆæŠŠçˆ¶è®¾ç½®ä¸ºå®šä½ç‚¹\****

ï¼ˆå®ƒæœ‰ä¸€ä¸ªé‡è¦çš„é™åˆ¶æ¡ä»¶ï¼šå®šä½åŸºç‚¹ï¼ˆä¸€èˆ¬æ˜¯çˆ¶å…ƒç´ ï¼‰ä¸èƒ½æ˜¯`static`å®šä½ï¼Œå¦åˆ™å®šä½åŸºç‚¹å°±ä¼šå˜æˆæ•´ä¸ªç½‘é¡µçš„æ ¹å…ƒç´ `html`ã€‚å¦å¤–ï¼Œ`absolute`å®šä½ä¹Ÿå¿…é¡»æ­é…`top`ã€`bottom`ã€`left`ã€`right`è¿™å››ä¸ªå±æ€§ä¸€èµ·ä½¿ç”¨ã€‚ï¼‰

**å¸Œæœ›å­å…ƒç´ ç›¸å¯¹äºçˆ¶å…ƒç´ è¿›è¡Œå®šä½ï¼Œåˆä¸å¸Œæœ›çˆ¶å…ƒç´ è„±æ ‡çš„æ—¶å€™ï¼Œæˆ‘ä»¬æ‰ä¼šä¼šç”¨åˆ°å­ç»çˆ¶ç›¸ã€‚**



ç›¸å¯¹å®šä½æ˜¯æ²¡æœ‰è„±æ ‡çš„ï¼Œå…¶æœ€å…¸å‹çš„åº”ç”¨å°±æ˜¯æ¥é™åˆ¶ç»å¯¹å®šä½



**fixed** 	å®šä½åŸºç‚¹æ˜¯æµè§ˆå™¨çª—å£ï¼Œä¸éšé¡µé¢æ»šåŠ¨è€Œå˜åŒ–ï¼Œå¥½åƒå›ºå®šåœ¨ç½‘é¡µä¸Šä¸€æ ·



stickyåŠ¨æ€å›ºå®šï¼Œåƒ`relative`å’Œ`fixed`çš„ç»“åˆï¼Œå¿…é¡»æ­é…`top`ã€`bottom`ã€`left`ã€`right`è¿™å››ä¸ªå±æ€§ä¸€èµ·ä½¿ç”¨ï¼Œä¸èƒ½çœç•¥ï¼Œå¦åˆ™ç­‰åŒäº`relative`å®šä½

```css
  position: sticky;
  top: 0; 
```

[é˜®ä¸€å³°åšå®¢CSS positionå®šä½ï¼ˆrelativeã€absoluteã€fixedï¼‰å±æ€§æ•™ç¨‹ï¼Œstickyç«Ÿæœ‰æ­¤ç¥å¥‡å¦™ç”¨ï¼-ç”²çˆ¸åšå®¢ (xiaoyunhua.com)](https://www.xiaoyunhua.com/4302.html)







### overflow 

overflow: auto;	è¿˜æ˜¯æ²¡å¼„æ‡‚æ»šåŠ¨è¦åŠ åœ¨å“ªï¼Œè€æ˜¯è¦å»è¯•

[overflow:auto ä¸ç”Ÿæ•ˆçš„åŸå› _overflowautoä¸ç”Ÿæ•ˆ_sdewendongçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/sdewendong/article/details/84432778)

å°±æ˜¯æˆ‘å‘ç°ä¸æ˜¯ç»™ä¸ç»™overflowçš„é—®é¢˜ï¼Œæ˜¯ç»™æ²¡ç»™é«˜åº¦çš„é—®é¢˜ï¼Œæˆ‘é«˜åº¦ç»™çš„åŒºåŸŸå¯¹ï¼Œè‡ªç„¶å°±å‡ºç°äº†

**overflowï¼šautoï¼›å¦‚æœå†…å®¹è¢«ä¿®å‰ªï¼Œåˆ™æµè§ˆå™¨ä¼šæ˜¾ç¤ºæ»šåŠ¨æ¡ï¼Œä»¥ä¾¿æŸ¥çœ‹å…¶ä½™å†…å®¹ã€‚**

â€‹	å› ä¸ºæˆ‘ä¹‹å‰ç»™çš„æ˜¯100%ï¼Œåº”è¯¥å°±æ˜¯100%çš„åŸå› ï¼Œæ˜ å°„å‡ºæ¥ä¸æ˜¯pxå€¼ï¼Œæ‰€ä»¥é»˜è®¤æ²¡æœ‰ä¿®å‰ª





### afterç»†çº¿çš„æ ·å¼é€»è¾‘ï¼š

å› ä¸ºå…¶ä»–æ²¡è®¾ï¼Œæ”¾å¤§ç¼©å°é»˜è®¤æ˜¯0ï¼Œæ‰€ä»¥å®ƒè®¾flexï¼š1å°±å æ»¡äº†å‰©ä½™ç©ºé—´

å†æŠŠé«˜åº¦è®¾ä¸º1ï¼ŒèƒŒæ™¯è®¾ä¸ºé»‘è‰²ï¼Œå°±æˆäº†ç»†çº¿

å†…å®¹contentï¼šâ€˜â€™





### é¡µé¢å“åº”å¼

flexå¸ƒå±€



### flexå¸ƒå±€

flex	flexå¸ƒå±€å¯¹äºå®¹å™¨çš„æ§åˆ¶æ˜¯åŸºäºè½´è¿™ä¸ªæ¦‚å¿µçš„	flexä¸­çš„è½´åˆ†ä¸ºï¼šä¸»è½´ã€å‚ç›´è½´ã€æ¢è¡Œè½´ã€‚

ä¸‹é¢çš„å¯ä»¥åˆ†ä¸ºä¸¤ç»„ï¼šä¸€ç»„å»æ§åˆ¶è½´ã€ä¸€ç»„å»æ§åˆ¶è½´ä¸Šçš„å…ƒç´ 

- flex-direction	 row | row-reverse | column | column-reverse;
- flex-wrap    å¦‚æœä¸€æ¡è½´çº¿æ’ä¸ä¸‹ï¼Œå¦‚ä½•æ¢è¡Œ
- flex-flow   ä¸Šé¢ä¸¤ä¸ªçš„å±æ€§ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º`row nowrap`ã€‚



- justify-content    flex-start | flex-end | center | space-between | space-around;
- align-items



- align-content		å®šä¹‰äº†å¤šæ ¹è½´çº¿çš„å¯¹é½æ–¹å¼ã€‚åªæœ‰ä¸€æ ¹è½´çº¿è¯¥å±æ€§ä¸èµ·ä½œç”¨ã€‚

#### flexå±æ€§

`flex`å±æ€§æ˜¯`flex-grow`, `flex-shrink` å’Œ `flex-basis`çš„ç®€å†™ï¼Œé»˜è®¤å€¼ä¸º`0 1 auto`ã€‚åä¸¤ä¸ªå±æ€§å¯é€‰ã€‚

> ```css
> .item {
>   flex: none | [ <'flex-grow'> <'flex-shrink'>? || <'flex-basis'> ]
> }
> ```

è¯¥å±æ€§æœ‰ä¸¤ä¸ªå¿«æ·å€¼ï¼š`auto` (`1 1 auto`) å’Œ none (`0 0 auto`)ã€‚

**flex: 1; === flex: 1 1 0;**

### **BFC**

BFC - Block Formatting Context å—çº§æ ¼å¼åŒ–ä¸Šä¸‹æ–‡

ä¸€ä¸ªBFCåŒºåŸŸåŒ…å«åˆ›å»ºè¯¥ä¸Šä¸‹æ–‡å…ƒç´ çš„æ‰€æœ‰å­å…ƒç´ ï¼Œä½†æ˜¯ä¸åŒ…æ‹¬åˆ›å»ºäº†æ–°çš„BFCçš„å­å…ƒç´ çš„å†…éƒ¨å…ƒç´ 

è§£å†³å¡Œé™·é—®é¢˜ï¼ˆmarginã€æµ®åŠ¨å¡Œé™·ï¼‰

100+100ä¸ç­‰äº200é—®é¢˜

â€‹		æŠŠå¡Œé™·åŒºåŸŸåˆ†å¼€æ”¾è¿›ä¸¤ä¸ªBFC



**BFCå¯ä»¥é˜»æ­¢æ ‡å‡†æµå…ƒç´ è¢«æµ®åŠ¨å…ƒç´ è¦†ç›–**

åˆ©ç”¨åˆ›å»ºä¸€ä¸ªæ–°çš„BFCæ¥æ¶ˆé™¤æµ®åŠ¨å¸¦æ¥çš„å½±å“

**è§¦å‘BFCçš„æ¡ä»¶**

â€‹		5+2

Â·bodyæ ¹å…ƒç´ 

Â·è®¾ç½®æµ®åŠ¨ï¼Œä¸åŒ…æ‹¬none

Â·è®¾ç½®å®šä½ï¼Œabsoulteæˆ–è€…fixed

Â·å¼¹æ€§å¸ƒå±€ï¼Œflex

Â·è®¾ç½®overflowï¼Œå³hiddenï¼Œautoï¼Œscroll



Â·è¡Œå†…å—æ˜¾ç¤ºæ¨¡å¼ï¼Œinline-block

Â·è¡¨æ ¼å•å…ƒæ ¼ï¼Œtable-cell





[BFCæ˜¯ä»€ä¹ˆï¼Ÿ10 åˆ†é’Ÿè®²é€BFC åŸç† (itcast.cn)](https://www.itcast.cn/news/20201016/16152387135.shtml)

[é¢è¯•å®˜ï¼šè°ˆè°ˆä½ å¯¹BFCçš„ç†è§£ï¼Ÿ Â· Issue #99 Â· febobo/web-interview Â· GitHub](https://github.com/febobo/web-interview/issues/99)



### ä¼ªç±»å’Œä¼ªå…ƒç´ 

ä¼ªç±»ï¼Œå•å†’å·ï¼Œè¡¨çŠ¶æ€ï¼ˆ:hoverã€activeã€visitedï¼‰

ï¼ˆè®°å¾—æœ‰ä¸€ç±»ç¬”è¯•é¢˜æ˜¯é—®ä½ ä¼ªç±»çš„æ‰§è¡Œé¡ºåºçš„ï¼‰

ä¼ªå…ƒç´ ï¼ŒåŒå†’å·ï¼Œæ˜¯çœŸçš„æœ‰å…ƒç´ ï¼ˆ`::before` ç”¨äºåœ¨é€‰ä¸­å…ƒç´ çš„å†…å®¹ä¹‹å‰æ’å…¥ç”Ÿæˆçš„å†…å®¹ï¼‰





### VUE`<Transition>` ç»„ä»¶åŠCSSåŠ¨ç”»

`<Transition>` 

ä¼šåœ¨ä¸€ä¸ªå…ƒç´ æˆ–ç»„ä»¶è¿›å…¥å’Œç¦»å¼€ DOM æ—¶åº”ç”¨åŠ¨ç”»ã€‚

æ˜¯ä¸€ä¸ªå†…ç½®ç»„ä»¶ï¼Œè¿™æ„å‘³ç€å®ƒåœ¨ä»»æ„åˆ«çš„ç»„ä»¶ä¸­éƒ½å¯ä»¥è¢«ä½¿ç”¨ï¼Œæ— éœ€æ³¨å†Œã€‚å®ƒå¯ä»¥å°†è¿›å…¥å’Œç¦»å¼€åŠ¨ç”»åº”ç”¨åˆ°é€šè¿‡é»˜è®¤æ’æ§½ä¼ é€’ç»™å®ƒçš„å…ƒç´ æˆ–ç»„ä»¶ä¸Šã€‚è¿›å…¥æˆ–ç¦»å¼€å¯ä»¥ç”±ä»¥ä¸‹çš„æ¡ä»¶ä¹‹ä¸€è§¦å‘ï¼š



1. `v-enter-active`ï¼šè¿›å…¥åŠ¨ç”»çš„ç”Ÿæ•ˆçŠ¶æ€ã€‚åº”ç”¨äºæ•´ä¸ªè¿›å…¥åŠ¨ç”»é˜¶æ®µã€‚åœ¨å…ƒç´ è¢«æ’å…¥ä¹‹å‰æ·»åŠ ï¼Œåœ¨è¿‡æ¸¡æˆ–åŠ¨ç”»å®Œæˆä¹‹åç§»é™¤ã€‚è¿™ä¸ª class å¯ä»¥è¢«ç”¨æ¥å®šä¹‰è¿›å…¥åŠ¨ç”»çš„æŒç»­æ—¶é—´ã€å»¶è¿Ÿä¸é€Ÿåº¦æ›²çº¿ç±»å‹ã€‚

2. æ¡ˆåˆ—

   ```
   /*
     è¿›å…¥å’Œç¦»å¼€åŠ¨ç”»å¯ä»¥ä½¿ç”¨ä¸åŒ
     æŒç»­æ—¶é—´å’Œé€Ÿåº¦æ›²çº¿ã€‚
   */
   .slide-fade-enter-active {
     transition: all 0.3s ease-out;
   }
   ```

   ...	...	...

```
.dialog-fade-enter-active {
 animation: dialog-fade-in 0.3s;
}

.dialog-fade-leave-active {
 animation: dialog-fade-out 0.3s;
}

@keyframes dialog-fade-in {
 0% {
  transform: translate3d(0, -20px, 0);
  opacity: 0;
 }
 100% {
  transform: translate3d(0, 0, 0);
  opacity: 1;
 }
}



@keyframes dialog-fade-out {

 0% {

  transform: translate3d(0, 0, 0);

  opacity: 1;

 }

 100% {

  transform: translate3d(0, -20px, 0);

  opacity: 0;

 }

}
```



##### CSS çš„ animation[](https://cn.vuejs.org/guide/built-ins/transition.html#css-animations)

[åŸç”Ÿ CSS åŠ¨ç”»](https://developer.mozilla.org/en-US/docs/Web/CSS/CSS_Animations/Using_CSS_animations)å’Œ CSS transition çš„åº”ç”¨æ–¹å¼åŸºæœ¬ä¸Šæ˜¯ç›¸åŒçš„ï¼Œåªæœ‰ä¸€ç‚¹ä¸åŒï¼Œé‚£å°±æ˜¯ `*-enter-from` ä¸æ˜¯åœ¨å…ƒç´ æ’å…¥åç«‹å³ç§»é™¤ï¼Œè€Œæ˜¯åœ¨ä¸€ä¸ª `animationend` äº‹ä»¶è§¦å‘æ—¶è¢«ç§»é™¤ã€‚

#### cssåŠ¨ç”»

å…³é”®å¸§

[ä½¿ç”¨ CSS åŠ¨ç”» - CSSï¼šå±‚å æ ·å¼è¡¨ | MDN (mozilla.org)](







































# JS

[FormData å¯¹è±¡çš„ä½¿ç”¨ - Web API æ¥å£å‚è€ƒ | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/API/FormData/Using_FormData_Objects)



## æ•°æ®ç±»å‹

æ ¹æ® JavaScript ä¸­çš„å˜é‡ç±»å‹ä¼ é€’æ–¹å¼ï¼Œåˆ†ä¸º**åŸºæœ¬æ•°æ®ç±»å‹**å’Œ**å¼•ç”¨æ•°æ®ç±»å‹**ä¸¤å¤§ç±»ä¸ƒç§ã€‚

 åŸºæœ¬æ•°æ®ç±»å‹å…­ç§ï¼Œ**Undefined**ã€**Null**ã€**Boolean**ã€**Number**ã€**String**ã€**Symbolï¼ˆES6æ–°å¢ï¼‰ **  

 ***å¼•ç”¨æ•°æ®ç±»å‹åªæœ‰*Objectä¸€ç§**ï¼Œä¸»è¦åŒ…æ‹¬å¯¹è±¡ã€æ•°ç»„å’Œå‡½æ•°

### åŸºæœ¬æ•°æ®ç±»å‹å’Œå¼•ç”¨æ•°æ®ç±»å‹æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿ

  ï¼ˆ1ï¼‰ä¸¤è€…ä½œä¸ºå‡½æ•°çš„å‚æ•°è¿›è¡Œä¼ é€’æ—¶ï¼š
     åŸºæœ¬æ•°æ®ç±»å‹**ä¼ å…¥çš„æ˜¯æ•°æ®çš„å‰¯æœ¬**ï¼ŒåŸæ•°æ®çš„æ›´æ”¹ä¸ä¼šå½±å“ä¼ å…¥åçš„æ•°æ®ã€‚
     å¼•ç”¨æ•°æ®ç±»å‹**ä¼ å…¥çš„æ˜¯æ•°æ®çš„å¼•ç”¨åœ°å€**ï¼ŒåŸæ•°æ®çš„æ›´æ”¹ä¼šå½±å“ä¼ å…¥åçš„æ•°æ®ã€‚
   ï¼ˆ2ï¼‰ä¸¤è€…åœ¨å†…å­˜ä¸­çš„å­˜å‚¨ä½ç½®ï¼š
     åŸºæœ¬æ•°æ®ç±»å‹**å­˜å‚¨åœ¨æ ˆä¸­**ã€‚
     å¼•ç”¨æ•°æ®ç±»å‹åœ¨**æ ˆä¸­å­˜å‚¨äº†æŒ‡é’ˆ**ï¼Œè¯¥æŒ‡é’ˆæŒ‡å‘çš„**æ•°æ®å®ä½“å­˜å‚¨åœ¨å †ä¸­**ã€‚



**typeof**å°±æ˜¯åˆ¤æ–­æ•°æ®ç±»å‹çš„

null ä¹Ÿæ˜¯object	ï¼Ÿ





**`instanceof`** **è¿ç®—ç¬¦**ç”¨äºæ£€æµ‹æ„é€ å‡½æ•°çš„ `prototype` å±æ€§æ˜¯å¦å‡ºç°åœ¨æŸä¸ªå®ä¾‹å¯¹è±¡çš„åŸå‹é“¾ä¸Šã€‚





é“¾æ¥ï¼šhttps://juejin.cn/post/6913022820691738631



## éšå¼è½¬æ¢ 

åŠ æ³•è½¬æ¢è§„åˆ™ï¼šç”±é«˜åˆ°ä½

- å½“ä¸€ä¾§ä¸º`String`ç±»å‹ï¼Œè¢«è¯†åˆ«ä¸ºå­—ç¬¦ä¸²æ‹¼æ¥ï¼Œå¹¶ä¼šä¼˜å…ˆå°†å¦ä¸€ä¾§è½¬æ¢ä¸ºå­—ç¬¦ä¸²ç±»å‹ã€‚
- å½“ä¸€ä¾§ä¸º`Number`ç±»å‹ï¼Œå¦ä¸€ä¾§ä¸ºåŸå§‹ç±»å‹ï¼Œåˆ™å°†åŸå§‹ç±»å‹è½¬æ¢ä¸º`Number`ç±»å‹ã€‚
- å½“ä¸€ä¾§ä¸º`Number`ç±»å‹ï¼Œå¦ä¸€ä¾§ä¸ºå¼•ç”¨ç±»å‹ï¼Œå°†å¼•ç”¨ç±»å‹å’Œ`Number`ç±»å‹è½¬æ¢æˆå­—ç¬¦ä¸²åæ‹¼æ¥ã€‚



this.pieDataTotal += +element

+element  ç›¸å½“äº 0+elementï¼Œç±»å‹è½¬åŒ–ï¼šå¦‚æœelementæ˜¯string é‚£ä¹ˆä¼šè¢«è½¬è¯ä¸ºæ•°å­—ç±»å‹



  åœ¨ JS ä¸­ï¼Œåªæœ‰ 0ï¼Œ-0ï¼ŒNaNï¼Œ""ï¼Œnullï¼Œundefined è¿™å…­ä¸ªå€¼è½¬å¸ƒå°”å€¼æ—¶ï¼Œç»“æœä¸º falseï¼Œ



åªæœ‰ `null` `undefined` `''` `NaN` `0` `false` è¿™å‡ ä¸ªæ˜¯ `false`

{}ï¼Œ[]ä¸ºtrue



### ä½¿ç”¨ == æ¯”è¾ƒä¸­çš„5æ¡è§„åˆ™

â­ï¸æ ¹æ® `==` ä¸¤ä¾§çš„æ•°æ®ç±»å‹ï¼Œæˆ‘ä»¬æ€»ç»“å‡º 5 æ¡è§„åˆ™ï¼š

- è§„åˆ™ 1ï¼š`NaN`å’Œå…¶ä»–ä»»ä½•ç±»å‹æ¯”è¾ƒæ°¸è¿œè¿”å›`false`ï¼ˆåŒ…æ‹¬å’Œä»–è‡ªå·±ï¼‰ã€‚

```javascript
NaN == NaN // false
```

- è§„åˆ™ 2ï¼šBoolean å’Œå…¶ä»–ä»»ä½•ç±»å‹æ¯”è¾ƒï¼ŒBoolean é¦–å…ˆè¢«è½¬æ¢ä¸º Number ç±»å‹ã€‚

```javascript
true == 1  // true 
true == '2'  // false, å…ˆæŠŠ true å˜æˆ 1ï¼Œè€Œä¸æ˜¯æŠŠ '2' å˜æˆ true
true == ['1']  // true, å…ˆæŠŠ true å˜æˆ 1ï¼Œ ['1']æ‹†ç®±æˆ '1', å†å‚è€ƒè§„åˆ™3
true == ['2']  // false, åŒä¸Š
undefined == false // false ï¼Œé¦–å…ˆ false å˜æˆ 0ï¼Œç„¶åå‚è€ƒè§„åˆ™4
null == false // falseï¼ŒåŒä¸Š
```

- è§„åˆ™ 3ï¼š`String`å’Œ`Number`æ¯”è¾ƒï¼Œå…ˆå°†`String`è½¬æ¢ä¸º`Number`ç±»å‹ã€‚

```javascript
123 == '123' // true, '123' ä¼šå…ˆå˜æˆ 123
'' == 0 // true, '' ä¼šé¦–å…ˆå˜æˆ 0
```

- è§„åˆ™ 4ï¼š`null == undefined`æ¯”è¾ƒç»“æœæ˜¯`true`ï¼Œé™¤æ­¤ä¹‹å¤–ï¼Œ`null`ã€`undefined`å’Œå…¶ä»–ä»»ä½•ç»“æœçš„æ¯”è¾ƒå€¼éƒ½ä¸º`false`ã€‚

- è§„åˆ™ 5ï¼š`åŸå§‹ç±»å‹`å’Œ`å¼•ç”¨ç±»å‹`åšæ¯”è¾ƒæ—¶ï¼Œå¼•ç”¨ç±»å‹ä¼šä¾ç…§`ToPrimitive`è§„åˆ™è½¬æ¢ä¸ºåŸå§‹ç±»å‹ã€‚

[JavaScript éšå¼ç±»å‹è½¬æ¢ï¼Œä¸€ç¯‡å°±å¤Ÿäº†ï¼ (freecodecamp.org)](https://www.freecodecamp.org/chinese/news/javascript-implicit-type-conversion/)



[] == ![] ä¸º true

=> [] == false

=>[]==0

=>''==0



## ==ã€===

#### ç­‰äºæ“ä½œç¬¦

- ä¸¤ä¸ªéƒ½ä¸ºç®€å•ç±»å‹ï¼Œå­—ç¬¦ä¸²å’Œå¸ƒå°”å€¼éƒ½ä¼šè½¬æ¢æˆæ•°å€¼ï¼Œå†æ¯”è¾ƒ
- ç®€å•ç±»å‹ä¸å¼•ç”¨ç±»å‹æ¯”è¾ƒï¼Œå¯¹è±¡è½¬åŒ–æˆå…¶åŸå§‹ç±»å‹çš„å€¼ï¼Œå†æ¯”è¾ƒ
- ä¸¤ä¸ªéƒ½ä¸ºå¼•ç”¨ç±»å‹ï¼Œåˆ™æ¯”è¾ƒå®ƒä»¬æ˜¯å¦æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡
- null å’Œ undefined ç›¸ç­‰
- å­˜åœ¨ NaN åˆ™è¿”å› false

#### å…¨ç­‰æ“ä½œç¬¦

å…¨ç­‰æ“ä½œç¬¦ç”± 3 ä¸ªç­‰äºå·ï¼ˆ === ï¼‰è¡¨ç¤ºï¼Œåªæœ‰ä¸¤ä¸ªæ“ä½œæ•°åœ¨ä¸è½¬æ¢çš„å‰æä¸‹ç›¸ç­‰æ‰è¿”å› `true`ã€‚å³ç±»å‹ç›¸åŒï¼Œå€¼ä¹Ÿéœ€ç›¸åŒ

ç›¸ç­‰æ“ä½œç¬¦ï¼ˆ==ï¼‰ä¼šåšç±»å‹è½¬æ¢ï¼Œå†è¿›è¡Œå€¼çš„æ¯”è¾ƒï¼Œå…¨ç­‰è¿ç®—ç¬¦ä¸ä¼šåšç±»å‹è½¬æ¢



### æ·±æµ…æ‹·è´

å‡ºç°åŸå› ï¼šåŸºæœ¬ç±»å‹æ•°æ®ä¿å­˜åœ¨åœ¨æ ˆå†…å­˜ä¸­ï¼Œå¼•ç”¨ç±»å‹æ•°æ®ä¿å­˜åœ¨å †å†…å­˜ä¸­ï¼Œå¼•ç”¨æ•°æ®ç±»å‹çš„å˜é‡æ˜¯ä¸€ä¸ªæŒ‡å‘å †å†…å­˜ä¸­å®é™…å¯¹è±¡çš„å¼•ç”¨ï¼Œå­˜åœ¨æ ˆä¸­

#### æµ…

##### Object.assign

```js
const target = { a: 1, b: 2 };
const source = { b: 4, c: 5 };

const returnedTarget = Object.assign(target, source);

console.log(target);
// Expected output: Object { a: 1, b: 4, c: 5 }

console.log(returnedTarget === target);
// Expected output: true				
```

æ„Ÿè§‰å’Œæ‹“å±•è¿ç®—ç¬¦å·®ä¸å¤š

**ç›®æ ‡å¯¹è±¡åªæœ‰ä¸€å±‚çš„æ—¶å€™ï¼Œæ˜¯æ·±æ‹·è´ï¼›**

æ·±æ‹·è´å°±æ˜¯åœ¨æ‹·è´æ•°æ®çš„æ—¶å€™ï¼Œå°†æ•°æ®çš„æ‰€æœ‰å¼•ç”¨ç»“æ„éƒ½æ‹·è´ä¸€ä»½

#### æ·±

æ·±æ‹·è´å¼€è¾Ÿä¸€ä¸ªæ–°çš„æ ˆï¼Œä¸¤ä¸ªå¯¹è±¡å±å®Œæˆç›¸åŒï¼Œä½†æ˜¯å¯¹åº”ä¸¤ä¸ªä¸åŒçš„åœ°å€ï¼Œä¿®æ”¹ä¸€ä¸ªå¯¹è±¡çš„å±æ€§ï¼Œä¸ä¼šæ”¹å˜å¦ä¸€ä¸ªå¯¹è±¡çš„å±æ€§



## Array

slice(start,end)

å·¦é—­å³å¼€	ï¼ˆåŒ…æ‹¬ `start`ï¼Œä¸åŒ…æ‹¬ `end`ï¼‰

è´Ÿå·è¡¨ç¤ºå€’æ•°







## filter

â€‹    // filter() æ–¹æ³•ï¼Œè¿‡æ»¤è§„åˆ™æ˜¯returnçš„å†…å®¹

â€‹    // ç¬¬â¼€ä¸ªå‚æ•°æ˜¯â¾¥â¾¯çš„å…ƒç´ ,ç¬¬â¼†ä¸ªå‚æ•°ä¸ºå…ƒç´ ç´¢å¼•å€¼,ç¬¬ä¸‰ä¸ªå‚æ•°ä¸ºæ•°ç»„æœ¬â¾

```js
  =  this.recordFileList = list.filter((item: any) => item.fileName && item.fileLink)

â€‹    const temp = list.filter((e: any) => e.meetingProcess) 

â€‹    this.meetingRecordList = temp.reduce((pre: any, cur: any) => {

â€‹     // debugger

â€‹     if (!pre.includes(cur.meetingProcess)) pre.push(cur.meetingProcess)

â€‹     return pre

â€‹    }, [])


```





## JSå¾ªç¯å¤§æ€»ç»“ï¼Œ for, forEachï¼Œfor inï¼Œfor of, map

[ä»for in å’Œfor ofçš„åŒºåˆ«å¹åˆ°async await - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7241838768016605244?searchId=2023073108420003A71227E1225F90FD36#heading-0)







```js
  async getUserList() {
    const res = await getUserList()
    const userList = res.data || []
    this.userOptions = Object.entries(userList).reduce((pre, [name, children]) => {
      pre.push({ userName: name, children, userId: guid() })
      return pre
    }, [] as any)
    console.log(this.userOptions)
  }
```





### for  inï¼ˆå¤§éƒ¨åˆ†ç”¨äºå¯¹è±¡ï¼‰

jså‡ºç°å°±æœ‰äº†

**éå†å¯¹è±¡é”®å€¼(keyï¼Œåªæœ‰è¿™ä¸€ä¸ªå‚æ•°),æˆ–è€…æ•°ç»„ä¸‹æ ‡,ä¸æ¨èå¾ªç¯ä¸€ä¸ªæ•°ç»„**

**`for...in`** **è¯­å¥**ä»¥ä»»æ„é¡ºåºè¿­ä»£ä¸€ä¸ªå¯¹è±¡çš„**é™¤[Symbol](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Symbol)ä»¥å¤–çš„[å¯æšä¸¾](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Enumerability_and_ownership_of_properties)å±æ€§**ï¼ŒåŒ…æ‹¬ç»§æ‰¿çš„å¯æšä¸¾å±æ€§ã€‚

`for ... in`æ˜¯**ä¸ºéå†å¯¹è±¡å±æ€§è€Œæ„å»º**çš„ï¼Œä¸å»ºè®®ä¸æ•°ç»„ä¸€èµ·ä½¿ç”¨ï¼ˆå› ä¸ºä¼šæŠŠåŸå‹é“¾ä¸Šçš„ä¸œè¥¿ä¹Ÿéå†ä¸Šå»ï¼‰ï¼Œæ•°ç»„å¯ä»¥ç”¨`Array.prototype.forEach()`å’Œ`for ... of`ï¼Œ

é‚£ä¹ˆ`for ... in`çš„åˆ°åº•æœ‰ä»€ä¹ˆç”¨å‘¢ï¼Ÿ





ä½†æˆ‘å®é™…æ“ä½œæ—¶å‘ç°æ˜¯ä¸èƒ½å¯¹**æ•°ç»„**æ“ä½œçš„

**å¤‡æ³¨ï¼š** `for...in`ä¸åº”è¯¥ç”¨äºè¿­ä»£ä¸€ä¸ªå…³æ³¨ç´¢å¼•é¡ºåºçš„ [`Array`](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Array)ã€‚

ï¼ˆå› ä¸ºä½¿ç”¨`for in`ä¼šéå†æ•°ç»„æ‰€æœ‰çš„å¯æšä¸¾å±æ€§ï¼ŒåŒ…æ‹¬åŸå‹ï¼‰

```
for (variable in object)
  statement
  
  
variable
åœ¨æ¯æ¬¡è¿­ä»£æ—¶ï¼Œvariable ä¼šè¢«èµ‹å€¼ä¸ºä¸åŒçš„å±æ€§åã€‚

object
é Symbol ç±»å‹çš„å¯æšä¸¾å±æ€§è¢«è¿­ä»£çš„å¯¹è±¡ã€‚
```



### for...ofï¼ˆä¸èƒ½éå†å¯¹è±¡ï¼‰

es6ä¸­çš„ï¼Œ**éå†çš„åªæ˜¯æ•°ç»„å†…çš„å…ƒç´ ï¼ˆåŠ []ä¸º[i,v]ï¼‰**ï¼Œä¸åŒ…æ‹¬åŸå‹å±æ€§å’Œç´¢å¼•,å…è®¸éå† Arraysï¼ˆæ•°ç»„ï¼‰, Stringsï¼ˆå­—ç¬¦ä¸²ï¼‰, Mapsï¼ˆæ˜ å°„ï¼‰, Setsï¼ˆé›†åˆï¼‰ç­‰å¯è¿­ä»£çš„æ•°æ®ç»“æ„ç­‰.åœ¨ ES6 ä¸­å¼•å…¥çš„ for of å¾ªç¯ï¼Œä»¥æ›¿ä»£ for in å’Œ forEach() ï¼Œå¹¶æ”¯æŒæ–°çš„è¿­ä»£åè®®ã€‚



ç”±æ¥ï¼š

â€‹	for...in è™½ç„¶æ˜¯ç»™å¯¹è±¡ç”¨çš„ï¼Œä½†å®ƒå¯ä»¥ç»™æ•°ç»„ç”¨å—ï¼ˆå¯ä»¥ï¼‰

for...of  å¯ä»¥éå†å¯¹è±¡å—ï¼Œä¸è¡Œï¼Œä¸ºä»€ä¹ˆï¼Œå¼•å‡ºæ¥

â€‹	es6å¯è¿­ä»£å¯¹è±¡



#### ä¸¤è€…åŒºåˆ«

`for in` ç”¨äºéå†å¯¹è±¡çš„é”®(`key`)ï¼Œ`for in`ä¼šéå†æ‰€æœ‰è‡ªèº«çš„å’Œ[åŸå‹é“¾](https://www.zhihu.com/search?q=åŸå‹é“¾&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A3138833697})ä¸Šçš„å¯æšä¸¾å±æ€§ã€‚å¦‚æœæ˜¯æ•°ç»„ï¼Œfor inä¼šå°†æ•°ç»„çš„ç´¢å¼•(index)å½“åšå¯¹è±¡çš„keyæ¥éå†ï¼Œå…¶ä»–çš„objectä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚  `for of`æ˜¯`es6`å¼•å…¥çš„è¯­æ³•ï¼Œç”¨äºéå† æ‰€æœ‰[è¿­ä»£å™¨](https://www.zhihu.com/search?q=è¿­ä»£å™¨&search_source=Entity&hybrid_search_source=Entity&hybrid_search_extra={"sourceType"%3A"answer"%2C"sourceId"%3A3138833697})iteratorï¼Œå…¶ä¸­åŒ…æ‹¬`HTMLCollection`,`NodeList`,`Array`ï¼Œ`Map`ï¼Œ`Set`ï¼Œ`String`ï¼Œ`TypedArray`ï¼Œ`arguments`ç­‰å¯¹è±¡çš„å€¼(`item`)ã€‚

é“¾æ¥ï¼šhttps://www.zhihu.com/question/573766083/answer/3138833697




`for of`é€‚ç”¨éå†æ•°/æ•°ç»„å¯¹è±¡/å­—ç¬¦ä¸²/`map`/`set`ç­‰æ‹¥æœ‰è¿­ä»£å™¨å¯¹è±¡ï¼ˆ`iterator`ï¼‰çš„é›†åˆï¼Œä½†æ˜¯ä¸èƒ½éå†å¯¹è±¡ï¼Œå› ä¸ºæ²¡æœ‰è¿­ä»£å™¨å¯¹è±¡ï¼Œä½†å¦‚æœæƒ³éå†å¯¹è±¡çš„å±æ€§ï¼Œä½ å¯ä»¥ç”¨`for in`å¾ªç¯ï¼ˆè¿™ä¹Ÿæ˜¯å®ƒçš„æœ¬èŒå·¥ä½œï¼‰æˆ–ç”¨å†…å»ºçš„`Object.keys()`æ–¹æ³•



[for...in - JavaScript | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Statements/for...in)



[Object.prototype.hasOwnProperty() - JavaScript | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/hasOwnProperty)







[JS filterã€mapã€reduceç­‰åä¸‰ç§éå†æ•°ç»„æ–¹æ³•è¯¦ç»†æ€»ç»“ğŸ”¥ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7241875961130745911?searchId=20230728165000E73BF392152FF8C4C330#heading-2)

æ•°ç»„å½’å¹¶æ–¹æ³•reduce()å’ŒreduceRight()ã€‚ä¸¤ä¸ªæ–¹æ³•éƒ½ä¼šè¿­ä»£æ•°ç»„çš„æ‰€æœ‰é¡¹ï¼Œç„¶åæ„å»ºä¸€ä¸ªæœ€ç»ˆè¿”å›çš„å€¼ã€‚reduce()æ–¹æ³•ä»æ•°ç»„çš„ç¬¬ä¸€é¡¹å¼€å§‹ï¼Œé€ä¸ªéå†åˆ°æœ€åï¼ŒreduceRight()ä»æ•°ç»„çš„æœ€åä¸€é¡¹å¼€å§‹ï¼Œå‘å‰éå†åˆ°ç¬¬ä¸€é¡¹



### æ•°ç»„è¿­ä»£æ–¹æ³•

- forEachæ˜¯å¯¹æ•°ç»„çš„æ¯ä¸€ä¸ªå…ƒç´ æ‰§è¡Œä¸€æ¬¡ç»™å®šçš„å‡½æ•°ã€‚
- mapæ˜¯åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„,è¯¥æ–°æ•°ç»„ç”±åŸæ•°ç»„çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°è¿”å›çš„å€¼ã€‚

##### forEach()

åªèƒ½å¯¹æ•°ç»„ä½¿ç”¨

å¯¹æ•°ç»„æ¯ä¸€é¡¹éƒ½è¿è¡Œä¼ å…¥çš„å‡½æ•°ï¼Œæ²¡æœ‰è¿”å›å€¼

```
let numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1];
numbers.forEach((item, index, array) => {
    // æ‰§è¡ŒæŸäº›æ“ä½œ
});

arr[index] = item
```

```js
.forEach((item, index) => {
```



##### map()

**`map()`** æ–¹æ³•**åˆ›å»ºä¸€ä¸ªæ–°æ•°ç»„**ï¼Œè¿™ä¸ªæ–°æ•°ç»„ç”±åŸæ•°ç»„ä¸­çš„æ¯ä¸ªå…ƒç´ éƒ½è°ƒç”¨ä¸€æ¬¡æä¾›çš„å‡½æ•°åçš„è¿”å›å€¼ç»„æˆã€‚

```
let numbers = [1, 2, 3, 4, 5, 4, 3, 2, 1];
let mapResult = numbers.map((item, index, array) => item * 2);
console.log(mapResult) // 2,4,6,8,10,8,6,4,2
```



`keys()`æ˜¯å¯¹é”®åçš„éå†ã€`values()`æ˜¯å¯¹é”®å€¼çš„éå†ï¼Œ`entries()`æ˜¯å¯¹é”®å€¼å¯¹çš„éå†

```
or (let index of ['a', 'b'].keys()) {
  console.log(index);
}
// 0
// 1

for (let elem of ['a', 'b'].values()) {
  console.log(elem);
}
// 'a'
// 'b'

for (let [index, elem] of ['a', 'b'].entries()) {
  console.log(index, elem);
}
// 0 "a"
```

åœ¨è¿™æ”¾ä¸€èµ·æ€»ç»“

å¯¹è±¡çš„è¿™äº›æ–¹æ³•ä¹Ÿæ˜¯ä¸€æ ·çš„,å†™æˆè¿™æ ·--Object.entriesï¼ˆobjï¼‰



### reduce

å¯¹æ•°ç»„ç´¯è®¡æ“ä½œ

æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå‡½æ•°ä½œä¸ºç´¯åŠ å™¨ï¼Œæ•°ç»„ä¸­çš„æ¯ä¸ªå€¼ï¼ˆä»å·¦åˆ°å³ï¼‰å¼€å§‹ç¼©å‡ï¼Œæœ€ç»ˆè®¡ç®—ä¸ºä¸€ä¸ªå€¼ã€‚

#### è¯­æ³•

```
array.reduce(function(total, currentValue, currentIndex, arr), initialValue)
```

#### å‚æ•°

| å‚æ•°                                      | æè¿°                               |
| :---------------------------------------- | :--------------------------------- |
| *function(total,currentValue, index,arr)* | å¿…éœ€ã€‚ç”¨äºæ‰§è¡Œæ¯ä¸ªæ•°ç»„å…ƒç´ çš„å‡½æ•°ã€‚ |
| *initialValue*                            | å¯é€‰ã€‚ä¼ é€’ç»™å‡½æ•°çš„åˆå§‹å€¼           |

function

| å‚æ•°           | æè¿°                                     |
| :------------- | :--------------------------------------- |
| *total*        | å¿…éœ€ã€‚*åˆå§‹å€¼*, æˆ–è€…è®¡ç®—ç»“æŸåçš„è¿”å›å€¼ã€‚ |
| *currentValue* | å¿…éœ€ã€‚å½“å‰å…ƒç´                            |
| *currentIndex* | å¯é€‰ã€‚å½“å‰å…ƒç´ çš„ç´¢å¼•                     |
| *arr*          | å¯é€‰ã€‚å½“å‰å…ƒç´ æ‰€å±çš„æ•°ç»„å¯¹è±¡ã€‚           |

è¿™é‡Œè¯´çš„åˆå§‹å€¼initå°±æ˜¯æ–¹æ³•é€—å·åé¢çš„é‚£ä¸ªåˆå§‹å€¼*initialValue*

 preï¼ˆtotalï¼‰ï¼šä¸Šä¸€æ¬¡è°ƒç”¨ callbackFn æ—¶çš„è¿”å›å€¼ã€‚åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œè‹¥æŒ‡å®šäº†åˆå§‹å€¼ initï¼Œå…¶å€¼åˆ™ä¸º initï¼Œå¦åˆ™ä¸ºæ•°ç»„ç´¢å¼•ä¸º 0 çš„å…ƒç´  arr[0]ã€‚

curï¼šæ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ ã€‚åœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ—¶ï¼Œè‹¥æŒ‡å®šäº†åˆå§‹å€¼ initï¼Œå…¶å€¼åˆ™ä¸ºæ•°ç»„ç´¢å¼•ä¸º 0 çš„å…ƒç´  arr[0]ï¼Œå¦åˆ™ä¸º arr[1]ã€‚
 indexï¼šæ•°ç»„ä¸­æ­£åœ¨å¤„ç†çš„å…ƒç´ çš„ç´¢å¼•ã€‚è‹¥æŒ‡å®šäº†åˆå§‹å€¼ initï¼Œåˆ™èµ·å§‹ç´¢å¼•å·ä¸º 0ï¼Œå¦åˆ™ä»ç´¢å¼• 1 èµ·å§‹ã€‚
 arrï¼šç”¨äºéå†çš„æ•°ç»„ã€‚

https://blog.csdn.net/qq_52855464/article/details/126004138

[JS filterã€mapã€reduceç­‰åä¸‰ç§éå†æ•°ç»„æ–¹æ³•è¯¦ç»†æ€»ç»“ğŸ”¥ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7241875961130745911?searchId=20230728165000E73BF392152FF8C4C330#heading-2)







### å¯¹è±¡

`for...of` è¯­å¥ç”¨äºéå†å¯è¿­ä»£å¯¹è±¡	(ä¹Ÿèƒ½å¯¹æ•°ç»„ç”¨å§)

```
// è¿­ä»£æ˜ å°„å¯¹è±¡
const map = new Map([["name", "John"], ["age", 30]]); 
for (const [key, value] of map) { 
    console.log(key, value); 
}
// name John
// age 30
```

è¿™ä¸ªåšå®¢å†™çš„çœŸåƒåœ¾





## thisæŒ‡å‘

[JavaScriptä¸­thisæŒ‡å‘è¯¦ç»†åˆ†æ(è¯‘) - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/431472497)

ç®­å¤´å‡½æ•° this ä¼šæŒ‡å‘å®ƒæ‰€å®šä¹‰çš„åœ°æ–¹ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨ä¸€äº›æ¡†æ¶ï¼Œæ¯”å¦‚ Vueã€å°ç¨‹åºï¼Œåœ¨å®šä¹‰é’©å­å‡½æ•°æˆ–è€…å±æ€§æ–¹æ³•çš„æ—¶å€™åƒä¸‡ä¸èƒ½ç”¨ç®­å¤´å‡½æ•°ã€‚

```javascript
export default {
    data() {
        return {
            a: 1,
        };
    },
    methods: {
        test: () => {
            console.log(this.a)
        },
    },
};export default {
    data() {
        return {
            a: 1,
        };
    },
    methods: {
        test: () => {
            console.log(this.a)
        },
    },
};
```

test æ–¹æ³•ä¸­æ˜¯æ— æ³•è®¿é—®åˆ° a å±æ€§çš„ï¼Œå°ç¨‹åºä¸­å®šä¹‰å‡½æ•°çš„æ—¶å€™ä¹Ÿæ˜¯åŒç†ã€‚







ç±»é‡Œé¢çš„ this æŒ‡å‘é—®é¢˜ã€‚
constructor é‡Œé¢çš„ this æŒ‡å‘å®ä¾‹å¯¹è±¡, æ–¹æ³•é‡Œé¢çš„ this æŒ‡å‘è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨è€…ã€‚





é»˜è®¤

åœ¨å‡½æ•°é‡Œé¢ç”¨thisï¼Œthiså¯¹è±¡å°±æ˜¯windowå¯¹è±¡ï¼Œ

ä¸¥æ ¼æ¨¡å¼ä¸‹ï¼Œä¸èƒ½å°†å…¨å±€å¯¹è±¡ç”¨äºé»˜è®¤ç»‘å®š

éšå¼

å¯¹è±¡æ–¹æ³•é‡Œç”¨thisï¼ŒthisæŒ‡å‘çš„æ˜¯**ä¸Šä¸€çº§å¯¹è±¡**

åªä¼šæ˜¯ä¸Šä¸€çº§

new

æ„å»ºå‡½æ•°`new`å…³é”®å­—ç”Ÿæˆä¸€ä¸ªå®ä¾‹å¯¹è±¡ï¼Œæ­¤æ—¶`this`æŒ‡å‘è¿™ä¸ªå®ä¾‹å¯¹è±¡

new returnæ˜¯å¯¹è±¡ï¼Œçš„`this`æŒ‡å‘ä¸ºè¿”å›çš„å¯¹è±¡

æ™®é€šçš„ä¸ä¼šè¿”å›

æ˜¾å¼

apply()ã€call()ã€bind()

ç®­å¤´å‡½æ•°





## staic



é™æ€æ–¹æ³•æ˜¯ä½¿ç”¨ static å…³é”®å­—ä¿®é¥°çš„æ–¹æ³•ï¼Œåˆå«ç±»æ–¹æ³•ï¼Œå±äºç±»çš„ï¼Œä½†ä¸å±äºå¯¹è±¡ï¼Œåœ¨å®ä¾‹åŒ–å¯¹è±¡ä¹‹å‰å¯ä»¥é€šè¿‡ **ç±»å.æ–¹æ³•å** è°ƒç”¨é™æ€æ–¹æ³•ã€‚ï¼ˆå°±è·ŸArray.isArrayçš„é“ç†ä¸€æ ·å—ï¼‰

é™æ€æ–¹æ³•ä¸èƒ½åœ¨å¯¹è±¡ä¸Šè°ƒç”¨ï¼Œåªèƒ½åœ¨ç±»ä¸­è°ƒç”¨ã€‚

- #### `static` ä½¿ç”¨æ–¹æ³•æ€»ç»“

  - ### é™æ€æ–¹æ³• åº”è¯¥åœ¨ æ²¡æœ‰å®ä¾‹åŒ–çš„æ—¶å€™è°ƒç”¨

  - ### åè€Œè¨€ä¹‹ï¼šé™æ€æ–¹æ³•ä¸èƒ½åœ¨ç±»çš„å®ä¾‹ä¸­ä½¿ç”¨



[JavaScript static å…³é”®å­—æ˜¯å¹²å˜›çš„ï¼Ÿ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6940556583482949663)



## äº‹ä»¶å¾ªç¯event loop

æ˜¯JavaScriptå¼•æ“ä¸­æ¥ç®¡ç†å¼‚æ­¥æ“ä½œçš„æœºåˆ¶ã€‚å®ƒä½¿å¾—JavaScriptèƒ½å¤Ÿå¤„ç†éé˜»å¡çš„I/Oæ“ä½œå’Œå…¶ä»–å¼‚æ­¥ä»»åŠ¡ï¼Œä»¥ä¿æŒç¨‹åºçš„å“åº”æ€§

ä»–çš„æ ¸å¿ƒæ€æƒ³å°±æ˜¯å°†ä»»åŠ¡åˆ†æˆåŒæ­¥ä»»åŠ¡å’Œå¼‚æ­¥ä»»åŠ¡ä¸¤å¤§ç±»ï¼Œ

æ‰€æœ‰åŒæ­¥ä»»åŠ¡éƒ½åœ¨ä¸»çº¿ç¨‹ä¸Šæ‰§è¡Œ,å½¢æˆä¸€ä¸ªæŠ€æœ¯æ ˆ(execution context stack)ã€‚

ä¸»çº¿ç¨‹ä¹‹å¤–,è¿˜å­˜åœ¨ä¸€ä¸ª"ä»»åŠ¡é˜Ÿåˆ—"(task queue)ã€‚åªè¦å¼‚æ­¥ä»»åŠ¡æœ‰äº†è¿è¡Œç»“æœ,å°±åœ¨"ä»»åŠ¡é˜Ÿåˆ—"ä¸­æ”¾ç½®ä¸€ä¸ªäº‹ä»¶ã€‚

å®ƒå¾ªç¯çš„å…·ä½“æ­¥éª¤å°±æ˜¯ï¼š

å…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡ç›´åˆ°å…¨éƒ¨å®Œæˆï¼Œå½“ä¸»çº¿ç¨‹ä¸­çš„ä»»åŠ¡è¿è¡Œå®Œäº†ï¼Œæ‰ä¼šä»â€ä»»åŠ¡é˜Ÿåˆ—â€å–å‡ºå¼‚æ­¥ä»»åŠ¡æ”¾å…¥ä¸»çº¿ç¨‹æ‰§è¡Œï¼Œ

ç„¶åå–å¼‚æ­¥ä»»åŠ¡ä¹Ÿä¼šæ ¹æ®å®å¾®ä»»åŠ¡çš„è§„åˆ™å»å–ï¼Œè§„åˆ™å°±æ˜¯å¾®ä»»åŠ¡å¯ä»¥æ’é˜Ÿï¼Œä¼šä¼˜å…ˆæ‰§è¡Œå¾®ä»»åŠ¡ï¼Œç„¶åå¦‚æœæ‰§è¡Œå®Œä¸€ä¸ªå®ä»»åŠ¡æ—¶ï¼Œå¦‚æœä»»åŠ¡é˜Ÿåˆ—é‡Œæœ‰å¾®ä»»åŠ¡ï¼Œå®ƒå¯ä»¥ç«‹é©¬æ’é˜Ÿæ’è¿›å»

ä¸»çº¿ç¨‹ä¸æ–­é‡å¤ä¸Šé¢çš„ç¬¬ä¸‰æ­¥ã€‚
é“¾æ¥ï¼šhttps://juejin.cn/post/7048512716180291615

## jså¼‚æ­¥çš„å®å¾®ä»»åŠ¡

å¾®ä»»åŠ¡ï¼šPromise å›è°ƒå‡½æ•°ï¼ˆPromise.then()ï¼‰ï¼ˆPromiseæœ¬èº«æ˜¯åŒæ­¥ä»»åŠ¡ï¼‰ï¼Œå®ä»»åŠ¡ï¼šsetTimeout å›è°ƒå‡½æ•°

é¡¹ç›®å¼€å‘ä¸­ï¼Œé‡åˆ°äº†å®šæ—¶å™¨å›è°ƒå‡½æ•°å®šæ—¶ä¸º0ä¹Ÿèƒ½è¾¾åˆ°æ•ˆæœï¼Œè¾¾åˆ°é¡µé¢æ•°æ®è¯·æ±‚å®Œæ•´ï¼ŒæˆåŠŸæ¸²æŸ“ï¼ˆé¡¹ç›®ä¸­çš„åº”ç”¨å°±æ˜¯å¼€æ–°é¡µé¢å‰è¯·æ±‚æ•°æ®åœ¨å®šæ—¶å™¨ä¸­è¯·æ±‚ï¼‰

[jså®ä»»åŠ¡å’Œå¾®ä»»åŠ¡æ‰§è¡Œé¡ºåºè¯¦è§£ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7219689062449446971)

`js` åœ¨ä¸»çº¿ç¨‹ä¸­æ‰§è¡Œçš„é¡ºåºï¼šå®ä»»åŠ¡ -> å®ä»»åŠ¡ -> å®ä»»åŠ¡ ...

å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡åœ¨ä¸€ä¸ªæ‰§è¡Œæ ˆä¸­æ‰§è¡Œï¼Œå®ƒä»¬éƒ½ä¼šåœ¨é‡Œé¢æ’é˜Ÿç­‰å¾…æ‰§è¡Œï¼Œä½†å®ä»»åŠ¡çš„ä¼˜å…ˆçº§æ˜¯01ï¼Œå¾®æ˜¯10ï¼ˆ**å¾®çš„æ›´é«˜**ï¼‰ï¼Œæ‰€ä»¥æœ‰å¾®ä»»åŠ¡å°±ä¼šåœ¨å½“å‰å®ä»»åŠ¡æ‰§è¡Œå®Œåå°±æ‰§è¡Œ

ï¼ˆå¾®ä»»åŠ¡èƒ½æ’é˜Ÿï¼Œå½“ä¸€ä¸ªå®ä»»åŠ¡å¤„ç†å®Œåï¼Œå°±è¦å¤„ç†è¿˜æœ‰çš„å¾®ä»»åŠ¡ï¼Œå¤„ç†å®Œæ‰€æœ‰çš„å¾®åæ‰èƒ½å¤„ç†ä¸‹ä¸€ä¸ªå®ï¼‰

åœ¨æ¯ä¸€ä¸ªå®ä»»åŠ¡ä¸­åˆå¯ä»¥äº§ç”Ÿå¾®ä»»åŠ¡ï¼Œå½“å¾®ä»»åŠ¡å…¨éƒ¨æ‰§è¡Œç»“æŸåæ‰§è¡Œä¸‹ä¸€ä¸ªå®ä»»åŠ¡ã€‚ ã€å®ä»»åŠ¡ [å¾®ä»»åŠ¡]ã€‘ -> ã€å®ä»»åŠ¡ [å¾®ä»»åŠ¡]ã€‘-> ã€å®ä»»åŠ¡ [å¾®ä»»åŠ¡]ã€‘

1. å…ˆæ‰§è¡ŒåŒæ­¥å’Œç«‹å³æ‰§è¡Œä»»åŠ¡ï¼Œæ¯”å¦‚è¯´`console.log()ã€new Promise()`

2. å†ä¾æ¬¡æ‰§è¡Œå¾®ä»»åŠ¡ï¼Œæ¯”å¦‚è¯´`thenable`å‡½æ•°å’Œ`catchable`å‡½æ•°

3. å½“å¾®ä»»åŠ¡æ‰§è¡Œå®Œæˆåå¼€å§‹æ‰§è¡Œå®ä»»åŠ¡ï¼Œæ¯”å¦‚è¯´`å®šæ—¶å™¨ã€äº‹ä»¶å›è°ƒ`ç­‰

   await`å‘½ä»¤å°±æ˜¯å†…éƒ¨`then`å‘½ä»¤çš„è¯­æ³•ç³–ï¼Œè€Œthenæ˜¯å’±ä»¬å†™çš„äº‹ä»¶å›è°ƒå‡½æ•°ï¼Œå°±ä¸¢åˆ°å¾®ä»»åŠ¡é‡Œäº†

   [(190æ¡æ¶ˆæ¯) å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡çš„ä¸€é“ç»å…¸é¢è¯•é¢˜~_ä¸äºŒåšå®¢çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_39157944/article/details/105157472)



[(190æ¡æ¶ˆæ¯) æ‰§è¡Œæ ˆ åŒæ­¥ä»»åŠ¡ å¼‚æ­¥ä»»åŠ¡ å®ä»»åŠ¡ å¾®ä»»åŠ¡ æ€»ç»“ï¼ˆå«é¢è¯•è®²è§£ï¼‰_å­Ÿç« ä¸¶çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_56119039/article/details/131781228?spm=1001.2014.3001.5501)

```JavaScript
async function method() {
  await method2();
  console.log(1)
}

function method2() {
  const promise = new Promise((resolve) => {setTimeout(() => resolve(), 0)});
  return promise;
}

function main() {
  method()
  console.log(2)
}

main()
```

2,1

å¾®ä»»åŠ¡ä¸æ˜¯ç«‹å³æ‰§è¡Œçš„----- method2()è¢«è°ƒç”¨é£æ”¾è¿›å¾®ä»»åŠ¡é‡Œï¼Œç„¶åè¿”å›å›æ¥å°±æ‰§è¡Œconsole.log(2)äº†

[JSäº‹ä»¶å¾ªç¯æœºåˆ¶ï¼ˆevent loopï¼‰ä¹‹å®ä»»åŠ¡/å¾®ä»»åŠ¡ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6844903638238756878?searchId=20230717202441B6AAD292375E5C34690A#comment)







```js
const t1 = new Date()
setTimeout(() => {
 Â  Â const t3 = new Date()
 Â  Â console.log('setTimeout block')
 Â  Â console.log('t3 - t1 =', t3 - t1)
}, 100)
â€‹
â€‹
let t2 = new Date()
â€‹
while (t2 - t1 < 200) {
 Â  Â t2 = new Date()
}
â€‹
console.log('end here')

```

è¾“å‡ºç­”æ¡ˆæ˜¯ `200`ã€‚

æ•´ä¸ªè„šæœ¬æ˜¯ç¬¬ä¸€ä¸ªå®ä»»åŠ¡ã€‚è®¡æ—¶å™¨ç”Ÿæˆäº†ç¬¬äºŒä¸ªå®ä»»åŠ¡ã€‚åªæœ‰ç¬¬ä¸€ä¸ªå®ä»»åŠ¡æ‰§è¡Œç»“æŸåæ‰ä¼šæ‰§è¡Œç¬¬äºŒä¸ªå®ä»»åŠ¡ã€‚





[JavaScriptä¸­thisæŒ‡å‘è¯¦ç»†åˆ†æ(è¯‘) - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/431472497)

ç®­å¤´å‡½æ•° this ä¼šæŒ‡å‘å®ƒæ‰€å®šä¹‰çš„åœ°æ–¹ï¼Œå› æ­¤å¦‚æœæˆ‘ä»¬åœ¨ä½¿ç”¨ä¸€äº›æ¡†æ¶ï¼Œæ¯”å¦‚ Vueã€å°ç¨‹åºï¼Œåœ¨å®šä¹‰é’©å­å‡½æ•°æˆ–è€…å±æ€§æ–¹æ³•çš„æ—¶å€™åƒä¸‡ä¸èƒ½ç”¨ç®­å¤´å‡½æ•°ã€‚

```javascript
export default {
    data() {
        return {
            a: 1,
        };
    },
    methods: {
        test: () => {
            console.log(this.a)
        },
    },
};export default {
    data() {
        return {
            a: 1,
        };
    },
    methods: {
        test: () => {
            console.log(this.a)
        },
    },
};
```

test æ–¹æ³•ä¸­æ˜¯æ— æ³•è®¿é—®åˆ° a å±æ€§çš„ï¼Œå°ç¨‹åºä¸­å®šä¹‰å‡½æ•°çš„æ—¶å€™ä¹Ÿæ˜¯åŒç†ã€‚









åªæœ‰`async`å‡½æ•°å†…éƒ¨çš„å¼‚æ­¥æ“ä½œæ‰§è¡Œå®Œï¼Œæ‰ä¼šæ‰§è¡Œ`then`æ–¹æ³•æŒ‡å®šçš„å›è°ƒå‡½æ•°ã€‚



**é¢˜ç›®åœ¨åšå®¢ä¸­**

è¿‡ä¸€éæ‰§è¡Œæ ˆï¼Œå…ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡

console.log("åŒæ­¥ä»»åŠ¡1");

workFun()

```
console.log("åŒæ­¥ä»»åŠ¡2");
    if (mac) {
        console.log(mac);
    }
    return new Promise((resolve, reject) => {
        console.log("Promiseä¸­çš„åŒæ­¥ä»»åŠ¡");
        resolve("Promiseä¸­å›è°ƒçš„å¼‚æ­¥å¾®ä»»åŠ¡")
    })

```

console.log("åŒæ­¥ä»»åŠ¡3")



æ’å¥½äº†ä¸è¿›å…¥ä¸»çº¿ç¨‹çš„å¼‚æ­¥ä»»åŠ¡

```
å®ä»»åŠ¡ï¼šsetTimeoutï¼Œ then(res => {    console.log(res); })

å¾®ä»»åŠ¡ï¼šworkFun()é‡ŒåµŒå¥—å¾®ä»»åŠ¡---- resolve("Promiseä¸­å›è°ƒçš„å¼‚æ­¥å¾®ä»»åŠ¡")

```



å…ˆæ‰§è¡Œæ‰€æœ‰åŒæ­¥ä»»åŠ¡ï¼Œäº§ç”Ÿç»“æœï¼š

 console.log("Promiseä¸­çš„åŒæ­¥ä»»åŠ¡")ä¸ºä»€ä¹ˆä¼šå…ˆæ‰§è¡Œï¼Œ----è¿™æ˜¯promiseçš„

è€Œresolve("Promiseä¸­å›è°ƒçš„å¼‚æ­¥å¾®ä»»åŠ¡")æ²¡æ‰§è¡Œ--è¿˜åœ¨æ‰§è¡ŒåŒæ­¥å‡½æ•°ï¼Œè¿™æ˜¯ä¸ªå¼‚æ­¥

```
åŒæ­¥ä»»åŠ¡1 
ï¼ˆæ‰§è¡ŒåŒæ­¥ä»»åŠ¡workFunå‡½æ•°ï¼‰
åŒæ­¥ä»»åŠ¡2
Promiseä¸­çš„åŒæ­¥ä»»åŠ¡
åŒæ­¥ä»»åŠ¡3
```



æ‰§è¡Œå®ŒåŒæ­¥ä»»åŠ¡ï¼Œå¼€å§‹å¼‚æ­¥ä»»åŠ¡ï¼Œæ‰§è¡Œå½“å‰æ‰€æœ‰å¾®ä»»åŠ¡ï¼Œäº§ç”Ÿç»“æœï¼š

```
Promiseä¸­å›è°ƒçš„å¼‚æ­¥å¾®ä»»åŠ¡
```



æ‰§è¡Œæ’å¥½é˜Ÿçš„å®ä»»åŠ¡ï¼Œä¹Ÿå°±æ˜¯

setTimeout

 then(res => {    console.log(res); })



æ‰§è¡Œå…ˆå‰æ’é˜Ÿçš„setTimeoutï¼Œä¾æ¬¡æ‰§è¡Œé‡Œé¢çš„åŒæ­¥ä»»åŠ¡

```
console.log("å¼‚æ­¥ä»»åŠ¡ä¸­çš„å®ä»»åŠ¡");
workFun("å®šæ—¶å™¨ä¼ é€’ä»»åŠ¡")
```

åˆæ’äº†ä¸¤ä¸ªå®ä»»åŠ¡ï¼Œ

```
setTimeout(() => {        console.log("å®šæ—¶å™¨ä¸­çš„å®šæ—¶å™¨ï¼ˆå®ä»»åŠ¡ï¼‰");     }, 

console.log("å¼‚æ­¥ä»»åŠ¡ä¸­çš„å®ä»»åŠ¡");
```

æ­¤æ—¶å®ä»»åŠ¡ï¼š

.then(res => {        console.log('å®šæ—¶å™¨ä¸­çš„:', res);    })

setTimeout(() => {        console.log("å®šæ—¶å™¨ä¸­çš„å®šæ—¶å™¨ï¼ˆå®ä»»åŠ¡ï¼‰");     }, 



äº§ç”Ÿç»“æœï¼š

```
å¼‚æ­¥ä»»åŠ¡ä¸­çš„å®ä»»åŠ¡
åŒæ­¥ä»»åŠ¡2
å®šæ—¶å™¨ä¼ é€’ä»»åŠ¡
```



æ‰§è¡ŒworkFuné‡Œçš„åŒæ­¥ä»»åŠ¡åï¼Œæ‰§è¡ŒworkFuné‡Œçš„å¾®ä»»åŠ¡

äº§ç”Ÿç»“æœï¼š

```
Promiseä¸­çš„åŒæ­¥ä»»åŠ¡
```



ç»§ç»­æ‰§è¡Œå®ä»»åŠ¡ï¼š

1. 

   ```
    workFun("å®šæ—¶å™¨ä¼ é€’ä»»åŠ¡").then(res => {        console.log('å®šæ—¶å™¨ä¸­çš„:', res);    })
   ```

2. ```
   setTimeout(() => {        console.log("å®šæ—¶å™¨ä¸­çš„å®šæ—¶å™¨ï¼ˆå®ä»»åŠ¡ï¼‰");     }, 0)
   ```

   



äº§ç”Ÿç»“æœï¼š.then(res => {        console.log('å®šæ—¶å™¨ä¸­çš„:', res);    })

```
å®šæ—¶å™¨ä¸­çš„: Promiseä¸­å›è°ƒçš„å¼‚æ­¥å¾®ä»»åŠ¡
å®šæ—¶å™¨ä¸­çš„å®šæ—¶å™¨ï¼ˆå®ä»»åŠ¡ï¼‰
```







## Blob	

[JavaScriptä¸­çš„Blobä½ çŸ¥é“å¤šå°‘ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/500199997)

**ä¸€ã€Blob æ˜¯ä»€ä¹ˆ**

Blobï¼ˆBinary Large Objectï¼‰è¡¨ç¤ºäºŒè¿›åˆ¶ç±»å‹çš„å¤§å¯¹è±¡ã€‚åœ¨æ•°æ®åº“ç®¡ç†ç³»ç»Ÿä¸­ï¼Œå°†äºŒè¿›åˆ¶æ•°æ®å­˜å‚¨ä¸ºä¸€ä¸ªå•ä¸€ä¸ªä½“çš„é›†åˆã€‚Blob é€šå¸¸æ˜¯å½±åƒã€å£°éŸ³æˆ–å¤šåª’ä½“æ–‡ä»¶ã€‚**åœ¨ [JavaScript](https://link.zhihu.com/?target=http%3A//caibaojian.com/t/javascript) ä¸­ Blob ç±»å‹çš„å¯¹è±¡è¡¨ç¤ºä¸å¯å˜çš„ç±»ä¼¼æ–‡ä»¶å¯¹è±¡çš„åŸå§‹æ•°æ®ã€‚**



### **2.2 å±æ€§**

å‰é¢æˆ‘ä»¬å·²ç»çŸ¥é“ Blob å¯¹è±¡åŒ…å«ä¸¤ä¸ªå±æ€§ï¼š[Â·](https://link.zhihu.com/?target=http%3A//caibaojian.com/blob.html)

- sizeï¼ˆåªè¯»ï¼‰ï¼šè¡¨ç¤º `Blob` å¯¹è±¡ä¸­æ‰€åŒ…å«æ•°æ®çš„å¤§å°ï¼ˆä»¥å­—èŠ‚ä¸ºå•ä½ï¼‰ã€‚
- typeï¼ˆåªè¯»ï¼‰ï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œè¡¨æ˜è¯¥ `Blob` å¯¹è±¡æ‰€åŒ…å«æ•°æ®çš„ MIME ç±»å‹ã€‚å¦‚æœç±»å‹æœªçŸ¥ï¼Œåˆ™è¯¥å€¼ä¸ºç©ºå­—ç¬¦ä¸²ã€‚

### **2.3 æ–¹æ³•**

- slice([start[, end[, contentType]]])ï¼šè¿”å›ä¸€ä¸ªæ–°çš„ Blob å¯¹è±¡ï¼ŒåŒ…å«äº†æº Blob å¯¹è±¡ä¸­æŒ‡å®šèŒƒå›´å†…çš„æ•°æ®ã€‚
- stream()ï¼šè¿”å›ä¸€ä¸ªèƒ½è¯»å– blob å†…å®¹çš„ `ReadableStream`ã€‚
- text()ï¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ä¸”åŒ…å« blob æ‰€æœ‰å†…å®¹çš„ UTF-8 æ ¼å¼çš„ `USVString`ã€‚
- arrayBuffer()ï¼šè¿”å›ä¸€ä¸ª Promise å¯¹è±¡ä¸”åŒ…å« blob æ‰€æœ‰å†…å®¹çš„äºŒè¿›åˆ¶æ ¼å¼çš„ `ArrayBuffer`ã€‚

è¿™é‡Œæˆ‘ä»¬éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œ**`Blob` å¯¹è±¡æ˜¯ä¸å¯æ”¹å˜çš„**ã€‚æˆ‘ä»¬ä¸èƒ½ç›´æ¥åœ¨ä¸€ä¸ª Blob ä¸­æ›´æ”¹æ•°æ®ï¼Œä½†æ˜¯æˆ‘ä»¬å¯ä»¥å¯¹ä¸€ä¸ª Blob è¿›è¡Œåˆ†å‰²ï¼Œä»å…¶ä¸­åˆ›å»ºæ–°çš„ Blob å¯¹è±¡ï¼Œå°†å®ƒä»¬æ··åˆåˆ°ä¸€ä¸ªæ–°çš„ Blob ä¸­ã€‚è¿™ç§è¡Œä¸ºç±»ä¼¼äº JavaScript å­—ç¬¦ä¸²ï¼šæˆ‘ä»¬æ— æ³•æ›´æ”¹å­—ç¬¦ä¸²ä¸­çš„å­—ç¬¦ï¼Œä½†å¯ä»¥åˆ›å»ºæ–°çš„æ›´æ­£åçš„å­—ç¬¦ä¸²ã€‚



### **ä¸‰ã€Blob ä½¿ç”¨åœºæ™¯**

### **3.1 åˆ†ç‰‡ä¸Šä¼ **

File å¯¹è±¡æ˜¯ç‰¹æ®Šç±»å‹çš„ Blobï¼Œä¸”å¯ä»¥ç”¨åœ¨ä»»æ„çš„ Blob ç±»å‹çš„ä¸Šä¸‹æ–‡ä¸­ã€‚æ‰€ä»¥é’ˆå¯¹å¤§æ–‡ä»¶ä¼ è¾“çš„åœºæ™¯ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨ slice æ–¹æ³•å¯¹å¤§æ–‡ä»¶è¿›è¡Œåˆ‡å‰²ï¼Œç„¶ååˆ†ç‰‡è¿›è¡Œä¸Šä¼ ï¼Œå…·ä½“ç¤ºä¾‹å¦‚ä¸‹

### **3.2 ä»äº’è”ç½‘ä¸‹è½½æ•°æ®**

æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹æ–¹æ³•ä»äº’è”ç½‘ä¸Šä¸‹è½½æ•°æ®å¹¶å°†æ•°æ®å­˜å‚¨åˆ° Blob å¯¹è±¡ä¸­ï¼Œ

### **3.3 Blob ç”¨ä½œ URL**

Blob å¯ä»¥å¾ˆå®¹æ˜“çš„ä½œä¸º `<a>`ã€`<img>` æˆ–å…¶ä»–æ ‡ç­¾çš„ URLï¼Œå¤šäºäº† `type` å±æ€§ï¼Œæˆ‘ä»¬ä¹Ÿå¯ä»¥ä¸Šä¼ /ä¸‹è½½ `Blob` å¯¹è±¡ã€‚ä¸‹é¢æˆ‘ä»¬å°†ä¸¾ä¸€ä¸ª Blob æ–‡ä»¶ä¸‹è½½çš„ç¤ºä¾‹ï¼Œä¸è¿‡åœ¨çœ‹å…·ä½“ç¤ºä¾‹å‰æˆ‘ä»¬å¾—ç®€å•ä»‹ç»ä¸€ä¸‹ Blob URLã€‚

**1.Blob URL/Object URL**

Blob URL/Object URL æ˜¯ä¸€ç§ä¼ªåè®®ï¼Œå…è®¸ Blob å’Œ File å¯¹è±¡ç”¨ä½œå›¾åƒï¼Œä¸‹è½½äºŒè¿›åˆ¶æ•°æ®é“¾æ¥ç­‰çš„ URL æºã€‚åœ¨æµè§ˆå™¨ä¸­ï¼Œæˆ‘ä»¬ä½¿ç”¨ `URL.createObjectURL` æ–¹æ³•æ¥åˆ›å»º Blob URLï¼Œè¯¥æ–¹æ³•æ¥æ”¶ä¸€ä¸ª `Blob` å¯¹è±¡ï¼Œå¹¶ä¸ºå…¶åˆ›å»ºä¸€ä¸ªå”¯ä¸€çš„ URLï¼Œå…¶å½¢å¼ä¸º `blob:<origin>/<uuid>`ï¼Œå¯¹åº”çš„ç¤ºä¾‹å¦‚ä¸‹ï¼š

blob:https://example.org/40a5fb5a-d56d-4a33-b4e2-0acf6a8e5f641

æµè§ˆå™¨å†…éƒ¨ä¸ºæ¯ä¸ªé€šè¿‡ `URL.createObjectURL` ç”Ÿæˆçš„ URL å­˜å‚¨äº†ä¸€ä¸ª URL â†’ Blob æ˜ å°„ã€‚å› æ­¤ï¼Œæ­¤ç±» URL è¾ƒçŸ­ï¼Œä½†å¯ä»¥è®¿é—® `Blob`ã€‚ç”Ÿæˆçš„ URL ä»…åœ¨å½“å‰æ–‡æ¡£æ‰“å¼€çš„çŠ¶æ€ä¸‹æ‰æœ‰æ•ˆã€‚å®ƒå…è®¸å¼•ç”¨ `<img>`ã€`<a>` ä¸­çš„ `Blob`ï¼Œä½†å¦‚æœä½ è®¿é—®çš„ Blob URL ä¸å†å­˜åœ¨ï¼Œåˆ™ä¼šä»æµè§ˆå™¨ä¸­æ”¶åˆ° 404 é”™è¯¯ã€‚[Â·](https://link.zhihu.com/?target=http%3A//caibaojian.com/blob.html)

ä¸Šè¿°çš„ Blob URL çœ‹ä¼¼å¾ˆä¸é”™ï¼Œä½†å®é™…ä¸Šå®ƒä¹Ÿæœ‰å‰¯ä½œç”¨ã€‚è™½ç„¶å­˜å‚¨äº† URL â†’ Blob çš„æ˜ å°„ï¼Œä½† Blob æœ¬èº«ä»é©»ç•™åœ¨å†…å­˜ä¸­ï¼Œæµè§ˆå™¨æ— æ³•é‡Šæ”¾å®ƒã€‚æ˜ å°„åœ¨æ–‡æ¡£å¸è½½æ—¶è‡ªåŠ¨æ¸…é™¤ï¼Œå› æ­¤ Blob å¯¹è±¡éšåè¢«é‡Šæ”¾ã€‚

ä½†æ˜¯ï¼Œå¦‚æœåº”ç”¨ç¨‹åºå¯¿å‘½å¾ˆé•¿ï¼Œé‚£ä¸ä¼šå¾ˆå¿«å‘ç”Ÿã€‚å› æ­¤ï¼Œå¦‚æœæˆ‘ä»¬åˆ›å»ºä¸€ä¸ª Blob URLï¼Œå³ä½¿ä¸å†éœ€è¦è¯¥ Blobï¼Œå®ƒä¹Ÿä¼šå­˜åœ¨å†…å­˜ä¸­ã€‚

é’ˆå¯¹è¿™ä¸ªé—®é¢˜ï¼Œæˆ‘ä»¬å¯ä»¥è°ƒç”¨ `URL.revokeObjectURL(url)` æ–¹æ³•ï¼Œä»å†…éƒ¨æ˜ å°„ä¸­åˆ é™¤å¼•ç”¨ï¼Œä»è€Œå…è®¸åˆ é™¤ Blobï¼ˆå¦‚æœæ²¡æœ‰å…¶ä»–å¼•ç”¨ï¼‰ï¼Œå¹¶é‡Šæ”¾å†…å­˜ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥çœ‹ä¸€ä¸‹ Blob æ–‡ä»¶ä¸‹è½½çš„å…·ä½“ç¤ºä¾‹ã€‚





## é˜²æŠ–èŠ‚æµ

é˜²æŠ–ï¼šæœç´¢æ è”æƒ³è¯	ï¼ˆåªè¦æœ€åä¸€æ¬¡ï¼Ÿï¼‰

èŠ‚æµï¼šæŠ€èƒ½å†·å´ä¸­		ï¼ˆåªè¦ç¬¬ä¸€æ¬¡ï¼Ÿï¼‰



é˜²æŠ–

é—­åŒ…å­˜å®šæ—¶å™¨ï¼Œreturn function

å­˜thisï¼Œè°ƒç”¨æ–¹æ³•æ—¶applyè¦ç”¨ä¸Šçš„



æ¯æ¬¡è°ƒç”¨æ—¶ï¼Œå¦‚æœæœ‰å®šæ—¶å™¨åœ¨ï¼Œå°±é‡æ–°è®¡æ—¶

```js
if (timer) clearTimeout(timer)
timer = setTimeout(O => [fn.apply(contextï¼Œargs)}ï¼Œwait)
```





èŠ‚æµ

```js
function thorttled(fn,delay){
  let timer = null
  let startTime = Data.now()
  return function(){
    let that = this
    let curTime = Data.now()
    let remaining = delay - (curTime -startTime)
    clearTimeout(timer)
    
    if(remaining<=0){
      fn.apply(that,arguments)
      startTime = Data.now()
    }
    else{
      timer = setTimeout(fn,remaining)
    }
  }
}
```





## ç¼–ç¨‹æŠ€å·§

å•ä¸ªçš„æ¡ä»¶åˆ¤æ–­ä»ifå˜æˆ&&è¿ç®—

```js
  conditions.length && (query.conditions = conditions)
```





å¤šä¸ªçš„æˆ–è¿ç®—ç”¨includes()





# ES6

[å˜é‡çš„è§£æ„èµ‹å€¼ - ECMAScript 6å…¥é—¨ (ruanyifeng.com)](https://es6.ruanyifeng.com/#docs/destructuring)

https://blog.csdn.net/weixin_44566194/article/details/127568441?ops_request_misc=%257B%2522request%255Fid%2522%253A%2522168791277616782427483738%2522%252C%2522scm%2522%253A%252220140713.130102334..%2522%257D&request_id=168791277616782427483738&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~sobaiduend~default-1-127568441-null-null.142^v88^control,239^v2^insert_chatgpt&utm_term=%E9%BB%91%E9%A9%ACes6&spm=1018.2226.3001.4187



### æ•°ç»„å»é‡

```js
const newNums = nums.filter((n, i) => {
    // å…¶å®å°±æ˜¯å–ç¬¬ä¸€ä¸ªå€¼ ï¼Œiæ˜¯ä¼ è¿›æ¥çš„å€¼ï¼ŒindexOfçš„æ˜¯æ‰¾çš„å€¼ï¼ŒæŠŠç¬¬ä¸€ä¸ªå€¼ç­›å‡ºæ¥å°±å»é‡äº†
    return nums.indexOf(n) === i
})
```

è¿™æ ·ä¹Ÿèƒ½å»é‡ç®€å•æ•°ç»„ï¼ŒindexOfä¼šæ‰¾å…ƒç´ ç¬¬ä¸€æ¬¡å‡ºç°çš„ç´¢å¼•ï¼Œåé¢æœ‰ç›¸åŒçš„å…ƒç´ è¢«éå†åˆ°æ—¶ã€‚ç´¢å¼•ä¹Ÿæ˜¯åŒä¸€ä¸ªï¼Œç„¶åå°±ä¸æ»¡è¶³æ¡ä»¶äº†



å¯¹è±¡æ•°ç»„ä¸èƒ½å•å•ä½¿ç”¨includes

æœ€å¥½æ˜¯ç”¨Setï¼Œæ•°ç»„mapæ–¹æ³•

const c = [{a: 1},{b:1},{a: 1},{b:1}]



temp = c.map(t=>JSON.stringify(t))

![image-20230830150257575](%E6%95%B4%E7%90%86.assets/image-20230830150257575.png)

const d = [...new Set(temp)]					å…¨è½¬æˆå­—ç¬¦ä¸²äº†ï¼Œç”¨Setå»é‡

![image-20230830150329278](%E6%95%B4%E7%90%86.assets/image-20230830150329278.png)

d.map(s=>JSON.parse(s))								å†æŠŠå®ƒä»¬ä»jsonå½¢å¼çš„å­—ç¬¦ä¸²è½¬å›æ¥

![image-20230830150454440](%E6%95%B4%E7%90%86.assets/image-20230830150454440.png)

[(183æ¡æ¶ˆæ¯) JSæ•°ç»„å¯¹è±¡ä½¿ç”¨new Set() å¿«é€Ÿå»é‡ - æˆ´å‘å¤©_js new set()_æˆ´å‘å¤©çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_41088946/article/details/118915409)

### var let ç»å…¸é¢è¯•é¢˜





æ–¹æ³•çš„ä½œç”¨åŸŸæ˜¯å•ç‹¬çš„ï¼Œç­‰å¾ªç¯ç»“æŸæ‰æ‰§è¡Œï¼Ÿ

**é¢„è§£æ**æ˜¯åœ¨ç¨‹åºæ‰§è¡Œä¹‹å‰ï¼Œä¼šè¿›è¡Œä¸€éé¢„æ£€ã€‚æŸ¥æ‰¾å½“å‰**ä½œç”¨åŸŸ**å†…ç”± `function` å’Œ `var` ã€‚å¹¶ä¸”æ¯æ¬¡æ›´æ¢ä½œç”¨åŸŸéƒ½ä¼šåœ¨æ­¤ä½œç”¨åŸŸä¸­æ‰§è¡Œ**é¢„è§£æ**

**å˜é‡æå‡**æ˜¯æŒ‡ï¼Œåœ¨æŸ¥æ‰¾åˆ°ç”± `function` å’Œ `var` åï¼Œé¦–å…ˆåœ¨å½“å‰ä½œç”¨åŸŸçš„é¡¶ç«¯å®šä¹‰å¥½å¹¶èµ‹ç»™é»˜è®¤å€¼ã€‚`var`çš„é»˜è®¤å€¼ä¸º `undefined`ï¼Œ `function`çš„é»˜è®¤å€¼ä¸º**å‡½æ•°æœ¬èº«**

é¢„è§£æå’Œå˜é‡æå‡çš„è¿‡ç¨‹ä¸­ï¼Œå¹¶ä¸ä¼šå°†å˜é‡èµ‹å€¼ï¼Œè€Œåªæ˜¯å®šä¹‰

æ–¹æ³•ä¼˜å…ˆçº§æ¯”varé«˜

å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡å’Œå¾ªç¯é‡Œçš„æ–¹æ³•è°ƒç”¨é¡ºåºæœ‰ä»€ä¹ˆå…³è”å—ï¼ˆleté¢è¯•é¢˜ï¼‰

å¹¶æ²¡æœ‰ï¼Œå°±åªæ˜¯å˜é‡æå‡

![image-20230703203656810](%E6%95%B4%E7%90%86.assets/image-20230703203656810.png)

ä»£ç æ„æ€ï¼šå¾ªç¯ç»™arrèµ‹å€¼ï¼Œåœ¨å¾ªç¯ç»“æŸåè°ƒç”¨è®©ä»–ä»¬å»æ‰¾i

æ¢æˆlet æ¯ä¸ªéƒ½æ˜¯ä¸åŒçš„ï¼Œéƒ½æœ‰è‡ªå·±çš„å—çº§ä½œç”¨åŸŸ

varæ—¶ï¼Œå‡½æ•°æ‰§è¡Œæ—¶å¾ªç¯å·²ç»ç»“æŸäº†ï¼Œæ‰€ä»¥iéƒ½æ˜¯2ï¼Œæ–¹æ³•å‘ä¸ŠæŸ¥æ‰¾ä½œç”¨åŸŸï¼Œä¸Šçº§æ˜¯å…¨å±€å·¦å³åŸŸï¼Œ

è€Œletæ—¶ï¼Œæ–¹æ³•å‘ä¸ŠæŸ¥æ‰¾ä½œç”¨åŸŸï¼Œæ‰¾åˆ°çš„æ˜¯å¾ªç¯äº§ç”Ÿçš„å—çº§ä½œç”¨åŸŸï¼Œ

[å½»åº•å¼„æ‡‚JavaScriptä½œç”¨åŸŸé—®é¢˜ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/161398465)



### å®ç°æ¯éš”ä¸€ç§’æ‰“å° 1,2,3,4

```javascript
javascriptå¤åˆ¶ä»£ç // ä½¿ç”¨é—­åŒ…å®ç°
for (var i = 0; i < 5; i++) {
  (function(i) {
    setTimeout(function() {
      console.log(i);
    }, i * 1000);
  })(i);
}
// ä½¿ç”¨ let å—çº§ä½œç”¨åŸŸ
for (let i = 0; i < 5; i++) {
  setTimeout(function() {
    console.log(i);
  }, i * 1000);
}
```


é“¾æ¥ï¼šhttps://juejin.cn/post/6946136940164939813



### ä½¿ç”¨ç±»æ³¨æ„äº‹é¡¹

ä¸‰ä¸ªæ³¨æ„ç‚¹ï¼š

åœ¨ ES6 ä¸­ç±»æ²¡æœ‰å˜é‡æå‡ï¼Œæ‰€ä»¥å¿…é¡»å…ˆå®šä¹‰ç±»ï¼Œæ‰èƒ½é€šè¿‡ç±»å®ä¾‹åŒ–å¯¹è±¡ã€‚
ç±»é‡Œé¢çš„å…±æœ‰å±æ€§å’Œæ–¹æ³•ä¸€å®šè¦åŠ  this ä½¿ç”¨ã€‚
ç±»é‡Œé¢çš„ this æŒ‡å‘é—®é¢˜ã€‚
constructor é‡Œé¢çš„ this æŒ‡å‘å®ä¾‹å¯¹è±¡, æ–¹æ³•é‡Œé¢çš„ this æŒ‡å‘è¿™ä¸ªæ–¹æ³•çš„è°ƒç”¨è€…ã€‚



### **æ„é€ å‡½æ•°**

- **é™æ€æˆå‘˜**ï¼šåœ¨æ„é€ å‡½æ•°æœ¬ä¸Šæ·»åŠ çš„æˆå‘˜ç§°ä¸ºé™æ€æˆå‘˜ï¼Œåªèƒ½ç”±æ„é€ å‡½æ•°æœ¬èº«æ¥è®¿é—®ã€‚

- **å®ä¾‹æˆå‘˜**ï¼šåœ¨æ„é€ å‡½æ•°å†…éƒ¨åˆ›å»ºçš„å¯¹è±¡æˆå‘˜ç§°ä¸ºå®ä¾‹æˆå‘˜ï¼Œåªèƒ½ç”±å®ä¾‹åŒ–çš„å¯¹è±¡æ¥è®¿é—®ã€‚

  é™æ€æˆå‘˜æœ‰å•¥ç”¨ï¼Œå°±æ˜¯å’±ä»¬ç”¨çš„åƒArray.fromçš„è¿™æ ·ç›´æ¥ç”¨çš„æ–¹æ³•



### åŸå‹

å¼•å…¥ä¸€ä¸‹ï¼Œä¸ºä»€ä¹ˆå£°æ˜çš„å¯¹è±¡å˜é‡å¯ä»¥ç”¨valueOfå®ä¾‹æ–¹æ³•ï¼Œå°±æ˜¯å› ä¸ºæˆ‘ä»¬è¿™ä¸ªå¯¹è±¡é€šè¿‡åŸå‹é“¾å»æ‰¾åˆ°äº†Objectä¸Šçš„valueOfæ–¹æ³•

å®ƒæ€ä¹ˆå»æ‰¾çš„å‘¢ï¼Œå°±æ˜¯é€šè¿‡__proto å±æ€§æŒ‡å‘åŸå‹å¯¹è±¡prototypeä¸Šæ‰¾çš„

è€ŒåŸå‹é“¾å°±æ˜¯æŒ‡__protoå°†å¯¹è±¡å’ŒåŸå‹è¿æ¥èµ·æ¥ç»„æˆçš„è¿™ä¸ªé“¾å‹çš„ç»“æ„





**åŸå‹é“¾**

åŸå‹é“¾å°±æ˜¯å¤šä¸ªå¯¹è±¡é€šè¿‡ __proto__ çš„æ–¹å¼è¿æ¥äº†èµ·æ¥

æ¯ä¸ªå‡½æ•°éƒ½æœ‰ prototype å±æ€§ï¼Œ é™¤äº† Function.prototype.bindO ï¼Œè¯¥å±æ€§æŒ‡å‘åŸå‹ã€‚æ¯ä¸ªå¯¹è±¡éƒ½æœ‰____proto____ å±æ€§ï¼ŒæŒ‡å‘äº†åˆ›å»ºè¯¥å¯¹è±¡çš„æ„é€ å‡½æ•°çš„åŸå‹ ã€‚å…¶å®è¿™ä¸ªå±æ€§æŒ‡å‘äº† [[prototype]]ï¼Œä½†æ˜¯ [[prototype]] æ˜¯å†…éƒ¨å±æ€§ï¼Œ æˆ‘ä»¬å¹¶ä¸èƒ½è®¿é—®åˆ°ï¼Œæ‰€ä»¥ä½¿ç”¨ _proto_ æ¥è®¿é—®ã€‚

å¯¹è±¡å¯ä»¥é€šè¿‡ __proto__ æ¥å¯»æ‰¾ä¸å±äºè¯¥å¯¹è±¡çš„å±æ€§,_proto_ å°†å¯¹è±¡è¿æ¥èµ·æ¥ç»„æˆäº†åŸå‹é“¾



å¯¹è±¡åŸå‹ __proto__ 

æ„é€ å‡½æ•°åŸå‹ prototype 

å°±æ˜¯è¯´ç”¨ prototype æ„é€ ï¼Œç„¶åæ‹¿____proto__ å»æ‹¿å»ç”¨ï¼Ÿå°±æ˜¯ä¸‹å‘å’Œå‘ä¸ŠæŸ¥æ‰¾æœºåˆ¶çš„åŒºåˆ«å’¯ï¼Ÿ

- __proto__å¯¹è±¡åŸå‹çš„æ„ä¹‰å°±åœ¨äºä¸ºå¯¹è±¡çš„æŸ¥æ‰¾æœºåˆ¶æä¾›ä¸€ä¸ªæ–¹å‘ï¼Œæˆ–è€…è¯´ä¸€æ¡è·¯çº¿ï¼Œä½†æ˜¯å®ƒæ˜¯ä¸€ä¸ªéæ ‡å‡†å±æ€§ï¼Œ å› æ­¤å®é™…å¼€å‘ä¸­ï¼Œä¸å¯ä»¥ä½¿ç”¨è¿™ä¸ªå±æ€§ï¼Œå®ƒåªæ˜¯å†…éƒ¨æŒ‡å‘åŸå‹å¯¹è±¡ prototypeã€‚

  - â€‹	      console.log(ldh.__proto===Star.prototype);  true

    Star.prototypeç”¨æ¥å†™ã€æ„é€ ç»™ä¸‹é¢çš„å¯¹è±¡æ¥ä½¿ç”¨

    ldh.__protoï¼Œç”¨æ¥çœ‹å®ƒä¸Šä¸€çº§çš„æ„é€ å‡½æ•°

æ„é€ å‡½æ•°å›å»çœ‹è§†é¢‘

![img](%E6%95%B4%E7%90%86.assets/28b3161e66b44f808505753b5f09c9be.png)



å®ä¾‹ä¸æ„é€ å‡½æ•°é€šè¿‡åŸå‹é“¾è¿æ¥äº†èµ·æ¥

### ç»„åˆç»§æ‰¿ï¼š

ä¸‰æ­¥èµ°

callæŒ‡æ„é€ å‡½æ•°ç»§æ‰¿å±æ€§

childåŸå‹å¯¹è±¡æŒ‡å‘çˆ¶ç±»ï¼ˆnew çˆ¶ç±»ï¼ˆï¼‰ï¼‰ç»§æ‰¿æ–¹æ³•

å­ç±»åŸå‹å¯¹è±¡çš„æ„é€ å‡½æ•°æŒ‡å›å­ç±»



æ ¸å¿ƒåŸç†ï¼šåœ¨æ„é€ å‡½æ•°é‡Œ é€šè¿‡ call() æŠŠçˆ¶ç±»å‹çš„ this æŒ‡å‘å­ç±»å‹çš„ this ï¼Œè¿™æ ·å°±å¯ä»¥å®ç°å­ç±»å‹ç»§æ‰¿çˆ¶ç±»å‹çš„å±æ€§ã€‚

å€Ÿç”¨åŸå‹å¯¹è±¡ç»§æ‰¿çˆ¶ç±»å‹æ–¹æ³•

ä¸€èˆ¬æƒ…å†µä¸‹ï¼Œå¯¹è±¡çš„æ–¹æ³•éƒ½åœ¨æ„é€ å‡½æ•°çš„åŸå‹å¯¹è±¡ä¸­è®¾ç½®ï¼Œé€šè¿‡æ„é€ å‡½æ•°æ— æ³•ç»§æ‰¿çˆ¶ç±»æ–¹æ³•ã€‚ 

 prototype åŸå‹å¯¹è±¡ = new çˆ¶ç±»() 

æŠŠçˆ¶ç±»æ‰€æœ‰æ–¹æ³•ã€åŸå‹é“¾ï¼ˆæ„é€ æ–¹æ³•ï¼‰ä¸œè¥¿æ‹¿è¿‡æ¥äº†ï¼Œä½†ä¹ŸæŠŠè‡ªå·±çš„æ„é€ æ–¹æ³•ä¹Ÿå˜æˆäº†çˆ¶ç±»

æ‰€ä»¥è¦æŒ‡å›æ¥    Son.prototype.constructor = Son

### ES6 ç±»çš„æœ¬è´¨

1.  class æœ¬è´¨è¿˜æ˜¯ functionã€‚
2.  ç±»çš„æ‰€æœ‰æ–¹æ³•éƒ½å®šä¹‰åœ¨ç±»çš„ prototype å±æ€§ä¸Š
3.  ç±»åˆ›å»ºçš„å®ä¾‹,é‡Œé¢ä¹Ÿæœ‰ __proto__ æŒ‡å‘ç±»çš„ prototype åŸå‹å¯¹è±¡





### å¯¹è±¡è§£æ„èµ‹å€¼

å¦‚æœå˜é‡åä¸å±æ€§åä¸ä¸€è‡´ï¼Œå¿…é¡»å†™æˆä¸‹é¢è¿™æ ·ã€‚

æŠŠåé¢çš„åä¸ºfooçš„å±æ€§èµ‹ç»™äº†baz

```javascript
let { foo: baz } = { foo: 'aaa', bar: 'bbb' };
baz // "aaa"

let obj = { first: 'hello', last: 'world' };
let { first: f, last: l } = obj;
f // 'hello'
l // 'world'
```

è¿™å®é™…ä¸Šè¯´æ˜ï¼Œå¯¹è±¡çš„è§£æ„èµ‹å€¼æ˜¯ä¸‹é¢å½¢å¼çš„ç®€å†™ï¼ˆå‚è§ã€Šå¯¹è±¡çš„æ‰©å±•ã€‹ä¸€ç« ï¼‰ã€‚

```javascript
let { foo: foo, bar: bar } = { foo: 'aaa', bar: 'bbb' };
```

ä¹Ÿå°±æ˜¯è¯´ï¼Œå¯¹è±¡çš„è§£æ„èµ‹å€¼çš„å†…éƒ¨æœºåˆ¶ï¼Œæ˜¯å…ˆæ‰¾åˆ°åŒåå±æ€§ï¼Œç„¶åå†èµ‹ç»™å¯¹åº”çš„å˜é‡ã€‚çœŸæ­£è¢«èµ‹å€¼çš„æ˜¯åè€…ï¼Œè€Œä¸æ˜¯å‰è€…ã€‚

```javascript
let { foo: baz } = { foo: 'aaa', bar: 'bbb' };
baz // "aaa"
foo // error: foo is not defined
```

[å˜é‡çš„è§£æ„èµ‹å€¼ - ECMAScript 6å…¥é—¨ (ruanyifeng.com)](https://es6.ruanyifeng.com/#docs/destructuring)





äº¤æ¢å˜é‡å€¼çš„æŠ€å·§

æœ‰ä¸€ä¸ªè‘—åçš„ä½¿ç”¨ç»“æ„èµ‹å€¼æ¥äº¤æ¢ä¸¤ä¸ªå˜é‡çš„å€¼çš„æŠ€å·§ï¼š

let guest = "Jane";
let admin = "Pete";

// è®©æˆ‘ä»¬æ¥äº¤æ¢å˜é‡çš„å€¼ï¼šä½¿å¾— guest = Peteï¼Œadmin = Jane
[guest, admin] = [admin, guest];

alert(`${guest} ${admin}`); // Pete Janeï¼ˆæˆåŠŸäº¤æ¢ï¼ï¼‰

### é—­åŒ…ä¼šå‡ºç°ä»€ä¹ˆé—®é¢˜

é—­åŒ…æ˜¯ä¸€ç§å‡½æ•°å†™æ³•,æ‰©å¤§æˆå‘˜å˜é‡çš„ä½œç”¨åŸŸ

é—­åŒ…æ˜¯æŒ‡ä¸€ä¸ªå‡½æ•°å¯ä»¥è®¿é—®å¹¶æ“ä½œå…¶åˆ›å»ºæ—¶ä½œç”¨åŸŸä¸­çš„å˜é‡ï¼Œå³ä½¿å®ƒå·²ç»è„±ç¦»äº†åˆ›å»ºæ—¶çš„ä½œç”¨åŸŸã€‚



jsä¸­å˜é‡çš„**å‡½æ•°ä½œç”¨åŸŸå¯¼è‡´æˆ‘ä»¬åœ¨ä¸€ä¸ªå‡½æ•°å†…éƒ¨æ˜¯æ— æ³•è®¿é—®å¦ä¸€ä¸ªå‡½æ•°å†…éƒ¨çš„æˆå‘˜å˜é‡çš„ï¼Œä½†æ˜¯é€šè¿‡é—­åŒ…çš„å†™æ³•ï¼Œä¹Ÿå°±æ˜¯åœ¨å‡½æ•°å†…éƒ¨å†™å¦ä¸€ä¸ªå‡½æ•°è¿›è¡Œè®¿é—®è¯¥å‡½æ•°å†…éƒ¨çš„æˆå‘˜å˜é‡**çš„è¿‡ç¨‹å°±æ˜¯é—­åŒ…

[ä¸­é«˜çº§å‰ç«¯é¢è¯•é¢˜æ€»ç»“ç¬¬ä¸€æœŸ_å‰ç«¯é¢è¯•é¢˜ä¸­é«˜çº§_å‰ç«¯.ç«é¸¡çš„åšå®¢-CSDNåšå®¢](https://clearlove.blog.csdn.net/article/details/126422837?spm=1001.2014.3001.5502)

å¼€å‘ä¸­å‘ç°è£å“¥å¸¸å¸¸æŠŠå‚æ•°ç”¨å±€éƒ¨å˜é‡æ¥è¿‡æ¥å†ç”¨

é—­åŒ…çš„ä¼˜ç‚¹å’Œç¼ºç‚¹
ä¼˜ç‚¹
â‘ ä¿æŠ¤å˜é‡å®‰å…¨ ï¼Œå®ç°å°è£…ï¼Œé˜²æ­¢å˜é‡å£°æ˜å†²çªå’Œå…¨å±€çš„æ±¡æŸ“
â‘¡åœ¨å†…å­˜ä¸­ç»´æŒä¸€ä¸ªå˜é‡ï¼Œå¯ä»¥åšç¼“å­˜ï¼ˆä½†ä½¿ç”¨å¤šäº†åŒæ—¶ä¹Ÿæ˜¯ä¸€é¡¹ç¼ºç‚¹ï¼Œæ¶ˆè€—å†…å­˜ï¼‰
â‘¢åŒ¿åè‡ªæ‰§è¡Œå‡½æ•°å¯ä»¥å‡å°‘å†…å­˜æ¶ˆè€—

ç¼ºç‚¹
â‘ è¢«å¼•ç”¨çš„ç§æœ‰å˜é‡ä¸èƒ½è¢«é”€æ¯ï¼Œå¢å¤§äº†å†…å­˜æ¶ˆè€—ï¼Œé€ æˆå†…å­˜æ³„æ¼ï¼Œè§£å†³æ–¹æ³•æ˜¯å¯ä»¥åœ¨ä½¿ç”¨å®Œå˜é‡åæ‰‹åŠ¨ä¸ºå®ƒèµ‹å€¼ä¸ºnullï¼›
â‘¡å…¶æ¬¡ç”±äºé—­åŒ…æ¶‰åŠè·¨åŸŸè®¿é—®ï¼Œæ‰€ä»¥ä¼šå¯¼è‡´æ€§èƒ½æŸå¤±ï¼Œæˆ‘ä»¬å¯ä»¥é€šè¿‡æŠŠè·¨ä½œç”¨åŸŸå˜é‡å­˜å‚¨åœ¨å±€éƒ¨å˜é‡ä¸­ï¼Œç„¶åç›´æ¥è®¿é—®å±€éƒ¨å˜é‡ï¼Œæ¥å‡è½»å¯¹æ‰§è¡Œé€Ÿåº¦çš„å½±å“







### **spread æ‰©å±•è¿ç®—ç¬¦**

æ‰©å±•è¿ç®—ç¬¦ï¼ˆspreadï¼‰ä¹Ÿæ˜¯ä¸‰ä¸ªç‚¹ï¼ˆâ€¦ï¼‰ã€‚å®ƒå¥½æ¯” rest å‚æ•°çš„é€†è¿ç®—ï¼Œå°†ä¸€ä¸ªæ•°ç»„è½¬ä¸ºç”¨é€—å·åˆ†éš”çš„å‚æ•°åºåˆ—ï¼Œ**å¯¹æ•°ç»„è¿›è¡Œè§£åŒ…**ã€‚



**rest å‚æ•° ï¼š** function add(â€¦args) æ˜¯æ”¾åœ¨å‡½æ•°ä¼ å‚

**spreadï¼š** fn(â€¦tfboys) æ˜¯æ”¾åœ¨è°ƒç”¨å‡½æ•°æ—¶

> ç‰¹æ€§
>
> const tfboys=['AA','BB','CC']
> function chunwan(){
> console.log(arguments);
> }
> chunwan(...tfboys);  //0:'AA' 1:'BB' 2:'CC'



åœ¨è§£æ„èµ‹å€¼ä¸­ï¼Œæœªè¢«è¯»å–çš„å¯éå†çš„å±æ€§ï¼Œåˆ†é…åˆ°æŒ‡å®šçš„å¯¹è±¡**z**ä¸Šé¢

```
let { x, y, ...z } = { x: 1, y: 2, a: 3, b: 4 };
x // 1
y // 2
z // { a: 3, b: 4 }
```

æ³¨æ„ï¼šè§£æ„èµ‹å€¼å¿…é¡»æ˜¯æœ€åä¸€ä¸ªå‚æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™

è§£æ„èµ‹å€¼æ˜¯æµ…æ‹·è´



ä½¿ç”¨æ‰©å±•è¿ç®—ç¬¦å¯ä»¥åœ¨æ„é€ å­—é¢é‡å¯¹è±¡çš„æ—¶å€™ï¼Œè¿›è¡Œå±æ€§çš„æ‹·è´ã€‚è¯­æ³•ï¼š`let cloneObj = { ...obj };`







y= 24 

z = 13

37+5

return 42





### å¯¹è±¡

#### å±æ€§çš„ç®€å†™

ç®€å†™çš„å¯¹è±¡æ–¹æ³•ä¸èƒ½ç”¨ä½œæ„é€ å‡½æ•°ï¼Œå¦åˆ™ä¼šæŠ¥é”™



#### å±æ€§åè¡¨è¾¾å¼

```ts
let lastWord = 'last word';

const a = {
  'first word': 'hello',
  [lastWord]: 'world'
};

a['first word'] // "hello"
a[lastWord] // "world"
a['last word'] // "world"
```





### ç”Ÿæˆå™¨ï¼Œéå†å™¨ç”Ÿæˆå‡½æ•°

ç›´æ¥çœ‹é¢è¯•é¢˜å§ï¼Œé‚£ä¸ªæœ€å¥½

Generatorç›¸å½“äºJSå®ç°çš„åç¨‹

![image-20230706190556106](%E6%95%B4%E7%90%86.assets/image-20230706190556106.png)

`Generator` å‡½æ•°ä¼šè¿”å›ä¸€ä¸ªéå†å™¨å¯¹è±¡ï¼Œå³å…·æœ‰`Symbol.iterator`å±æ€§ï¼Œå¹¶ä¸”è¿”å›ç»™è‡ªå·±

```
function* gen(){
  // some code
}

var g = gen();

g[Symbol.iterator]() === g
// true
```

é€šè¿‡`yield`å…³é”®å­—å¯ä»¥æš‚åœ`generator`å‡½æ•°è¿”å›çš„éå†å™¨å¯¹è±¡çš„çŠ¶æ€

yieldæŠŠè¿™ä¸ªä»£ç åˆ†æˆå‡ æ®µï¼Œ

å‡½æ•°çš„è°ƒç”¨åªæ˜¯è¿”å›äº†ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œè¦ç”¨.nextæ‰èƒ½è¿›å»ï¼ˆnextæ¢å¤è¿è¡Œï¼‰ï¼Œå¹¶ä¸”å¡åœ¨yieldä½ç½®ï¼ˆyieldæš‚åœè¿è¡Œï¼‰ï¼Œå¹¶ä¸”æŠŠyieldè¡¨è¾¾å¼çš„å€¼ç»™è¿”å›å›å»äº†ï¼Œæ”¾åœ¨å½“å‰çš„è¿”å›å¯¹è±¡ä¸­

ç¬¬ä¸€æ¬¡è°ƒç”¨ï¼ŒGenerator å‡½æ•°å¼€å§‹æ‰§è¡Œï¼Œç›´åˆ°é‡åˆ°ç¬¬ä¸€ä¸ª yield è¡¨è¾¾å¼ä¸ºæ­¢ã€‚ next æ–¹æ³•è¿”å›ä¸€ä¸ªå¯¹è±¡ï¼Œå®ƒçš„ value å±æ€§å°±æ˜¯å½“å‰ yield è¡¨è¾¾å¼çš„å€¼ 2

![image-20230706190914523](%E6%95%B4%E7%90%86.assets/image-20230706190914523.png)

![image-20230706190932367](%E6%95%B4%E7%90%86.assets/image-20230706190932367.png)

ï¼ˆä¸Šé¢è¿™æ®µä»£ç éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œæœ€åä¸€ä¸ªyieldåé¢ä¹Ÿè¢«åˆ†æˆäº†ä»£ç æ®µï¼Œæ‰€ä»¥.nextä¾ç„¶èƒ½è¿›å»ï¼Œæ‰€ä»¥æ˜¯èƒ½è¾“å‡ºè¯­å¥çš„ï¼Œä½†æ˜¯è¿­ä»£ç»“æŸäº†ï¼Œåç»­æ²¡æœ‰äº†ï¼Œæ‰€ä»¥è¿”å›äº†undefinedï¼‰

ä¸Šé¢æ˜¯yieldçš„è¡¨è¾¾å¼æ˜¯èµ‹å€¼è¿‡å»çš„ï¼Œå’±ä»¬ä¹Ÿå¯ä»¥ä¼ å‚ä¼ è¿›å»ï¼Œè¿™ä¸ªå°±æ˜¯.nextçš„å…¥å‚

(nextæ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼)







![image-20230706191834756](%E6%95%B4%E7%90%86.assets/image-20230706191834756.png)



é—®é¢˜ï¼šè¿™é‡Œçš„â€˜2 â€™æ˜¯ä¸æ˜¯å°±æ˜¯é»˜è®¤å€¼å‘€ï¼Œå¹¶ä¸æ˜¯ï¼Œå°±æ˜¯è¿­ä»£å™¨è¿”å›å›å»çš„å¯¹è±¡{valueï¼šçš„å€¼ï¼Œdone: }



![image-20230706192418181](%E6%95%B4%E7%90%86.assets/image-20230706192418181.png)

.returnä¹Ÿèƒ½ä¸»åŠ¨è¿”å›ç»“æœ

![image-20230706192833271](%E6%95%B4%E7%90%86.assets/image-20230706192833271.png)

ä¸è¿‡å¤§å®¶è‚¯å®šéƒ½æ˜¯åœ¨å‡½æ•°é‡Œé¢æ‰ç”¨è°ƒç”¨å’¯ï¼Œè¿™é‡Œæƒ³æ¼”ç¤ºåšåˆ°åŒä¸€ä¸ªæ•ˆæœï¼Œåªæ˜¯æƒ³è¡¨è¾¾returnçš„å€¼ä¼ åœ¨è¿™ä¸ªvalueé‡Œæ¥äº†

å¦‚æœæ²¡æœ‰ return è¯­å¥ï¼Œåˆ™ value å±æ€§çš„å€¼ä¸º undefined ï¼‰ï¼Œ done å±æ€§çš„å€¼ true ï¼Œè¡¨ç¤ºéå†å·²ç»ç»“æŸã€‚



åœ¨è¿™å¼•ç”³ï¼Œyieldå°±å’Œä¸€ä¸ªreturnä¸€æ ·ï¼Œnextæ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼







ä½¿ç”¨åœºæ™¯ï¼šä¸ºä¸å…·å¤‡è¿­ä»£å™¨æ¥å£çš„å¯¹è±¡æä¾›äº†éå†æ“ä½œ

ä¸ºä»€ä¹ˆæ²¡æœ‰.nextï¼Œå› ä¸ºæ˜¯ç”¨for...oféå†æ§åˆ¶çš„ï¼Œæˆ‘åªæƒ³è¦è¯»å®ƒçš„å€¼è€Œå·²ï¼Œæˆ‘ç”¨yieldä¸»è¦æ˜¯æƒ³è®©å®ƒå»åšè¿”å›

**å†æ¬¡æé†’ï¼š**nextæ–¹æ³•å¯ä»¥å¸¦ä¸€ä¸ªå‚æ•°ï¼Œè¯¥å‚æ•°å°±ä¼šè¢«å½“ä½œä¸Šä¸€ä¸ªyieldè¡¨è¾¾å¼çš„è¿”å›å€¼

![image-20230706193908366](%E6%95%B4%E7%90%86.assets/image-20230706193908366.png)

![image-20230706193853900](%E6%95%B4%E7%90%86.assets/image-20230706193853900.png)

è§†é¢‘é‡Œè¯´[key,value]å°±ç›¸å½“äº.nextæŠŠä»–ç»™å–å‡ºæ¥äº†









### async  

å¤„ç†Promiseçš„ï¼Œè¯»å–é‡Œé¢çœŸå®çš„æ•°æ®

await`å‘½ä»¤å°±æ˜¯å†…éƒ¨`then`å‘½ä»¤çš„è¯­æ³•ç³–

ï¼ˆ5ï¼‰Generator å‡½æ•°çš„è¯­æ³•ç³–

ï¼ˆ1ï¼‰å†…ç½®æ‰§è¡Œå™¨

Generator å‡½æ•°çš„æ‰§è¡Œå¿…é¡»é æ‰§è¡Œå™¨ï¼Œæ‰€ä»¥æ‰æœ‰äº† co æ¨¡å—ï¼Œè€Œ async å‡½æ•°è‡ªå¸¦æ‰§è¡Œå™¨ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œ async å‡½æ•°çš„æ‰§è¡Œï¼Œä¸æ™®é€šå‡½æ•°ä¸€æ¨¡ä¸€æ ·ï¼Œåªè¦ä¸€è¡Œã€‚

ï¼ˆ2ï¼‰æ›´å¥½çš„è¯­ä¹‰ã€‚

async å’Œ await ï¼Œæ¯”èµ·æ˜Ÿå·å’Œ yield ï¼Œè¯­ä¹‰æ›´æ¸…æ¥šäº†ã€‚ async è¡¨ç¤ºå‡½æ•°é‡Œæœ‰å¼‚æ­¥æ“ä½œï¼Œ await è¡¨ç¤ºç´§è·Ÿåœ¨åé¢çš„è¡¨è¾¾å¼éœ€è¦ç­‰å¾…ç»“æœã€‚

ï¼ˆ3ï¼‰æ›´å¹¿çš„é€‚ç”¨æ€§ã€‚

ï¼ˆ4ï¼‰**è¿”å›å€¼æ˜¯ Promiseã€‚**

Generator  ä¸­  yield è¿”å›å€¼æ˜¯ Iterator å¯¹è±¡ï¼Œawaitè¿”å›å€¼æ˜¯ Promiseã€‚

`async` å‡½æ•°è¿”å›ä¸€ä¸ª **`Promise`å¯¹è±¡ï¼Œå¯ä»¥ä½¿ç”¨ `then`æ–¹æ³•æ·»åŠ å›è°ƒå‡½æ•°**ã€‚å½“å‡½æ•°æ‰§è¡Œçš„æ—¶å€™ï¼Œä¸€æ—¦é‡åˆ° await å°±ä¼šå…ˆè¿”å›ï¼Œç­‰åˆ°å¼‚æ­¥æ“ä½œå®Œæˆï¼Œå†æ¥ç€æ‰§è¡Œå‡½æ•°ä½“å†…åé¢çš„è¯­å¥ã€‚







### Promise

å°†å‡ ç§è§£å†³å¼‚æ­¥çš„æ–¹æ¡ˆè¿›è¡Œä¸€ä¸ªæ¯”è¾ƒï¼š

å›è°ƒå‡½æ•°

æ‰€è°“å›è°ƒå‡½æ•°ï¼Œå°±æ˜¯æŠŠä»»åŠ¡çš„ç¬¬äºŒæ®µå•ç‹¬å†™åœ¨ä¸€ä¸ªå‡½æ•°é‡Œé¢ï¼Œç­‰åˆ°é‡æ–°æ‰§è¡Œè¿™ä¸ªä»»åŠ¡çš„æ—¶å€™ï¼Œå†è°ƒç”¨è¿™ä¸ªå‡½æ•°

`Promise`å°±æ˜¯ä¸ºäº†è§£å†³å›è°ƒåœ°ç‹±è€Œäº§ç”Ÿçš„ï¼Œå°†å›è°ƒå‡½æ•°çš„åµŒå¥—ï¼Œæ”¹æˆé“¾å¼è°ƒç”¨ï¼ˆé¢è¯•é¢˜generatoré‡Œçš„ï¼‰

ï¼ˆæ¥è‡ªgithubï¼‰

#### çŠ¶æ€

`promise`å¯¹è±¡ä»…æœ‰ä¸‰ç§çŠ¶æ€

- `pending`ï¼ˆè¿›è¡Œä¸­ï¼‰
- `fulfilled`ï¼ˆå·²æˆåŠŸï¼‰
- `rejected`ï¼ˆå·²å¤±è´¥ï¼‰

#### ä¸¤ç‰¹ç‚¹

- **å¯¹è±¡çš„çŠ¶æ€ä¸å—å¤–ç•Œå½±å“**ï¼Œåªæœ‰å¼‚æ­¥æ“ä½œçš„ç»“æœï¼Œå¯ä»¥å†³å®šå½“å‰æ˜¯å“ªä¸€ç§çŠ¶æ€
- **ä¸€æ—¦çŠ¶æ€æ”¹å˜**ï¼ˆä»`pending`å˜ä¸º`fulfilled`å’Œä»`pending`å˜ä¸º`rejected`ï¼‰ï¼Œ**å°±ä¸ä¼šå†å˜**ï¼Œä»»ä½•æ—¶å€™éƒ½å¯ä»¥å¾—åˆ°è¿™ä¸ªç»“æœ

#### å®ä¾‹æ–¹æ³•

```js
promise
.then(result => {Â·Â·Â·})
.catch(error => {Â·Â·Â·})
.finally(() => {Â·Â·Â·});
```



- then()

`then`æ˜¯å®ä¾‹çŠ¶æ€å‘ç”Ÿæ”¹å˜æ—¶çš„å›è°ƒå‡½æ•°ï¼Œç¬¬ä¸€ä¸ªå‚æ•°æ˜¯`resolved`çŠ¶æ€çš„å›è°ƒå‡½æ•°ï¼Œç¬¬äºŒä¸ªå‚æ•°æ˜¯`rejected`çŠ¶æ€çš„å›è°ƒå‡½

- catch()

`catch()`æ–¹æ³•æ˜¯`.then(null, rejection)`æˆ–`.then(undefined, rejection)`çš„åˆ«åï¼Œç”¨äºæŒ‡å®šå‘ç”Ÿé”™è¯¯æ—¶çš„å›è°ƒå‡½æ•°

- finally()

`finally()`æ–¹æ³•ç”¨äºæŒ‡å®šä¸ç®¡ Promise å¯¹è±¡æœ€åçŠ¶æ€å¦‚ä½•ï¼Œéƒ½ä¼šæ‰§è¡Œçš„æ“ä½œ



#### æ„é€ å‡½æ•°æ–¹æ³•

`Promise`æ„é€ å‡½æ•°å­˜åœ¨ä»¥ä¸‹æ–¹æ³•ï¼š

- all()

- race()

- allSettled()

- resolve()

- reject()

- try()

  #### all()		&&æ“ä½œï¼ˆå…¨çœŸæ‰çœŸï¼Œä¸€å‡å…¨å‡ï¼‰

  

`Promise.all()`æ–¹æ³•ç”¨äºå°†å¤šä¸ª `Promise `å®ä¾‹ï¼ŒåŒ…è£…æˆä¸€ä¸ªæ–°çš„ `Promise `å®ä¾‹

const p = Promise.all([p1, p2, p3]);		

æ¥å—ä¸€ä¸ªæ•°ç»„ï¼ˆè¿­ä»£å¯¹è±¡ï¼‰ä½œä¸ºå‚æ•°ï¼Œæ•°ç»„æˆå‘˜éƒ½åº”ä¸º`Promise`å®ä¾‹



æ¥æ”¶ä¸€ä¸ªPromiseæ•°ç»„ï¼Œæ•°ç»„ä¸­å¦‚æœ‰éPromiseé¡¹ï¼Œåˆ™æ­¤é¡¹å½“åšæˆåŠŸï¼Œ

åªæœ‰`p1`ã€`p2`ã€`p3`çš„çŠ¶æ€éƒ½å˜æˆ`fulfilled`ï¼Œ`p`çš„çŠ¶æ€æ‰ä¼šå˜æˆ`fulfilled`

æœ‰ä¸€ä¸ªè¢«`rejected`ï¼Œ`p`çš„çŠ¶æ€å°±å˜æˆ`rejected`



```js
function promiseAll(promises) {
  return new Promise(function(resolve, reject) {
    if(!Array.isArray(promises)){
        throw new TypeError(`argument must be a array`)
    }
    var resolvedCounter = 0;
    var promiseNum = promises.length;
    var resolvedResult = [];
    for (let i = 0; i < promiseNum; i++) {
      Promise.resolve(promises[i]).then(value=>{
        resolvedCounter++;
        resolvedResult[i] = value;
        if (resolvedCounter == promiseNum) {
            //æ¯ä¸ªéƒ½æ‰§è¡Œäº†resolveæ‰è¿”å›çœŸ
            return resolve(resolvedResult)
          }
      },error=>{
           //æœ‰ä¸€ä¸ªæ²¡æ‰§è¡Œresolveå°±æ²¡è¿”å›äº†rejectçš„çŠ¶æ€
        return reject(error)
      })
    }
  })
}
// test
let p1 = new Promise(function (resolve, reject) {
    setTimeout(function () {
        resolve(1)
    }, 1000)
})
let p2 = new Promise(function (resolve, reject) {
    setTimeout(function () {
        resolve(2)
    }, 2000)
})
let p3 = new Promise(function (resolve, reject) {
    setTimeout(function () {
        resolve(3)
    }, 3000)
})
promiseAll([p3, p1, p2]).then(res => {
    console.log(res) // [3, 1, 2]
})

```





#### allSettled()

æœ‰æ—¶å€™ï¼Œæˆ‘ä»¬å¸Œæœ›ç­‰åˆ°ä¸€ç»„å¼‚æ­¥æ“ä½œéƒ½ç»“æŸäº†ï¼Œä¸ç®¡æ¯ä¸€ä¸ªæ“ä½œæ˜¯æˆåŠŸè¿˜æ˜¯å¤±è´¥ï¼Œå†è¿›è¡Œä¸‹ä¸€æ­¥æ“ä½œã€‚ä½†æ˜¯ï¼Œç°æœ‰çš„ Promise æ–¹æ³•å¾ˆéš¾å®ç°è¿™ä¸ªè¦æ±‚ã€‚

`**Promise.all()** `æ–¹æ³•åªé€‚åˆæ‰€æœ‰å¼‚æ­¥æ“ä½œéƒ½æˆåŠŸçš„æƒ…å†µï¼Œå¦‚æœæœ‰ä¸€ä¸ªæ“ä½œå¤±è´¥ï¼Œå°±æ— æ³•æ»¡è¶³è¦æ±‚ã€‚ **[Promise.allï¼ˆï¼‰æ–¹æ³•](https://blog.csdn.net/qq_52855464/article/details/125376557?spm=1001.2014.3001.5502)**

[Promise.allSettledï¼ˆï¼‰æ–¹æ³•ä»‹ç»_æ½®æ±æœªè§æ½®è½çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_52855464/article/details/125407602)



# TS

## å‡½æ•°è¿”å›å€¼å’Œä¼ å‚ç±»å‹è§„å®š

```ts
function returnItem (param: string): string {
  return param
}

```

## æ³›å‹

```ts
é‚£ä¹ˆæˆ‘ä»¬éœ€è¦å˜é‡ï¼Œè¿™ä¸ªå˜é‡ä»£è¡¨äº†ä¼ å…¥çš„ç±»å‹ï¼Œç„¶åå†è¿”å›è¿™ä¸ªå˜é‡ï¼Œå®ƒæ˜¯ä¸€ç§ç‰¹æ®Šçš„å˜é‡ï¼Œåªç”¨äºè¡¨ç¤ºç±»å‹è€Œä¸æ˜¯å€¼ã€‚
è¿™ä¸ªç±»å‹å˜é‡åœ¨ TypeScript ä¸­å°±å«åšã€Œæ³›å‹ã€ã€‚

function returnItem<T>(param: T): T {
  return param
}

```

æˆ‘ä»¬åœ¨å‡½æ•°åç§°åé¢å£°æ˜æ³›å‹å˜é‡ `<T>`ï¼Œå®ƒç”¨äºæ•è·å¼€å‘è€…ä¼ å…¥çš„å‚æ•°ç±»å‹ï¼ˆæ¯”å¦‚è¯´stringï¼‰ï¼Œç„¶åæˆ‘ä»¬å°±å¯ä»¥ä½¿ç”¨`T`(ä¹Ÿå°±æ˜¯string)åšå‚æ•°ç±»å‹å’Œè¿”å›å€¼ç±»å‹äº†ã€‚



[TypeScriptå…¥é—¨ä¹‹æ³›å‹ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7109280052566556680)





```javascript
// è¿™èƒ½çœ‹æ‡‚å§ï¼Ÿ
// æ ‡è®° arg æ˜¯ä¸ª number ç±»å‹
// æ ‡è®° foo è¿”å›å€¼æ˜¯ä¸ª string ç±»å‹
function foo(arg: number): string;

// åŠ ä¸Šæ³›å‹ï¼Œè·Ÿä¸Šé¢æ²¡åŒºåˆ«
function foo<T>(arg: number): string;

// æ”¹å˜ä¸€ä¸‹ arg çš„ç±»å‹å’Œ foo çš„è¿”å›å€¼ç±»å‹
// è¿™é‡Œæ„æ€å³ä¸º foo çš„è¿”å›å€¼å’Œ arg çš„è¿”å›å€¼ç±»å‹æ°¸è¿œç›¸åŒ
// ä½ ä¼  foo(number) è¿›æ¥ï¼Œè¿”å›å€¼å°±ä¹Ÿæ˜¯ number
// ä½ ä¼  foo(string) è¿›æ¥ï¼Œè¿”å›å€¼å°±ä¹Ÿæ˜¯ string
function foo<T>(arg: T): T;

```

å†’å·åé¢çš„`T`ä»£è¡¨è¯¥å‡½æ•°è¿”å›çš„ç±»å‹

å‡½æ•°çš„`<>`ä¸­çš„`T`æ˜¯æ³›å‹å£°æ˜ï¼šå³æœ‰ä¸€ä¸ªç±»å‹å«`T`ï¼Œåœ¨åé¢å¯ä»¥ç”¨`T`æŒ‡ä»£è¿™ä¸ªè¿˜ä¸çŸ¥é“çš„ç±»å‹ã€‚

[javascript - ts æ³›å‹ åé¢çš„é‚£ä¸ªå†’å·æ˜¯å¹²å˜›çš„ï¼Ÿ - SegmentFault æ€å¦](https://segmentfault.com/q/1010000040694522)



## typeå’Œinterfaceçš„åŒºåˆ«

å…³é”®å­—`type`æ˜¯å£°æ˜ç±»å‹åˆ«åçš„å…³é”®å­—ã€‚å®ƒçš„è¯­æ³•å¦‚ä¸‹ï¼š

```typescript
type AliasName = Type;
1
```

- typeï¼šå£°æ˜ç±»å‹åˆ«åçš„å…³é”®å­—
- AliasNameï¼šç±»å‹åˆ«åçš„åç§°
- Typeï¼šç±»å‹åˆ«åå…³è”çš„å…·ä½“ç±»å‹

ä¸¤è€…æ”¾çš„åœ°æ–¹æ˜¯ä¸€æ ·çš„

#### ä¸åŒç‚¹

type åœ¨å£°æ˜ç±»å‹åˆ«åä¹‹åå®é™…ä¸Šæ˜¯ä¸€ä¸ªèµ‹å€¼æ“ä½œï¼Œå®ƒéœ€è¦å°†åˆ«åä¸ç±»å‹å…³è”èµ·æ¥ã€‚ä¹Ÿå°±æ˜¯è¯´ç±»å‹åˆ«åä¸ä¼šåˆ›å»ºå‡ºä¸€ç§æ–°çš„ç±»å‹ï¼Œå®ƒåªæ˜¯ç»™å·²æœ‰ç±»å‹å‘½åå¹¶ç›´æ¥è¿›è¡Œå¼•ç”¨ã€‚interfaceæ˜¯å®šä¹‰äº†ä¸€ä¸ªæ¥å£ç±»å‹ã€‚
type èƒ½å¤Ÿè¡¨ç¤ºéå¯¹è±¡ç±»å‹ï¼Œ è€Œ interface åˆ™åªèƒ½è¡¨ç¤ºå¯¹è±¡ç±»å‹ã€‚
interfaceå¯ä»¥ç»§æ‰¿å…¶ä»–çš„æ¥å£ã€ç±»ç­‰å¯¹è±¡ç±»å‹ï¼Œ type ä¸æ”¯æŒç»§æ‰¿ã€‚

#### ç›¸åŒç‚¹

- éƒ½å¯ä»¥ç”¨æ¥å®šä¹‰ **å¯¹è±¡** æˆ–è€… **å‡½æ•°** çš„ç»“æ„ï¼Œè€Œä¸¥è°¨çš„æ¥è¯´ï¼Œtype æ˜¯å¼•ç”¨ï¼Œè€Œ `interface`æ˜¯å®šä¹‰ã€‚



[TSç¯‡â€”type å’Œ interface çš„åŒºåˆ«_tsä¸­typeå’Œinterfaceçš„åŒºåˆ«_å°å’Œå°šåŒå¿—çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_42345237/article/details/124895617#:~:text=type åœ¨å£°æ˜ç±»å‹åˆ«åä¹‹å å®é™…ä¸Šæ˜¯ä¸€ä¸ªèµ‹å€¼æ“ä½œï¼Œå®ƒéœ€è¦å°†åˆ«åä¸ç±»å‹å…³è”èµ·æ¥ ã€‚ ä¹Ÿå°±æ˜¯è¯´ç±»å‹åˆ«åä¸ä¼šåˆ›å»ºå‡ºä¸€ç§æ–°çš„ç±»å‹ï¼Œå®ƒåªæ˜¯ç»™å·²æœ‰ç±»å‹å‘½åå¹¶ç›´æ¥è¿›è¡Œå¼•ç”¨ã€‚ interface æ˜¯ å®šä¹‰äº†ä¸€ä¸ªæ¥å£ç±»å‹ã€‚,åˆ™ åªèƒ½è¡¨ç¤ºå¯¹è±¡ç±»å‹ ã€‚ interface å¯ä»¥ ç»§æ‰¿å…¶ä»–çš„æ¥å£ã€ç±»ç­‰å¯¹è±¡ç±»å‹ï¼Œ type ä¸æ”¯æŒç»§æ‰¿ã€‚)





## è£…é¥°å™¨	vue-property-decorator

è®©Vue2æ”¯æŒtsçš„ç§˜è¯€

### @Ref

 @Ref("button") readonly button:any;

button å‚æ•°æ˜¯åªè¯»çš„ï¼Œç±»å‹æ˜¯any



**æ™®é€šçš„refåªèƒ½è·å–ä¸å…ƒç´ ï¼Œä¸èƒ½ç›´æ¥é“¾å¼è°ƒç”¨è·å–é‡Œé¢çš„æ–¹æ³•**



**å…·åå…ƒç´ **

- `@Ref('refInTemplate') readonly xxxxElement!: ElementType`: æ­¤æ—¶é¡µé¢ä¸Šéœ€è¦æœ‰ä¸€ä¸ª`ref=refInTemplate`çš„å…ƒç´ ,æŠŠæ¨¡æ¿ä¸Š `ref="refInTemplate"`çš„å…ƒç´ èµ‹ç»™ `this.xxxxElement`

#### é¡¹ç›®ä¸­çš„ä½¿ç”¨



```js
  <el-form
          :model="form"
          :rules="rules"
          label-position="top"
          ref="FormRef"
          label-width="100px"
          class="dynamic-form"
        >
```



export default class Dynamic extends Vue {

 // è¿™ä¹ˆç”¨äº†ä¹‹åï¼Œå°±æ˜¯å¯ä»¥ä½¿ç”¨this.FormRefäº†

 @Ref() FormRef!: any

##### ä½¿ç”¨ï¼š

```js
  handleRelease () {
    // ä»»ä¸€è¡¨å•é¡¹è¢«æ ¡éªŒåè§¦å‘
    this.FormRef.validate().then((valid: boolean) => {
```



# VUE

äºŒã€ä»€ä¹ˆæ˜¯Model
æˆ‘ä»¬ç»å¸¸è§åˆ°â€œModelâ€ï¼Œå¦‚MVCæ¨¡å¼ä¸­çš„Må°±æ˜¯æŒ‡â€œModelâ€ï¼ŒMVVMä¸­çš„â€œModel-View-ViewModelâ€ï¼Œæ•°æ®åº“æŠ½è±¡å±‚ä¸­çš„â€œModelâ€ç­‰ã€‚é‚£ä¹ˆä»€ä¹ˆæ˜¯modelå‘¢ï¼Ÿ

é€šå¸¸ï¼ŒModelæœ‰å¦‚ä¸‹å‡ ç§ç”¨æ³•ï¼š

ç­‰ä»·äºEntityï¼Œå®Œå…¨ä¸å…·å¤‡å…¶ä»–ä¸šåŠ¡é€»è¾‘ä»£ç ã€‚

å½“æˆæ•°æ®åº“æ¥å£å±‚ï¼Œå°±æ˜¯å°†æ•°æ®åº“çš„è¯»å†™ã€å¢åˆ ã€æŸ¥æ”¹éƒ½å°è£…åœ¨Modelä¸­ï¼Œç»å¸¸å‡ºç°â€œgetUserByIdâ€è¿™æ ·çš„å†™æ³•ã€‚

å½“æˆçº¯ç²¹çš„ä¸šåŠ¡é€»è¾‘ç±»ã€‚

Modelæ˜¯æ¨¡å‹ï¼Œè€Œä¸æ˜¯â€œæ•°æ®â€ï¼ŒModelåº”è¯¥æ˜¯åˆ©ç”¨Entityå®ä½“ï¼Œæ¥ç»„åˆã€å¤„ç†ã€æ•´åˆæ›´ä¸Šå±‚ã€æ›´æŠ½è±¡æ•°æ®çš„ç±»ã€‚æ˜¯åŸºäºEntityçš„æ›´é«˜å±‚çš„æ•°æ®æŠ½è±¡ä¸å¤„ç†ã€‚
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œm1m-FGã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚

åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/SakuraMG/article/details/128652284





------

**ä½¿ç”¨Transitionå†…ç½®ç»„ä»¶åŠCSS transitionå®ŒæˆåŠ¨ç”»**

[Transition | Vue.js (vuejs.org)](https://cn.vuejs.org/guide/built-ins/transition.html#the-transition-component)

------





#### åˆ›å»ºvue3 é¡¹ç›®

![image-20230706103915851](%E6%95%B4%E7%90%86.assets/image-20230706103915851.png)



###  v-ifå’Œv-showçš„åŒºåˆ«

- **æ‰‹æ®µ**ï¼šv-ifæ˜¯åŠ¨æ€çš„å‘DOMæ ‘å†…æ·»åŠ æˆ–è€…åˆ é™¤DOMå…ƒç´ ï¼›v-showæ˜¯é€šè¿‡è®¾ç½®DOMå…ƒç´ çš„displayæ ·å¼å±æ€§æ§åˆ¶æ˜¾éšï¼›

- **ç¼–è¯‘è¿‡ç¨‹**ï¼šv-ifåˆ‡æ¢æœ‰ä¸€ä¸ªå±€éƒ¨ç¼–è¯‘/å¸è½½çš„è¿‡ç¨‹ï¼Œåˆ‡æ¢è¿‡ç¨‹ä¸­åˆé€‚åœ°é”€æ¯å’Œé‡å»ºå†…éƒ¨çš„äº‹ä»¶ç›‘å¬å’Œå­ç»„ä»¶ï¼›v-showåªæ˜¯ç®€å•çš„åŸºäºcssåˆ‡æ¢ï¼›

- **ç¼–è¯‘æ¡ä»¶**ï¼š**v-ifæ˜¯æƒ°æ€§çš„ï¼Œå¦‚æœåˆå§‹æ¡ä»¶ä¸ºå‡ï¼Œåˆ™ä»€ä¹ˆä¹Ÿä¸åš(å°±æ²¡æœ‰domå…ƒç´ äº†)**ï¼›åªæœ‰åœ¨æ¡ä»¶ç¬¬ä¸€æ¬¡å˜ä¸ºçœŸæ—¶æ‰å¼€å§‹å±€éƒ¨ç¼–è¯‘; v-showæ˜¯åœ¨ä»»ä½•æ¡ä»¶ä¸‹ï¼Œæ— è®ºé¦–æ¬¡æ¡ä»¶æ˜¯å¦ä¸ºçœŸï¼Œéƒ½è¢«ç¼–è¯‘ï¼Œç„¶åè¢«ç¼“å­˜ï¼Œè€Œä¸”DOMå…ƒç´ ä¿ç•™ï¼›

- **æ€§èƒ½æ¶ˆè€—**ï¼šv-ifæœ‰æ›´é«˜çš„åˆ‡æ¢æ¶ˆè€—ï¼›v-showæœ‰æ›´é«˜çš„åˆå§‹æ¸²æŸ“æ¶ˆè€—ï¼›

- **ä½¿ç”¨åœºæ™¯**ï¼šv-ifé€‚åˆè¿è¥æ¡ä»¶ä¸å¤§å¯èƒ½æ”¹å˜ï¼›v-showé€‚åˆé¢‘ç¹åˆ‡æ¢ã€‚

  é“¾æ¥ï¼šhttps://juejin.cn/post/6919373017218809864
  

## v-modelæ˜¯å¦‚ä½•å®ç°çš„

**ï¼ˆ1ï¼‰ä½œç”¨åœ¨è¡¨å•å…ƒç´ ä¸Š** 

**åŠ¨æ€ç»‘å®šäº† input çš„ value æŒ‡å‘äº† messgae å˜é‡**ï¼ˆæ„Ÿè§‰å¯ä»¥å’Œelé‡Œçš„inputä¸²èµ·æ¥ äº†ï¼‰ï¼Œå¹¶ä¸”åœ¨è§¦å‘ input äº‹ä»¶çš„æ—¶å€™å»åŠ¨æ€æŠŠ messageè®¾ç½®ä¸ºç›®æ ‡å€¼ï¼š

```javascript
javascriptå¤åˆ¶ä»£ç <input v-model="sth" />
//  ç­‰åŒäº
<input 
    v-bind:value="message" 
    v-on:input="message=$event.target.value"
>
//$event æŒ‡ä»£å½“å‰è§¦å‘çš„äº‹ä»¶å¯¹è±¡;
//$event.target æŒ‡ä»£å½“å‰è§¦å‘çš„äº‹ä»¶å¯¹è±¡çš„dom;
//$event.target.value å°±æ˜¯å½“å‰domçš„valueå€¼;
//åœ¨@inputæ–¹æ³•ä¸­ï¼Œvalue => sth;
//åœ¨:valueä¸­,sth => value;
```


é“¾æ¥ï¼šhttps://juejin.cn/post/6919373017218809864





## .sync ä¿®é¥°ç¬¦

æ²¡ææ‡‚å’Œv-on="$listeners"ã€v-bind=â€œ$attrsæœ‰ä»€ä¹ˆåŒºåˆ«ï¼Œï¼ˆè¿™ä¸ªéœ€è¦ä¼ å‡ºæ¥çš„ï¼Œé‚£ä¸ªå°±æ˜¯å°†å±æ€§å’Œäº‹ä»¶çˆ¶ä¼ å­™ï¼‰

åœ¨å¯¹ä¸€ä¸ª prop è¿›è¡Œâ€œåŒå‘ç»‘å®š,å•å‘ä¿®æ”¹â€çš„åœºæ™¯ä¸‹--å¥½åƒé¡¹ç›®é‡Œä¹Ÿä¸æ˜¯è¿™ä¸ªåœºæ™¯ï¼Œå› ä¸ºå­ç»„ä»¶ä¸èƒ½ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶ï¼Œsyncåœ¨2.3ç‰ˆæœ¬å¼•å…¥ï¼Œä½œä¸ºä¸€ä¸ªäº‹ä»¶ç»‘å®šè¯­æ³•ç³–ï¼Œåˆ©ç”¨[EventBus]ï¼Œå½“å­ç»„ä»¶è§¦å‘äº‹ä»¶æ—¶ï¼Œçˆ¶ç»„ä»¶ä¼šå“åº”äº‹ä»¶å¹¶å®ç°æ•°æ®æ›´æ–°ï¼Œé¿å…äº†å­ç»„ä»¶ç›´æ¥ä¿®æ”¹çˆ¶ç»„ä»¶ä¼ è¿‡æ¥çš„å†…å®¹ã€‚

.syncæ˜¯ä¸€ä¸ªè¯­æ³•ç³–ã€‚æ˜¯çˆ¶ç»„ä»¶ç›‘å¬å­ç»„ä»¶æ›´æ–°æŸä¸ªpropsçš„è¯·æ±‚çš„ç¼©å†™è¯­æ³•

å°±æ˜¯çœå†™äº†$emitå’Œçˆ¶ç»„ä»¶ä¸­å›è°ƒå‡½æ•°ï¼Œè¾¾åˆ°ç›´æ¥ä¿®æ”¹æ•°æ®ï¼Œè£å“¥è¯´å°±å½“éš”ç»„ä»¶ä½¿ç”¨v-modelï¼Œç‰¹åˆ«æ³¨æ„propå†™æ³•

```text
:money.sync="tatol"//ç­‰ä»·
:money="total" v-on:update:money="total=$event"
```

$attrs---å®ƒæ˜¯ç»„ä»¶è‡ªèº«çš„ä¸€ä¸ªå±æ€§ï¼Œå¯ä»¥è·å–åˆ°ä¼ é€’ç»™ç»„ä»¶çš„æ‰€æœ‰æ²¡æœ‰ç”¨propså£°æ˜æ¥æ”¶çš„propå±æ€§ï¼Œé™¤äº†classã€styleå±æ€§

æé†’ï¼šprop ä¼ é€’çš„å±æ€§ä¸ä¼šè¢«æ¥æ”¶ã€‚çˆ¶ç»„ä»¶ç”¨propæ¥æ”¶äº†ä¸€äº›æ•°æ®ï¼Œé‚£åœ¨å­é‡Œé¢å°±ä¸ä¼š$attræ¥æ”¶è¿™äº›æ•°æ®

prop å°±æƒ³å½“äºåƒæµæ°´å¸­ï¼ŒæŠŠè‡ªå·±æƒ³è¦çš„ä¸œè¥¿æˆªä¸‹æ¥äº†ï¼Ÿ



**é¡¹ç›®ä¸­æˆ‘çš„ç†è§£**ï¼šæˆ‘éœ€è¦åœ¨eltableé‡Œçš„tableå’Œtable-columnå…¶å®æ˜¯çˆ¶å­å…³ç³»å°è£…çš„ï¼Œä½†åœ¨æˆ‘åªæ˜¯ç”¨eltable ï¼Œæˆ‘ä¸å…³å¿ƒå†…éƒ¨ï¼Œåªä¼ ä¸œè¥¿ç»™eltableï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦åœ¨è°ƒç”¨table-columæ—¶å†™

<el-table-column v-if="showCheckbox" type="selection" v-bind="$attrs" v-on="$listeners"

è®©è¿™ä¸ªå­ç»„ä»¶æ¥å—çˆ¶ç»„ä»¶åŒæ ·çš„ä¸œè¥¿ï¼Œä½¿å¾—tableï¼Œtable-columçœ‹èµ·æ¥æ˜¯åŒå±‚æ¬¡çš„ä¸œè¥¿

[(181æ¡æ¶ˆæ¯) Vueä¸­ $attrsã€$listeners è¯¦è§£åŠä½¿ç”¨_æ˜å¤©ä¹Ÿè¦åŠªåŠ›çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/ZYS10000/article/details/116017711)

[Vueï¼šæ·±å…¥ç†è§£ Vue çš„ .sync ä¿®é¥°ç¬¦ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6977022803744653320)



## v-on="$listeners"ã€v-bind=â€œ$attrséƒ¨åˆ†

æ€»ç»“åœ¨managementé¡µé¢é‡Œäº†

æ²¡ç”¨slotæ’æ§½å ä½ç¬¦å ä½çš„slotä¹Ÿä¼šå­˜åœ¨$attré‡Œï¼Œè¿™ä¸œè¥¿åƒæ˜¯ä¸€ä¸ªæ¡æ¼çš„ä¸œè¥¿ï¼Œä½ ä¸è¦çš„ä¸œè¥¿å°±éƒ½ç»™æˆ‘å§ï¼Œï¼ˆèµ·ç ä¸œè¥¿æ²¡ä¸¢æ‰ï¼‰

propä¹Ÿä¸€æ ·



## ä¸‰ä¸ªæ’æ§½

ï¼ˆï¼œslotï¼ã€v-slotã€slot-scopeï¼‰

```
 <template #operate="{scope}">
å…·åæ’æ§½å†™æ³•ï¼ˆå¹¶ä¸æ˜¯å§å°±æ˜¯ä½œç”¨åŸŸæ’æ§½ï¼Œå…·åæ’æ§½å­ç»„ä»¶é‡Œå†™çš„æ˜¯nameï¼Œè¿™é‡Œå†™çš„slot-scopeï¼Œè€Œä¸”è¿™ä¸ªæœ‰å‚æ•°ï¼Œä½œç”¨åŸŸæ’æ§½å°±æ˜¯å¸¦å‚ä¼ é€’æ’æ§½ï¼‰
```

![image-20230628201108475](%E6%95%B4%E7%90%86.assets/image-20230628201108475.png)



 slot-scope="scope"

v-slotç¼©å†™æˆ#

ä½œç”¨åŸŸæ’æ§½

gamesæ•°æ®åœ¨Categoryï¼ˆå­ï¼‰ç»„ä»¶ä¸­ï¼Œä½†ä½¿ç”¨æ•°æ®æ‰€éå†å‡ºæ¥çš„ç»“æ„ç”±Appï¼ˆçˆ¶ï¼‰ç»„ä»¶å†³å®šï¼‰

æ’æ§½æœ‰ç‚¹æ··ï¼Œ

<slot name=''>   ==    <template v-slot:' '>

æŒ‰ç…§æ’æ§½ç±»å‹æ¥é‚£ä¸ªå«operate



ç»‘å®šåœ¨ `<slot>` å…ƒç´ ä¸Šçš„ attribute è¢«ç§°ä¸º**æ’æ§½ prop**ã€‚ç°åœ¨åœ¨çˆ¶çº§ä½œç”¨åŸŸä¸­ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨å¸¦å€¼çš„ `slot-scope` æ¥å®šä¹‰æˆ‘ä»¬æä¾›çš„æ’æ§½ prop çš„åå­—ï¼š

 







#### 

```
  <template #operate="{scope}">
```

è¿˜æ˜¯ä¸çŸ¥é“è¿™ä¸ªåˆ°åº•æ˜¯ä¼ çš„å•¥ï¼Œ{scope}ä»£è¡¨ä»€ä¹ˆ

æˆ‘ç†è§£å¥½åƒè¿˜æ˜¯æœ‰ç‚¹åå·®ï¼Œä½œç”¨åŸŸæ’æ§½æ˜¯å¯ä»¥å’Œå…·ä½“æ’æ§½ä¸€èµ·ç”¨å—

å¸¦{}å°±æ˜¯å§å®ƒå½“jså¤„ç†å§ï¼Œä½†æ˜¯æˆ‘æ€ä¹ˆæ²¡æœ‰çœ‹åˆ°scopeæ–¹æ³•ï¼Ÿ

ä¸Šé¢çš„éƒ½æ˜¯é”™è¯¯çš„ç†è§£

æè¿°ï¼šä½œç”¨åŸŸæ’æ§½å…¶å®å°±æ˜¯å¸¦æ•°æ®çš„æ’æ§½ï¼Œå³å¸¦å‚æ•°çš„æ’æ§½ï¼ˆæ‰€ä»¥ä½ èƒ½å…·ååï¼Œåé¢æœ‰å‚æ•°çš„å†™æ³•äº†å§   <template v-slot:header="scope">ï¼‰ï¼Œç®€å•çš„æ¥è¯´å°±æ˜¯å­ç»„ä»¶æä¾›ç»™çˆ¶ç»„ä»¶çš„å‚æ•°ï¼Œè¯¥å‚æ•°ä»…é™äºæ’æ§½ä¸­ä½¿ç”¨ï¼Œçˆ¶ç»„ä»¶å¯æ ¹æ®å­ç»„ä»¶ä¼ è¿‡æ¥çš„æ’æ§½æ•°æ®æ¥è¿›è¡Œä¸åŒçš„æ–¹å¼å±•ç°å’Œå¡«å……æ’æ§½å†…

```
   <template #operate="{scope}">
          <el-button @click.native.stop="handleAudit(scope.row)" type="text">å®¡æ ¸</el-button>
        </template>
```





v-slot
åœ¨vue2.6ä¸­ã€‚ä¸Šè¿°çš„APIè¢«è½¯åºŸå¼ƒï¼ˆ3.0æ­£å¼åºŸå¼ƒï¼‰ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯å†…ç½®æŒ‡ä»¤v-slotï¼Œå¯ä»¥ç¼©å†™ä¸ºã€#ã€‘
å­ç»„ä»¶ç”¨æ³•ä¿æŒä¸å˜ï¼Œçˆ¶ç»„ä»¶ä¸­
slotå±æ€§å¼ƒç”¨ï¼Œå…·åæ’æ§½é€šè¿‡æŒ‡ä»¤å‚æ•°v-slot:æ’æ§½åçš„å½¢å¼ä¼ å…¥ï¼Œå¯ä»¥ç®€åŒ–ä¸º#æ’æ§½å
slot-scopeå±æ€§å¼ƒç”¨ï¼Œä½œç”¨åŸŸæ’æ§½é€šè¿‡v-slot:xxx="slotProps"çš„slotPropsæ¥è·å–å­ç»„ä»¶ä¼ å‡ºçš„å±æ€§
v-slotå±æ€§åªèƒ½åœ¨templateä¸Šä½¿ç”¨ï¼Œä½†åœ¨åªæœ‰é»˜è®¤æ’æ§½æ—¶å¯ä»¥åœ¨ç»„ä»¶æ ‡ç­¾ä¸Šä½¿ç”¨
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”
ç‰ˆæƒå£°æ˜ï¼šæœ¬æ–‡ä¸ºCSDNåšä¸»ã€Œåˆ«æ¥æ‰“æ‰°æˆ‘ã€çš„åŸåˆ›æ–‡ç« ï¼Œéµå¾ªCC 4.0 BY-SAç‰ˆæƒåè®®ï¼Œè½¬è½½è¯·é™„ä¸ŠåŸæ–‡å‡ºå¤„é“¾æ¥åŠæœ¬å£°æ˜ã€‚
åŸæ–‡é“¾æ¥ï¼šhttps://blog.csdn.net/qq_44166697/article/details/108274625
â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”â€”



```
    <!--  slot-scope ä½œç”¨åŸŸæ’æ§½ä¸­çš„çˆ¶ç»„ä»¶ä½¿ç”¨æ•°æ® -->
        <!--å­éƒ¨ä»¶è¿™ä¸ªéƒ¨åˆ†çš„æ•°æ®ä¼ è¿‡æ¥äº†  <slot v-else-if="col.slotName" :name="col.slotName" :scope="scope" /> -->
          <span v-if="item.slotName" :slot="item.slotName" slot-scope="{ scope }">
            <!-- ç„¶ååˆæŠŠå®ƒä¼ å‡ºå»äº†ï¼Œä¼ äº†ä¸ªnameå’Œscope -->
            <slot :name="item.slotName" :scope="scope"></slot>
          </span>
```

ä¼ åˆ°è¿™äº†ï¼š

```
<template #operate="{scope}">
          <el-button @click.native.stop="handleAudit(scope.row)" type="text">å®¡æ ¸</el-button>
        </template>
```

ç„¶åä¼ åˆ°é‡Œé¢é»˜è®¤æ’æ§½é‡Œ

ä¹Ÿå°±æ˜¯è¿™é‡Œ

```
  <slot :name="item.slotName" :scope="scope"></slot>
```

é€»è¾‘å¥½æ€ªï¼Œä¼ æ•°æ®è¿›å­ç»„ä»¶é‡Œï¼Œç”¨ä½œç”¨åŸŸæ’æ§½æŠŠå­ç»„ä»¶é‡Œçš„æ•°æ®åˆå–å‡ºæ¥äº†ï¼Œç„¶ååˆç”¨é»˜è®¤æ’æ§½æ”¾åˆ°å­ç»„ä»¶é‡Œå»



 <template #operate="{scope}">



è¿™é‡Œåˆç”¨çš„æ–°å†™æ³•ï¼Œå…¶ä»–åœ°æ–¹ç”¨çš„è€å†™æ³•

## $emitä¸eventbus

çˆ¶ç»„ä»¶ç»‘å®šè‡ªå®šä¹‰ç»„ä»¶

```vue
//çˆ¶ç»„ä»¶ä¸­		è¿™å°±å«ç»‘å®šäº‹ä»¶
	<Student @atguigu="getStudentName"/> 
```

```js
//å­ç»„ä»¶,è°ƒç”¨çš„æ–¹æ³•é‡Œå†ç”¨$emitè°ƒç”¨
	this.$emit('atguigu',this.name,666,888,900)
```

çˆ¶ç»„ä»¶è¿˜å¯ä»¥è¿™æ ·ç»‘å®šè‡ªå®šä¹‰äº‹ä»¶

this.$refs.xxx.$on()

**è§£ç»‘è‡ªå®šä¹‰äº‹ä»¶**

this.$off('atguigu')



eventBusï¼ˆå…¨å±€äº‹ä»¶æ€»çº¿ï¼‰å°±æ˜¯

å°±æ˜¯æŠŠç»‘å®šäº‹ä»¶è¿™ä¸ªåŠ¨ä½œæ”¶é›†åˆ°åŒä¸€ä¸ªåœ°æ–¹å»å‘—

å°±æ˜¯æŠŠæ”¾åˆ°äº†ä¸€ä¸ªå¾ˆé«˜çš„åœ°æ–¹é‡Œæ”¶é›†ç»‘å®šäº‹ä»¶å‘—

å¯ä»¥æ”¾åˆ°ä¸€ä¸ªtsé‡Œå¼•å…¥ç”¨ï¼Œä¹Ÿå¯ä»¥æŒ‚åˆ°vmå®ä¾‹é“¾ä¸Š

```js
new Vue({
	......
	beforeCreate() {
		Vue.prototype.$bus = this //å®‰è£…å…¨å±€äº‹ä»¶æ€»çº¿ï¼Œ$buså°±æ˜¯å½“å‰åº”ç”¨çš„vm
	},
    ......
}) 
```





## $setã€$forceUpdate() ã€$nextTick

### $forceUpdate

[vueå¼ºåˆ¶æ›´æ–°è§†å›¾ $forceUpdate() - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6973830848529301534)

è¿«ä½¿ Vue å®ä¾‹é‡æ–°æ¸²æŸ“ã€‚æ³¨æ„å®ƒä»…ä»…å½±å“å®ä¾‹æœ¬èº«å’Œæ’å…¥æ’æ§½å†…å®¹çš„å­ç»„ä»¶ï¼Œè€Œä¸æ˜¯æ‰€æœ‰å­ç»„ä»¶ã€‚



### $nextTick

vue æ›´æ–° DOMè¿™ä¸ªæµç¨‹ æ˜¯å¼‚æ­¥æ›´æ–°çš„ï¼Œæ•°æ®å˜åŒ–ï¼ŒDOM çš„æ›´æ–°ä¸ä¼šé©¬ä¸Šå®Œæˆï¼Œ

è€Œä½ è¦å†™çš„æ–¹æ³•ï¼Œå®ƒæ˜¯ä¾èµ–æ–°çš„æ•°æ®ï¼Œæ–°çš„DOMç»“æ„çš„æ—¶å€™å°±å¯ä»¥nextTickï¼Œå®ƒçš„ä½œç”¨å°±æ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œçš„ä¼ è¿›æ¥çš„å»¶è¿Ÿå›è°ƒã€‚

nextTick çš„å›è°ƒæ˜¯åœ¨ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ç»“æŸä¹‹åæ‰§è¡Œçš„ä¼ è¿›æ¥çš„å»¶è¿Ÿå›è°ƒã€‚

å®ç°åŸç†ï¼šnextTick ä¸»è¦ä½¿ç”¨äº†å®ä»»åŠ¡å’Œå¾®ä»»åŠ¡ã€‚æ ¹æ®æ‰§è¡Œç¯å¢ƒåˆ†åˆ«å°è¯•é‡‡ç”¨

- Promiseï¼šå¯ä»¥å°†å‡½æ•°å»¶è¿Ÿåˆ°å½“å‰å‡½æ•°è°ƒç”¨æ ˆæœ€æœ«ç«¯
- MutationObserver ï¼šæ˜¯ H5 æ–°åŠ çš„ä¸€ä¸ªåŠŸèƒ½ï¼Œå…¶åŠŸèƒ½æ˜¯ç›‘å¬ DOM èŠ‚ç‚¹çš„å˜åŠ¨ï¼Œåœ¨æ‰€æœ‰ DOM å˜åŠ¨å®Œæˆåï¼Œæ‰§è¡Œå›è°ƒå‡½æ•°
- setImmediateï¼šç”¨äºä¸­æ–­é•¿æ—¶é—´è¿è¡Œçš„æ“ä½œï¼Œå¹¶åœ¨æµè§ˆå™¨å®Œæˆå…¶ä»–æ“ä½œï¼ˆå¦‚äº‹ä»¶å’Œæ˜¾ç¤ºæ›´æ–°ï¼‰åç«‹å³è¿è¡Œå›è°ƒå‡½æ•°
- å¦‚æœä»¥ä¸Šéƒ½ä¸è¡Œåˆ™é‡‡ç”¨ setTimeout æŠŠå‡½æ•°å»¶è¿Ÿåˆ° DOM æ›´æ–°ä¹‹åå†ä½¿ç”¨ï¼ŒåŸå› æ˜¯å®ä»»åŠ¡æ¶ˆè€—å¤§äºå¾®ä»»åŠ¡ï¼Œä¼˜å…ˆä½¿ç”¨å¾®ä»»åŠ¡ï¼Œæœ€åä½¿ç”¨æ¶ˆè€—æœ€å¤§çš„å®ä»»åŠ¡



å°†å›è°ƒå»¶è¿Ÿåˆ°ä¸‹æ¬¡ DOM æ›´æ–°å¾ªç¯ä¹‹åæ‰§è¡Œã€‚åœ¨ä¿®æ”¹æ•°æ®ä¹‹åç«‹å³ä½¿ç”¨å®ƒï¼Œç„¶åç­‰å¾… DOM æ›´æ–°ã€‚å®ƒè·Ÿå…¨å±€æ–¹æ³• `Vue.nextTick` ä¸€æ ·ï¼Œä¸åŒçš„æ˜¯å›è°ƒçš„ `this` è‡ªåŠ¨ç»‘å®šåˆ°è°ƒç”¨å®ƒçš„å®ä¾‹ä¸Šã€‚



[2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜åˆé›†ä¹‹Vueï¼ˆä¸Šç¯‡ï¼‰ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7208005892313579576#heading-9)



## @Provide()ã€@Inject()ä¾èµ–æ³¨å…¥

[ä¾èµ–æ³¨å…¥ | Vue.js (vuejs.org)](https://cn.vuejs.org/guide/components/provide-inject.html#inject)

å®ç°ç¥–ä¸åä»£é€šä¿¡

åªè¦å®ç°ä¸Šä¸‹æ¸¸å°±è¡Œï¼ŒProvideå‘ï¼ŒInjectæ”¶

projectDetailPageï¼š

```js
export default class projectDetailPage extends Vue {

 @() OPHandle: projectDetailPage = this
```

TreeFile2

```js
export default class TreeFile2 extends Vue {
  @Inject() OPHandle!: Handle | any
```

##### `props`å’Œ`$ref`å’Œ`$children`å’Œ`provide/inject`çš„ä¸»è¦åŒºåˆ«ï¼š

- props ä¾§é‡äºæ•°æ®çš„ä¼ é€’ï¼Œå¹¶ä¸èƒ½è·å–å­ç»„ä»¶é‡Œçš„å±æ€§å’Œæ–¹æ³•ï¼Œé€‚ç”¨äºè‡ªå®šä¹‰å†…å®¹çš„ä½¿ç”¨åœºæ™¯
- $ref ä¾§é‡äºè·å–å­ç»„ä»¶é‡Œçš„å±æ€§å’Œæ–¹æ³•ï¼Œå¹¶ä¸æ˜¯å¤ªé€‚åˆä¼ é€’æ•°æ®ï¼Œå¹¶ä¸” ref å¸¸ç”¨äºè·å–domå…ƒç´ ï¼Œèµ·åˆ°é€‰æ‹©å™¨çš„ä½œç”¨
- $children ä¾§é‡äºè·å–æ‰€æœ‰çš„ç›´æ¥å­ç»„ä»¶ï¼Œå¾—åˆ°çš„æ˜¯ä¸€ä¸ªæ— åºçš„æ•°ç»„ï¼Œå¹¶ä¸å¤ªé€‚åˆå‘å¤šä¸ªå­ç»„ä»¶ä¼ é€’æ•°æ®
- provide/inject ä¾§é‡äºåœ¨å¼€å‘é«˜é˜¶æ’ä»¶/ç»„ä»¶åº“æ—¶ä½¿ç”¨ï¼Œå¹¶ä¸æ¨èç”¨äºæ™®é€šåº”ç”¨ç¨‹åºä»£ç ä¸­



- provide å’Œ injectçš„ç»‘å®šå¹¶**ä¸æ˜¯å¯å“åº”**çš„ï¼Œè¿™æ˜¯åˆ»æ„ä¸ºä¹‹çš„ã€‚ä½†æ˜¯ï¼Œå¦‚æœä½ ä¼ å…¥äº†ä¸€ä¸ªå¯ç›‘å¬çš„å¯¹è±¡ï¼Œé‚£ä¹ˆå…¶å¯¹è±¡çš„å±æ€§è¿˜æ˜¯å¯å“åº”çš„ï¼›

- å¦‚æœä½ æƒ³è¦å…±äº«çš„è¿™ä¸ªå±æ€§æ˜¯ä½ çš„åº”ç”¨ç‰¹æœ‰çš„ï¼Œè€Œä¸æ˜¯é€šç”¨åŒ–çš„ï¼Œæˆ–è€…å¦‚æœä½ æƒ³åœ¨ç¥–å…ˆç»„ä»¶ä¸­æ›´æ–°æ‰€æä¾›çš„æ•°æ®ï¼Œé‚£ä¹ˆè¿™æ„å‘³ç€ä½ å¯èƒ½éœ€è¦æ¢ç”¨ä¸€ä¸ªåƒ`Vuex`è¿™æ ·çœŸæ­£çš„çŠ¶æ€ç®¡ç†æ–¹æ¡ˆäº†ã€‚

  è€¦åˆèµ·æ¥äº†ï¼Œé‡æ„å›°éš¾ï¼Œæ‰€ä»¥ä¸€èˆ¬æ˜¯ç”¨åœ¨é«˜çº§æ’ä»¶å¼€å‘ä¸­å’¯

  [Vueç»„ä»¶ä¹‹é—´çš„ä¼ å€¼ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6904536680183791623#heading-10)













## ç”Ÿå‘½å‘¨æœŸ

created 	ç»„ä»¶å†å†…å­˜ä¸­åˆ›å»ºå®Œæ¯•å 	å‘ajaxè¯·æ±‚åˆå§‹æ•°æ®



mounted  	 è™šæ‹ŸDomå·²ç»è¢«æŒ‚è½½åˆ°çœŸå®Domä¸Šï¼Œæ­¤æ—¶æˆ‘ä»¬å¯ä»¥è·å–DomèŠ‚ç‚¹ï¼Œ`$ref`åœ¨æ­¤æ—¶ä¹Ÿæ˜¯å¯ä»¥è®¿é—®çš„ã€‚

> æˆ‘ä»¬åœ¨æ­¤æ—¶å¯ä»¥å»è·å–èŠ‚ç‚¹ä¿¡æ¯ï¼ŒåšAjaxè¯·æ±‚ï¼Œå¯¹èŠ‚ç‚¹åšä¸€äº›æ“ä½œ



**vueå¼‚æ­¥è¯·æ±‚é€‚åˆæ”¾åœ¨createdé‡Œé¢ï¼Œå¦‚æ¶‰åŠåˆ°éœ€è¦é¡µé¢åŠ è½½å®Œæˆä¹‹åçš„æ“ä½œå°±æ”¾åœ¨mountedé‡Œé¢**



ä¹‹å‰æ€•watchç›‘å¬å™¨ç›‘å¬ä¸åˆ°propså•¥çš„ï¼Œå°±å»æ‰¾äº†ç‚¹vueæŒ‚è½½å®ä¾‹çœ‹çš„

åœ¨initState()åšäº†è¿™äº›äº‹æƒ…ï¼š

// åˆå§‹åŒ–ç»„ä»¶çš„watcheråˆ—è¡¨
  vm._watchers = []
  const opts = vm.$options

if (opts.props) initProps(vm, opts.props)//åˆå§‹åŒ–Props
if (opts.methods) initMethods(vm, opts.methods)//åˆå§‹åŒ–methods
if (opts.data) {
  initData(vm)} else {
  observe(vm._data = {}, true /* asRootData */)}//åˆå§‹åŒ–data
if (opts.computed) initComputed(vm, opts.computed)//åˆå§‹åŒ–computed

4.æ‰€ä»¥Propsï¼Œmethods,dataå’Œcomputedçš„åˆå§‹åŒ–éƒ½æ˜¯åœ¨beforeCreatedå’Œcreatedä¹‹é—´å®Œæˆçš„ã€‚





## vue2å“åº”å¼åŸç†

å“åº”å¼æ˜¯ä»€ä¹ˆå‘¢ï¼šå“åº”å¼æ˜¯æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨æ›´æ–°è§†å›¾

é€šè¿‡è§‚å¯Ÿè€…æ¨¡å¼ç»“åˆæ•°æ®åŠ«æŒï¼Œåœ¨è¯»å–æ•°æ®æ—¶è¿›è¡Œä¾èµ–æ”¶é›†ï¼Œåœ¨æ•°æ®å˜åŒ–æ—¶è‡ªåŠ¨è§¦å‘è§†å›¾æ›´æ–°



dataé‡Œé¢çš„æ•°æ®ä¼šé€šè¿‡ Object.definePropertyæ–¹æ³•åŠ å·¥ï¼Œç»™æ•°æ®æ·»åŠ getterå’Œsetterï¼Œ

Vue åœ¨åˆå§‹åŒ–æ•°æ®æ—¶ï¼Œä¼šä½¿ç”¨ Object.defineProperty é‡æ–°å®šä¹‰ data ä¸­çš„æ‰€æœ‰å±æ€§ï¼Œç»™æ•°æ®æ·»åŠ getterå’Œsettetï¼Œå½“é¡µé¢ä½¿ç”¨å¯¹åº”å±æ€§æ—¶ï¼Œé¦–å…ˆä¼šè¿›è¡Œä¾èµ–æ”¶é›†(æ”¶é›†å½“å‰ç»„ä»¶çš„ watcher)ï¼Œå¦‚æœå±æ€§å‘ç”Ÿå˜åŒ–ä¼šé€šçŸ¥ç›¸å…³ä¾èµ–è¿›è¡Œæ›´æ–°æ“ä½œ(å‘å¸ƒè®¢é˜…)ã€‚

å°±å°†è¿™æ ·åŠ å·¥åçš„å¯¹è±¡ä¼ ç»™vmå®ä¾‹çš„_dataå±æ€§ï¼Œ



è¿™æ ·ä¹‹åï¼Œdataé‡Œçš„æ•°æ®å‘ç”Ÿå˜åŒ–å°±ä¼šè°ƒç”¨setæ–¹æ³•ï¼Œç„¶åé‡æ–°æ¸²æŸ“vueæ¨¡æ¿ï¼Œå°±è¾¾åˆ°å“åº”å¼çš„æ•ˆæœäº†



è®²ä¸€ä¸‹è§£ææ¨¡æ¿åé¢çš„æ“ä½œâ€”ã€‹è°ƒç”¨ set æ–¹æ³•æ—¶ï¼Œå°±ä¼šå»è§£ææ¨¡æ¿----->ç”Ÿæˆæ–°çš„è™šæ‹Ÿ DOM----->æ–°æ—§DOM å¯¹æ¯” -----> æ›´æ–°é¡µé¢



æ‰€è°“å“åº”å¼å°±æ˜¯é¦–å…ˆå»ºç«‹å“åº”å¼æ•°æ®å’Œä¾èµ–ä¹‹é—´çš„å…³ç³»ï¼Œå½“è¿™äº›å“åº”å¼æ•°æ®å‘ç”Ÿå˜åŒ–çš„æ—¶å€™ï¼Œå¯ä»¥é€šçŸ¥é‚£äº›ç»‘å®šè¿™äº›æ•°æ®çš„ä¾èµ–è¿›è¡Œç›¸å…³æ“ä½œï¼Œå¯ä»¥æ˜¯ DOM æ›´æ–°ï¼Œä¹Ÿå¯ä»¥æ˜¯æ‰§è¡Œä¸€ä¸ªå›è°ƒå‡½æ•°ã€‚

æ„Ÿè§‰è¿™é‡Œå¯¹ä¾èµ–çš„è§£é‡ŠæŒºå¥½çš„



Vue2 é€šè¿‡ Object.defineProperty å°†å¯¹è±¡çš„å±æ€§è½¬æ¢æˆ getter/setter çš„å½¢å¼æ¥è¿›è¡Œç›‘å¬å®ƒä»¬çš„å˜åŒ–ï¼Œå½“è¯»å–å±æ€§å€¼çš„æ—¶å€™ä¼šè§¦å‘ getter è¿›è¡Œä¾èµ–æ”¶é›†ï¼Œå½“è®¾ç½®å¯¹è±¡å±æ€§å€¼çš„æ—¶å€™ä¼šè§¦å‘ setter è¿›è¡Œå‘ç›¸å…³ä¾èµ–å‘é€é€šçŸ¥ï¼Œä»è€Œè¿›è¡Œç›¸å…³æ“ä½œã€‚

ç”±äº Object.defineProperty åªå¯¹å±æ€§ key è¿›è¡Œç›‘å¬ï¼Œæ— æ³•å¯¹å¼•ç”¨å¯¹è±¡è¿›è¡Œç›‘å¬ï¼Œæ‰€ä»¥åœ¨ Vue2 ä¸­åˆ›å»ºä¸€ä¸ªäº† Observer ç±»å¯¹æ•´ä¸ªå¯¹è±¡çš„ä¾èµ–è¿›è¡Œç®¡ç†ï¼Œå½“å¯¹å“åº”å¼å¯¹è±¡è¿›è¡Œæ–°å¢æˆ–è€…åˆ é™¤åˆ™ç”±å“åº”å¼å¯¹è±¡ä¸­çš„ dep é€šçŸ¥ç›¸å…³ä¾èµ–è¿›è¡Œæ›´æ–°æ“ä½œã€‚

Object.defineProperty ä¹Ÿå¯ä»¥å®ç°å¯¹æ•°ç»„çš„ç›‘å¬çš„ï¼Œä½†å› ä¸ºæ€§èƒ½çš„åŸå›  Vue2 æ”¾å¼ƒäº†è¿™ç§æ–¹æ¡ˆï¼Œæ”¹ç”±é‡å†™æ•°ç»„åŸå‹å¯¹è±¡ä¸Šçš„ 7 ä¸ªèƒ½æ“ä½œæ•°ç»„å†…å®¹çš„å˜æ›´çš„æ–¹æ³•ï¼Œä»è€Œå®ç°å¯¹æ•°ç»„çš„å“åº”å¼ç›‘å¬ã€‚

[2023é«˜é¢‘å‰ç«¯é¢è¯•é¢˜åˆé›†ä¹‹Vueï¼ˆä¸Šç¯‡ï¼‰ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7208005892313579576#heading-5)

[é¢è¯•å®˜çš„æ­¥æ­¥ç´§é€¼ï¼šVue2 å’Œ Vue3 çš„å“åº”å¼åŸç†æ¯”å¯¹ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7124351370521477128?searchId=2023110816413458E71716FB6044C392D0)

å¯¹è±¡çš„è¯

Vue æ·»åŠ æˆ–ç§»é™¤å¯¹è±¡é‡Œçš„å±æ€§æ˜¯æ— æ³•ç›‘æµ‹åˆ°çš„ï¼Œå…ˆè®©`data` å¯¹è±¡ä¸Šå­˜åœ¨æ‰èƒ½è®© Vue å°†å®ƒè½¬æ¢ä¸ºå“åº”å¼çš„ï¼Œæ‰€ä»¥ç”¨$setå‘å“åº”å¼å¯¹è±¡ä¸­æ·»åŠ ä¸€ä¸ªå“åº”å¼`property`

ç›‘æµ‹æ•°ç»„åˆä¸ä¸€æ ·ï¼Œ

é€šè¿‡é‡å†™æ•°ç»„æ–¹æ³•ï¼Œè°ƒç”¨æ–¹æ³•åï¼Œé‡æ–°è§£ææ¨¡æ¿ï¼Œè¿›è€Œæ›´æ–°é¡µé¢







## åŒå‘æ•°æ®ç»‘å®š

Vue çš„æ•°æ®åŒå‘ç»‘å®šæ•´åˆäº† Observerï¼ŒCompile å’Œ Watcher ä¸‰è€…ï¼Œ

é€šè¿‡ Observer æ¥ç›‘å¬è‡ªå·±çš„ model çš„æ•°æ®å˜åŒ–ï¼Œ

é€šè¿‡ Compile æ¥è§£æç¼–è¯‘æ¨¡æ¿æŒ‡ä»¤ï¼Œ

æœ€ç»ˆåˆ©ç”¨ Watcher æ­èµ· Observer å’Œ Compile ä¹‹é—´çš„é€šä¿¡æ¡¥æ¢ï¼Œ

è¾¾åˆ°æ•°æ®å˜åŒ–->è§†å›¾æ›´æ–°ï¼Œè§†å›¾äº¤äº’å˜åŒ–ï¼ˆä¾‹å¦‚ input æ“ä½œï¼‰->æ•°æ® model å˜æ›´çš„åŒå‘ç»‘å®šæ•ˆæœã€‚


é“¾æ¥ï¼šhttps://juejin.cn/post/7208005892313579576

##  Vue å­ç»„ä»¶å’Œçˆ¶ç»„ä»¶æ‰§è¡Œé¡ºåº

**åŠ è½½æ¸²æŸ“è¿‡ç¨‹ï¼š**

1. çˆ¶ç»„ä»¶ beforeCreate
2. çˆ¶ç»„ä»¶ created
3. çˆ¶ç»„ä»¶ beforeMount      
4. â€‹    å­ç»„ä»¶ beforeCreate
5. â€‹    å­ç»„ä»¶ created
6. â€‹    å­ç»„ä»¶ beforeMount
7. â€‹    å­ç»„ä»¶ mounted
8. çˆ¶ç»„ä»¶ mounted

çˆ¶ç»„ä»¶åœ¨beforeMounté‡Œé‡åˆ°å­ç»„ä»¶å°±ä¼šå¼€å§‹å­ç»„ä»¶ï¼Œç›´åˆ°å­ç»„ä»¶moutedå†å›æ¥

ä½œè€…ï¼šCUGGZ
é“¾æ¥ï¼šhttps://juejin.cn/post/6919373017218809864
æ¥æºï¼šç¨€åœŸæ˜é‡‘
è‘—ä½œæƒå½’ä½œè€…æ‰€æœ‰ã€‚å•†ä¸šè½¬è½½è¯·è”ç³»ä½œè€…è·å¾—æˆæƒï¼Œéå•†ä¸šè½¬è½½è¯·æ³¨æ˜å‡ºå¤„ã€‚



## ä½“ä¼š	:class å’Œ:styleçš„åŒºåˆ«

Class ä¸ Style ç»‘å®š | Vue.js (vuejs.org)



ä¹‹å‰æœ‰ç‚¹åŒºåˆ†ä¸å¼€ï¼šclassçš„å¯¹è±¡ä½¿ç”¨ï¼ˆç°åœ¨è¿˜æ˜¯ä¸æ˜ç™½ï¼Œæ€ä¹ˆæœ‰äº›ç”¨äº†â€˜ â€™ï¼Œæœ‰äº›æ²¡ç”¨ï¼‰



æˆ‘ä»¬å¯ä»¥ç»™ :class ç»‘å®šä¸€ä¸ªæ•°ç»„æ¥æ¸²æŸ“å¤šä¸ª CSS classï¼š



data() {

  return {

â€‹    activeClass: 'active',

â€‹    errorClass: 'text-danger'

  }

}

template



<div :class="[activeClass, errorClass]"></div>

:style æ”¯æŒç»‘å®š JavaScript å¯¹è±¡å€¼ï¼Œå¯¹åº”çš„æ˜¯ HTML å…ƒç´ çš„ style å±æ€§ï¼š



data() {

  return {

â€‹    activeColor: 'red',

â€‹    fontSize: 30

  }

}

template





## vueåŠ ç›‘å¬å™¨ï¼Œä¸ä»…å¯ä»¥ç”¨watchå»ç›‘å¬ï¼Œ

 è¿˜å¯ä»¥ç›´æ¥åŠ window.addEventListener('load', this.refresh, false);  ï¼ˆåœ¨beforeDestoryé‡Œé”€æ¯ï¼‰





##  $xxTab: Tab

å’Œ

```js
 tabInstance.open(getModuleName('office'), 'é€šçŸ¥è¯¦æƒ…', { ...options, messageVo: res })

export const tabInstance = new Tab()


```



 this.$xxTab.open('office', 'æ–‡ä»¶æ‰“å°', { resource: `?file=${url}`, params: data, current })

å’Œ	this.$xxTab.getArgs()é‡Œè¯·æ±‚å‚æ•°å½¢æˆé—­ç¯





## è¿‡æ»¤å™¨

- æ³¨å†Œè¿‡æ»¤å™¨ï¼šVue.filter(name,callback) æˆ– new Vue{filters:{}}
- ä½¿ç”¨è¿‡æ»¤å™¨ï¼š{{ xxx | è¿‡æ»¤å™¨å}} æˆ– v-bind:å±æ€§ = â€œxxx | è¿‡æ»¤å™¨åâ€

å•æ–œæ  |



```vue
<li>å•†å“ä»·æ ¼ï¼š{{item.price | filterPrice}}</li>

 filters: {
    filterPrice (price) {
      return price ? ('ï¿¥' + price) : '--'
    }
  }

```

é“¾æ¥ï¼šhttps://juejin.cn/post/6919373017218809864



â€‹	



## å¼‚æ­¥äº‹ä»¶è¿”å›

![image-20231107111138797](%E6%95%B4%E7%90%86.assets/image-20231107111138797.png)

å­ç»„ä»¶ä¸­å¯ä»¥è¿™ä¹ˆè¿”å›äº†

ï¼ˆå› ä¸ºawaitå°±æ˜¯å¤„ç†Promiseè¿”å›çš„å§ï¼‰

![image-20231107111152884](%E6%95%B4%E7%90%86.assets/image-20231107111152884.png)





## iså±æ€§

**é¢„æœŸ**ï¼š`string | Object (ç»„ä»¶çš„é€‰é¡¹å¯¹è±¡)`

ç”¨äº[åŠ¨æ€ç»„ä»¶](https://v2.cn.vuejs.org/v2/guide/components.html#åŠ¨æ€ç»„ä»¶)ä¸”åŸºäº [DOM å†…æ¨¡æ¿çš„é™åˆ¶](https://v2.cn.vuejs.org/v2/guide/components.html#è§£æ-DOM-æ¨¡æ¿æ—¶çš„æ³¨æ„äº‹é¡¹)æ¥å·¥ä½œã€‚

ç¤ºä¾‹ï¼š

```vue
<!-- å½“ `currentView` æ”¹å˜æ—¶ï¼Œç»„ä»¶ä¹Ÿè·Ÿç€æ”¹å˜ -->
<component v-bind:is="currentView"></component>
<!-- è¿™æ ·åšæ˜¯æœ‰å¿…è¦çš„ï¼Œå› ä¸º `<my-row>` æ”¾åœ¨ä¸€ä¸ª --><!-- `<table>` å†…å¯èƒ½æ— æ•ˆä¸”è¢«æ”¾ç½®åˆ°å¤–é¢ -->
<table>  <tr is="my-row"></tr></table>
```

# Vue3ä¸å°ç¨‹åº

åœ¨8_14é‡Œ

# axios

**é‚£ä¸ªå¯¼å‡ºçš„é…ç½®é¡¹ï¼Œå†™çš„ç‰¹åˆ«å¥½ç‰¹åˆ«å…¨ï¼Œå¦‚æœæé€äº†ï¼Œæˆ‘è€ƒï¼Œé¢è¯•axiosäºŒæ¬¡å°è£…éšä¾¿é—®**

axiosçš„ä½¿ç”¨å’ŒäºŒæ¬¡å°è£…çš„ä¸€äº›å®ä¾‹ï¼Œè¯·æ±‚é…ç½®ã€é»˜è®¤é…ç½®é¡¹ã€è‡ªå®šä¹‰é…ç½®é¡¹

const request = axios.create({ timeout: 60000 })

å¼€å§‹å†™è‡ªå®šä¹‰é…ç½®é¡¹

è‡ªå®šä¹‰é…ç½®ï¼Œå†™ä¸ªrequest ï¼Œexport å‡ºæ¥

ç»Ÿä¸€æ”¾åˆ°ä¸€ä¸ªåœ°æ–¹ç®¡ç†

```js
import {request} from "@/utils/request";
import {cookies} from "@/utils/cookies";
```



```js
// ä¸Šé¢ä¸¤ä¸ªç±»å·²ç»æ’æŸ¥å®Œäº†ï¼Œå…ˆåœ¨è¿™ä¸ªæ–‡ä»¶ä¸­å£°æ˜ï¼Œæ–¹ä¾¿åé¢çš„ä½¿ç”¨
export {request, cookies}

```

åœ¨å¤–é¢å¼•å…¥ requestæ–¹æ³•åç›´æ¥ returnç”¨

```js
export const getExport = (url: string, params: Object, fileName = '') => {
 return request({
  url: url,
  params: params,
  method: 'get',
  responseType: 'blob',
  baseURL: baseUrl
 }).then((res: any) => {
```



æ–‡ä»¶é¢„è§ˆä¸­

```js
  // ç”³æŠ¥ææ–™
 async initDeclareTreeData() {
	const { data }: any = await fetch.get('/xiangmu/prj/box/declareTree', {
      projectCode: this.subParams.projectCode
    })
```

fetch.tsä¸­å°è£…çš„getæ–¹æ³•

```js
export const get = (url: string, params: Object) => {
  return request({
    url: url,
    params: params,
    method: 'get',
    baseURL: baseUrl
  })
}
```





- [ ] Request.tsçš„å¯¼å‡ºè¯·æ±‚

å¯ä»¥ç»“åˆé¡¹ç›®çœ‹ï¼Œé‡ç‚¹è¯·æ±‚æ‹¦æˆªå’Œå“åº”æ‹¦æˆªï¼Œæ£€æµ‹æƒé™ï¼ˆæ˜¯å¦ç™»å½•ï¼‰

- [ ] fetch.ts 


```js
export const getExport = (url: string, params: Object, fileName = '') => {
  return request({
    url: url,
    params: params,
    method: 'get',
    responseType: 'blob',
    baseURL: baseUrl
  }).then((res: any) => {
  //ä¸»è¦æ˜¯è¿™ä¸€å—
    const blob = new Blob([res.data], {type: res.headers['content-type']})
    const link = document.createElement('a')
    link.href = window.URL.createObjectURL(blob)
    link.download = fileName ? fileName + '.xlsx' : decodeURI(res.headers['content-disposition'].split('=')[1])
    link.click()
    window.URL.revokeObjectURL(link.href)
    
  })
}
```





æœ‰å°è£…æ‹¦æˆªå™¨è”æƒ³åˆ°æƒé™ç®¡ç†ï¼Œè¿™äº›å°±å±äºæ¥å£æƒé™

è·¯ç”±å®ˆå«å°±æ˜¯è·¯ç”±æƒé™



è¿˜æœ‰èœå•æƒé™ã€æŒ‰é’®æƒé™



[TypeScriptå®æˆ˜ä¹‹ç”¨TSå°è£…Axios - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7113475007598034951?searchId=202308111708457DF3B53886CEC20788F3)









Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·Â·

#### paramsSerializer åºåˆ—åŒ–



paramsSerializer

åºåˆ—åŒ–è‡ªå®šä¹‰å‚æ•°ï¼Œç”¨qsåº“

[axiosè¯·æ±‚ä¼ å‚è‡ªå®šä¹‰paramsSerializeråºåˆ—åŒ–_axios paramsserializer_ç å¤§æ˜Ÿçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/hututu3/article/details/123222938)

[npm ä¸­ qsåº“çš„ä»‹ç»ä¸ä½¿ç”¨ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7125723650627469319#heading-4)

```js
 config.paramsSerializer = function (params) {
        return QS.stringify(params, { arrayFormat: 'repeat' }
```







[axiosè¯·æ±‚ä¼ å‚è‡ªå®šä¹‰paramsSerializeråºåˆ—åŒ–_axios paramsserializer_ç å¤§æ˜Ÿçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/hututu3/article/details/123222938)



[npm ä¸­ qsåº“çš„ä»‹ç»ä¸ä½¿ç”¨ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7125723650627469319#heading-4)



[TypeScriptå®æˆ˜ä¹‹ç”¨TSå°è£…Axios - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7113475007598034951?searchId=202308111708457DF3B53886CEC20788F3)

### axiosæ‹¦æˆªå™¨

utils/request.ts

è¿™ä¸å°±æ”¾åˆ°è¯·æ±‚å¤´é‡Œäº†

  **config.headers['Authorization'] =authorization**

```js
// requestæ‹¦æˆªå™¨
request.interceptors.request.use(

  (config) => {
    // æ³¨æ„ è·å–çš„tokenæ˜¯ä»cookiesä¸­ï¼Œè¡¨å•è®¾è®¡å™¨ä¸­æ˜¯å­˜å‚¨åœ¨sessionä¸­

    setToast()
    const onlineAuth = cookies.getToken()
    const authorization = onlineAuth ? `Bearer ${onlineAuth}` : auth;
    config.headers['Authorization'] = authorization
    if (config.method === 'get') {
      config.paramsSerializer = function (params) {
        return QS.stringify(params, { arrayFormat: 'repeat' })
      }
    }
    return config
  },
  (error) => {
    Promise.reject(error)
  }
)

```







# vue-router

æ€ä¹ˆå®ç°ï¼š

å¼•å…¥è¿‡æ¥ç”¨ç„¶ååˆ›å»ºè·¯ç”±è§„åˆ™æ•°ç»„å»ç”Ÿæˆè·¯ç”±å¯¹è±¡ï¼Œæ³¨å…¥newå®ä¾‹ä¸­

å£°æ˜å¼ï¼š

router-linkæ¥æ›¿ä»£aæ ‡ç­¾,ç‚¹å‡»è·³è½¬ï¼Œç„¶ååœ¨router-viewå¤„æ˜¾ç¤º

to=/path?å‚æ•°å=å€¼

ä¾‹ï¼š`to="/part?name=å°æ˜"`

```
<template>
  <div>
    <div class="footer_wrap">
      <router-link to="/find">å‘ç°éŸ³ä¹</router-link>
      <router-link to="/my">æˆ‘çš„éŸ³ä¹</router-link>
      <router-link to="/part">æœ‹å‹</router-link>
    </div>
    <div class="top">
      <router-view></router-view>
    </div>
  </div>
</template>
//åœ¨æ§åˆ¶å°å…ƒç´ æ£€æŸ¥æ—¶ä¼šå‘ç°æ¿€æ´»çš„ç±»å åœ¨æ ·å¼styleä¸­å®šä¹‰é«˜äº®æ ·å¼ ç‚¹å‡»æ—¶å°±ä¼šé«˜äº®

```



[vueä¸­å®ç°è·¯ç”±è·³è½¬çš„ä¸‰ç§æ–¹å¼ï¼ˆè¶…è¯¦ç»†æ•´ç†ï¼‰_vueè·¯ç”±è·³è½¬_æ®¿å›ä¸æ˜¯æ®¿å†›çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_43375584/article/details/125242665)







this.$router.push({ name:â€˜helloâ€™, query:{ name:â€˜wordâ€™, age:â€˜11â€™ } })

æºå¸¦å‚æ•°ä¼ è¿‡å»ï¼Œå†this.$route.query.å‚æ•°	å»ä½¿ç”¨

### `$route`å’Œ`$router`çš„åŒºåˆ«

> - $routeæ˜¯â€œè·¯ç”±ä¿¡æ¯å¯¹è±¡â€ï¼ŒåŒ…æ‹¬pathï¼Œparamsï¼Œhashï¼Œqueryï¼ŒfullPathï¼Œmatchedï¼Œnameç­‰è·¯ç”±ä¿¡æ¯å‚æ•°ã€‚
> - $routeræ˜¯â€œè·¯ç”±å®ä¾‹â€å¯¹è±¡åŒ…æ‹¬äº†è·¯ç”±çš„è·³è½¬æ–¹æ³•ï¼Œé’©å­å‡½æ•°ç­‰ã€‚



### è·¯ç”±è·³è½¬æ–¹å¼name ã€ path å’Œä¼ å‚æ–¹å¼params ã€queryçš„åŒºåˆ«ï¼ˆé‡è¦ï¼‰

path å’Œ nameè·¯ç”±è·³è½¬æ–¹å¼ï¼Œéƒ½å¯ä»¥ç”¨queryä¼ å‚

![img](%E6%95%B4%E7%90%86.assets/7872f464b54aae0d00bc50b2e0f4d89c.png)

- ä½¿ç”¨pathæ–¹å¼è·³è½¬è·¯ç”± pathä¼šå¿½ç•¥params æ‰€ä»¥pathä¸èƒ½å’Œparamsä¸€èµ·ä½¿ç”¨
- æ¨èä½¿ç”¨name+queryå®ç°è·¯ç”±è·³è½¬

ï¼ˆqueryå°±æ˜¯ç›´æ¥æ‹¼æ¥åœ¨urlé‡Œï¼‰

nameåªèƒ½+params

ä¸¤ä¸ªpä¸èƒ½åŒæ—¶å‡ºç°





##### Vue-routerçš„å°è£…æ€æƒ³å’Œä½¿ç”¨:

- å…¨åœ¨App_main.tsé‡Œï¼ˆå…¥å£æ–‡ä»¶è€Œå·²ï¼‰

routerMainåœ¨è¿™é‡Œå¼•å…¥å’Œappé‡Œä½¿ç”¨ï¼Œä½¿å¾—// routerMain ç›¸å½“äº this.$router  è·¯ç”±å¯¹è±¡

ä»è¿™é‡Œçœ‹è¿›routerMainçš„indexï¼š

è·¯ç”±å¯¹è±¡åœ¨è¿™newã€å¯¼å‡ºï¼›æ±‡æ€»åœ¨è¿™å¼•å…¥å†™çš„å…¶ä»–å°æ¨¡å—çš„è·¯ç”±æ–‡ä»¶

```
const routerMain = new VueRouter({
  mode: 'history',
  base: process.env.BASE_URL,
  routes: routeAll
})

export { routeAll, routeName2PathMap, routerMain }
export default routerMain

```



- è·¯ç”±ä¼ å‚

- è·¯ç”±å®ˆå«ï¼šsrc\router\filter\routerFilter.ts    è®°å½•ä¸‹å¸¸è§„ç”¨æ³•ï¼Œåœ¨è¿™é‡Œå¯¹æˆ‘è¯´ï¼Œæˆ‘æƒ³åœ¨vueä¸­è¿™é‡Œï¼Œè¯¥æ€ä¹ˆåš

  `routerMain.beforeEach(async (to: Route, _: Route, nextStep: any) => {`

   `console.log(to.path,'to.path====>>>>>')`

   `if(to.path.startsWith('/sub/subSystem-xyna') ){`

    `document.title = 'é•¿æ²™å¸‚ä¿¡ç”¨å†œå®‰æ™ºæ…§ç›‘ç®¡å¹³å°'`

   `}`

   `if(to.path.startsWith('/sub/subSystem-cloud') ){`

    `document.title = 'æ™ºæ…§å†œä¸šå†œæ‘äº‘ä¸Šèµ„æ–™åº“'`

   `}`





## queryå’Œparamsä¼ å‚çš„åŒºåˆ«

<details open=""> <summary>å‚è€ƒç­”æ¡ˆ</summary>
<ul>
<li><strong>queryä¼ é€’å‚æ•°</strong>
<code>query</code>ä¼ é€’å‚æ•°ä¸ä¼šå‡ºç°å‚æ•°ä¸¢å¤±çš„æƒ…å†µï¼Œä¸éœ€è¦åšå…¶ä»–é…ç½®ï¼Œç¼ºç‚¹å°±æ˜¯å‚æ•°ä¼šæ‹¼æ¥åˆ°urlåé¢ï¼šurl?xx==yyè¿™ç§æ–¹å¼æ¥ä¼ é€’ï¼Œä¼šæš´éœ²å‚æ•°ï¼Œå¹¶ä¸”urlä¹Ÿæœ‰å­—ç¬¦é•¿åº¦çš„é™åˆ¶ã€‚</li>
</ul>
<p>ä½¿ç”¨æ–¹å¼: <code>this.$router.push({path: 'path', query: {id:1}})</code><br>
è·å–å‚æ•°: <code>this.$route.query.id</code>è·å–keyä¸ºidçš„è·¯ç”±å‚æ•°</p>
<ul>
<li><strong>paramsä¼ é€’å‚æ•°</strong>
paramsä¼ é€’å‚æ•°æ˜¯å°†å‚æ•°æ”¾åœ¨<code>route</code>å¯¹è±¡ä¸­ï¼Œæ²¡æœ‰æ”¾åœ¨urlåé¢ï¼Œä½†æ˜¯åœ¨è·³è½¬ä¹‹åçš„é¡µé¢åˆ·æ–°æ—¶ï¼Œä¼šå¯¼è‡´å½“å‰è·¯ç”±ä¸­ä¿å­˜çš„paramsçš„å‚æ•°ä¸¢å¤±ã€‚</li>
</ul>
<p>ä½¿ç”¨æ–¹å¼ï¼š<code>this.$router.push({name: 'name', params:{id:1}})</code><br>
è·å–å‚æ•°: <code>this.$route.params.id</code>&nbsp;è·å–routeå¯¹è±¡ä¸­çš„Paramsçš„å‚æ•°ä¿¡æ¯</p></details>




é“¾æ¥ï¼šhttps://juejin.cn/post/6998324288465928205







## ç»„ä»¶ç¼“å­˜



é¢è¯•é¢˜é‡Œå•çº¯ä»ä½¿ç”¨å‡ºå‘ï¼š

é‚£å°±æ˜¯æ”¾åœ¨è·¯ç”±çš„metaé‡Œ

æœ‰æ—¶ï¼Œä½ å¯èƒ½å¸Œæœ›å°†ä»»æ„ä¿¡æ¯é™„åŠ åˆ°è·¯ç”±ä¸Šï¼Œå¦‚è¿‡æ¸¡åç§°ã€è°å¯ä»¥è®¿é—®è·¯ç”±ç­‰ã€‚è¿™äº›äº‹æƒ…å¯ä»¥é€šè¿‡æ¥æ”¶å±æ€§å¯¹è±¡çš„`meta`å±æ€§æ¥å®ç°ï¼Œå¹¶ä¸”å®ƒå¯ä»¥åœ¨è·¯ç”±åœ°å€å’Œå¯¼èˆªå®ˆå«ä¸Šéƒ½è¢«è®¿é—®åˆ°



ä½¿ç”¨ï¼šå°±å½“ç»„ä»¶è·¯ç”±çš„ä¸€ä¸ªå±æ€§ç”¨

[è·¯ç”±å…ƒä¿¡æ¯ | Vue Router (vuejs.org)](https://router.vuejs.org/zh/guide/advanced/meta.html)





[vue+typescript+routerç›‘å¬è·¯ç”±å˜åŒ– - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/d41a689647a2)

ç¼“å­˜åå¦‚ä½•è·å–æ•°æ®

- beforeRouteEnter
- actived



é¡¹ç›®é‡Œé¢å°±æ˜¯æŠŠç»„ä»¶ç¼“å­˜çš„ç™½åå•ç”¨vuexå­˜èµ·æ¥ï¼Œç„¶åå†é€šè¿‡ç”Ÿå‘½å‘¨æœŸæ“ä½œæ•°æ®

beforeRouteLeaveï¼ŒbeforeRouteEnterï¼Œactivedï¼Œdeactivated



ä¸šåŠ¡å†…å®¹

ç‚¹å‡»äº†å…¶ä»–é¡µé¢ï¼Œå†ç¦»å¼€è¯¥é¡µé¢æ—¶é€šè¿‡vuexæŠŠé¡µé¢æ”¾è¿›ç™½åå•ï¼ŒæŠŠé¡µé¢è¿›è¡Œç¼“å­˜ï¼Œè¿™æ ·å›æ¥ä¹‹å‰çš„ä¸œè¥¿å°±éƒ½åœ¨äº†



```js
  beforeRouteLeave (to: any, from: any, next: any) {
    if (to.path !== '/supervise/chooseUnit') {
      AppModule.REMOVE_KEEP_ALIVE_PAGES('addRecord')
    }
    next()
  }
//ç„¶åæŠŠå¦ä¸ªé¡µé¢è·å–çš„æ•°æ®ä¹Ÿå­˜vuexé‡Œï¼Œå›æ¥åœ¨é’©å­é‡Œå–å‡ºæ¥

å›æ¥çš„æ—¶å€™å–æ•°æ®
  activated () {
    const formData: any = SuperviseModule.formData
    this.formData = { ...this.formData, ...formData }
  }
```



è®¾ç½®äº† keep-alive ç¼“å­˜çš„ç»„ä»¶ï¼Œä¼šå¤šå‡ºä¸¤ä¸ªç”Ÿå‘½å‘¨æœŸé’©å­ï¼ˆ`activated`ä¸`deactivated`ï¼‰ï¼š

- é¦–æ¬¡è¿›å…¥ç»„ä»¶æ—¶ï¼š`beforeRouteEnter` > `beforeCreate` > `created`> `mounted` > `activated` > ... ... > `beforeRouteLeave` > `deactivated`
- å†æ¬¡è¿›å…¥ç»„ä»¶æ—¶ï¼š`beforeRouteEnter` >`activated` > ... ... > `beforeRouteLeave` > `deactivated`





## è·¯ç”±å®ˆå«

æ¥è‡ª8_11

hashå’Œhistoryçš„åŒºåˆ«

hash: â€œ#â€,ä¸ä¼šå¯¼è‡´æµè§ˆå™¨å‘æœåŠ¡å™¨å‘å‡ºè¯·æ±‚,ç›‘å¬ hashchange ,hash å¯ä»¥æ”¯æŒä½ç‰ˆæœ¬æµè§ˆå™¨å’Œ IE

history :historyè¦å¤„ç†ï¼ŒH5 æ ‡å‡†å‘å¸ƒçš„ä¸¤ä¸ª APIï¼ŒpushState å’Œ replaceState



å…¨å±€è·¯ç”±ã€ç»„ä»¶è·¯ç”±ç­‰ï¼Œéƒ½å»çœ‹çœ‹

æ˜¯ä¸æ˜¯ä¹Ÿå°±æ˜¯å†™ç”Ÿå‘½å‘¨æœŸå‡½æ•°ï¼Ÿ

### toã€fromã€nextä¸‰ä¸ªå‚æ•°çš„ä½¿ç”¨

toã€fromæ‹¿åˆ°çš„éƒ½æ˜¯æ•´ä¸ªè·¯ç”±å¯¹è±¡

```js
é•¿è¿™æ ·
	name: 'é€‰æ‹©å·¡æ£€å•ä½',
    meta: {â€¦}, 
    path: '/supervise/chooseUnit',
    hash: '', 
    query: {â€¦},
```





```js
next({ name: 'Login' })
```

nextå°±æ˜¯ä¸ªæ–¹æ³•ï¼Œåº”è¯¥æ˜¯å¯é€‰çš„å»çœ‹çœ‹å°šç¡…è°·

```js
Æ’ (to) {
        if (to === false) {
          // next(false) -> abort navigation, ensure current URL
          this$1.ensureURL(true);
          abort(createNavigationAbortedError(current, route));
  â€¦
```





#### è·¯ç”±å®ˆå«ï¼š

å…¨å±€å®ˆå«ã€ç‹¬äº«å®ˆå«ã€ç»„ä»¶å†…å®ˆå«

å…¨å±€

beforeEach		afterEach

ç‹¬äº«å®ˆå«:

> å°±æ˜¯åœ¨ routes å­è·¯ç”±å†…å†™å®ˆå«

beforeEnterï¼Œ

ç»„ä»¶

beforeRouteEnter  beforeRouteLeave 

```js
beforeRouteLeave (to: any, from: any, next: any) {
    if (to.path === '/declare/index') {
      AppModule.REMOVE_KEEP_ALIVE_PAGES('superviseForVillages')
    }
    next()
  }
```





â€‹	ç»„ä»¶ç¼“å­˜åœ¨superviseForVillatesé‡Œï¼Œå­˜åœ¨äº†appmoudleé‡Œï¼Œçœ‹é‚£ä¸ªbeforé’©å­

include ä»€ä¹ˆçš„ åœ¨App.vueé‡Œ

```vue
<template>
  <div id="app" class="theme-default theme-standardFontSize theme-systemFontWeight">
    <transition name="fade">
      <keep-alive :include="keepAlivePages">
        <router-view />
      </keep-alive>
    </transition>
    <!-- <back-top :key="backTopKey"> </back-top>.list-box .van-list -->
  </div>
</template>


  get keepAlivePages() {
    return AppModule.keepAlivePages
  }
```





# Vuex

**é¡µé¢é€šè¿‡mapActionå¼‚æ­¥æäº¤äº‹ä»¶åˆ°actionã€‚actioné€šè¿‡commitæŠŠå¯¹åº”å‚æ•°åŒæ­¥æäº¤åˆ°mutationã€‚ mutationä¼šä¿®æ”¹stateä¸­å¯¹äºçš„å€¼ã€‚ æœ€åé€šè¿‡getteræŠŠå¯¹åº”å€¼è·‘å‡ºå»ï¼Œåœ¨é¡µé¢çš„è®¡ç®—å±æ€§ä¸­ é€šè¿‡mapGetteræ¥åŠ¨æ€è·å–stateä¸­çš„å€¼**





### mapï¼ˆå­¦åå«æ˜ å°„ ï¼‰

æˆ‘æƒ³è¦åœ¨é¡¹ç›®é‡Œç®€å†™çœç•¥this.$store.stateï¼Œå®˜æ–¹æ•™ä½ å·æ‡’ï¼Œä¸ç”¨äº²è‡ªå»å†™è®¡ç®—å±æ€§ï¼Œ

...mapState çš„æ„æ€å°±æ˜¯æŠŠmapStateçš„å‚æ•°ç»™è§£å¼€æ”¾è¿›computedé‡Œï¼Œç»è¿‡ä¸‹é¢è¿™æ ·å°±å¯ä»¥ç›´æ¥åœ¨ç»„ä»¶ç”¨sumã€schoolç­‰äº†

```js
	computed:{		
			// å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼ˆæ•°ç»„å†™æ³•ï¼‰
			// ...mapState(['sum','school','name']),
			// å€ŸåŠ©mapStateç”Ÿæˆè®¡ç®—å±æ€§ï¼ˆå¯¹è±¡å†™æ³•ï¼‰
			...mapState({sum:'sum',school:'school',name:'name'}),

			...mapGetters(['bigSum'])
		}
https://blog.csdn.net/qq_55593227/article/details/119717498
```





### æ¨¡å—åŒ–+å‘½åç©ºé—´

éœ€è¦ä½¿ç”¨å‘½åç©ºé—´ï¼Œè¿™æ ·åœ¨ç»„ä»¶ä¸­ä½¿ç”¨çš„æ—¶å€™æ‰è®¤modules: {
    	countAbout,
    	personAbout
  	}

é‡Œçš„åå­—

```js
const countAbout = {
	namespaced:true,//å¼€å¯å‘½åç©ºé—´
	state:{x:1},
    mutations: { ... },
    actions: { ... },
  	getters: {
    	bigSum(state){
       		return state.sum * 10
    	}
  	}
}

const personAbout = {
  	namespaced:true,//å¼€å¯å‘½åç©ºé—´
  	state:{ ... },
  	mutations: { ... },
  	actions: { ... }
}

const store = new Vuex.Store({
  	modules: {
    	countAbout,
    	personAbout
  	}
})

```

å¼€å¯å‘½åç©ºé—´ååœ¨ç»„ä»¶é‡Œçš„ä½¿ç”¨,åœ¨ä¹‹å‰çš„å‚æ•°å‰é¢åˆå¤šäº†å‚æ•°ï¼Œå†™modulesé‡Œçš„å¯¹åº”çš„åå­—ï¼Œè¿™æ ·å®ƒå°±çŸ¥é“å»å“ªä¸ªé‡Œé¢æ‰¾äº†

```js
//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥è¯»å–
this.$store.state.personAbout.list
//æ–¹å¼äºŒï¼šå€ŸåŠ©mapStateè¯»å–ï¼š
...mapState('countAbout',['sum','school','subject']),
```

å…¶ä½™ä¹Ÿå·®ä¸å¤š

```js
å¼€å¯å‘½åç©ºé—´åï¼Œç»„ä»¶ä¸­è°ƒç”¨dispatch

//æ–¹å¼ä¸€ï¼šè‡ªå·±ç›´æ¥dispatch
this.$store.dispatch('personAbout/addPersonWang',person)
//æ–¹å¼äºŒï¼šå€ŸåŠ©mapActionsï¼š
...mapActions('countAbout',{incrementOdd:'jiaOdd',incrementWait:'jiaWait'})
```







# E-charts

[PPChart - è®©å›¾è¡¨æ›´ç®€å•](http://ppchart.com/#/)





## æŠ˜çº¿å›¾

### æŠ˜çº¿çš„åœ†ç‚¹æ ·å¼

[Echarts symbol æ ‡è®°çš„å›¾å½¢ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/376831728)

   series: [



â€‹    {

â€‹     name: 'å·¡æŸ¥æ¬¡æ•°',

â€‹     type: 'line',circle

â€‹     barWidth: 12,

â€‹     barGap: '80%',

â€‹     **symbol: 'pin',**

â€‹     **symbolSize: [2, 2],**



## æµç¨‹

ç»™å®½é«˜

```js
          <div class="chart-canvas" ref="xpPieChartRef"></div>
```



```js
  @Ref() xpPieChartRef!: any
```



**this.xPPieChartOneChart = echarts.init(this.xpPieChartRef)**

**this.xPPieChartOneChart.setOption(option)**

```js
 
  private xPPieChartOneChart: any = null
initXpPer () {
    this.xPPieChartOneChart = echarts.init(this.xpPieChartRef)
    const map: any = {
      ç«‹æ¡ˆå¤„ç†: 486,
      ç§»äº¤ç®¡è¾–æƒæœºå…³: 735,
      ç§»äº¤å¸æ³•: 580,
      å…¶ä»–: 484
    }
    let total = 0
    for (const mapKey in map) {
      total += map[mapKey]
    }

    const option = {
      title: {
        textAlign: 'center',
        left: '30%',
        top: '40%',
        text: 'æ€»è®¡',
        textStyle: {
          color: '#4E5969',
          align: 'center',
          fontSize: 16
        },
        subtext: `{a|${total}}æ¬¡`,
        subtextStyle: {
          rich: {
            normal: {
              textAlign: 'center'
            },
            a: {
              align: 'center',
              fontSize: 18,
              color: '#1D2129'
            }
          }
        }
      },
      tooltip: {
        trigger: 'item'
      },
      legend: [
        {
          data: ['ç«‹æ¡ˆå¤„ç†', 'ç§»äº¤ç®¡è¾–æƒæœºå…³', 'ç§»äº¤å¸æ³•', 'å…¶ä»–'],
          left: '48%',
          width: '65%',
          height: '100%',
          orient: 'vertical',
          top: 'middle',
          backgroundColor: '#f6f8fa',
          // padding: [10, 20, 10, 10],
          right: 20,
          icon: 'circle',
          formatter: (name: any) => {
            return [
              // `{a|${((map[name] / total) * 100).toFixed(2)}%}`,
              ` {a|${name}}  {b|${map[name]}}å…¬é¡·   {c|${((map[name] / total) * 100).toFixed(2)}%}    `
            ].join('\n')
          },
          textStyle: {
            rich: {
              a: {
                color: '#4e5969',
                fontSize: '12px'
              },
              b: {
                color: ' #1d2129',
                fontSize: '14px'
              },
              c: {}
            }
          }
        }
      ],
      series: [
        {
          type: 'pie',
          center: ['30%', '50%'],
          radius: ['45%', '70%'],
          avoidLabelOverlap: false,
          label: {
            normal: {
              show: false,
              position: 'inside',
              formatter: '{d}%'
            }
          },
          itemStyle: {
            borderRadius: 10,
            borderColor: '#fff',
            borderWidth: 1
          },
          color: ['#2fa8fa', '#00c362', '#fecd39', '#01c2c1', '#34C9C6', '#5CD117', '#EC8E48'],
          emphasis: {
            label: {
              show: false,
              fontSize: '20',
              fontWeight: 'bold'
            }
          },
          labelLine: {
            show: false
          },
          data: [
            { value: 486, name: 'ç«‹æ¡ˆå¤„ç†' },
            { value: 735, name: 'ç§»äº¤ç®¡è¾–æƒæœºå…³' },
            { value: 580, name: 'ç§»äº¤å¸æ³•' },
            { value: 484, name: 'å…¶ä»–' }
          ]
        }
      ]
    }
    this.xPPieChartOneChart.setOption(option)
  }
```

```js
moutendä¸­åŠ è½½		this.initXpPer()
```





[ECHARTSå­¦ä¹ ä¹‹dataZoomç»„ä»¶è¯¦è§£_æ‹œæ°´:é—®é“çš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/qq_44610701/article/details/121394969)

[echartsçš„dataZoomè¯¦è§£åŠç”¨æ³• - ç®€ä¹¦ (jianshu.com)](https://www.jianshu.com/p/da5f4a4d92ae)



## yAxis

```js
          axisLabel: {
            align: 'left',
            padding: [-100, 0, 0, 8],
            // verticalAlign: 'top',
            textStyle: {
              color: '#4E5969',
              fontSize: '12'
            }
          },
```

é paddingå»è°ƒyè½´æ–‡æœ¬ä½ç½®å§





# Element-UI

### æ ·å¼

æ ·å¼ç©¿é€::v-deep



ç”¨el-*ç®€ä¾¿æ ·å¼

el-flex

 el-flex-item-center

aligin-itemï¼šcenter





### el-row

  <!--<el-rowæ˜¯å¸ƒå±€  :gutter="20" åˆ†æ é—´éš” -->



### el-form

```
      <el-form
          :model="form"
          :rules="rules"
          label-position="top"
          ref="FormRef"
          label-width="100px"
          class="dynamic-form"
        >
```



Form ç»„ä»¶æä¾›äº†è¡¨å•éªŒè¯çš„åŠŸèƒ½ï¼Œåªéœ€è¦é€šè¿‡ `rules` å±æ€§ä¼ å…¥çº¦å®šçš„éªŒè¯è§„åˆ™ï¼Œå¹¶å°† Form-Item çš„ `prop` å±æ€§è®¾ç½®ä¸ºéœ€æ ¡éªŒçš„å­—æ®µåå³å¯ã€‚(**propå€¼éœ€è¦å’Œç»‘å®šçš„å€¼åŒåï¼ï¼ï¼**ä¸è¦å†çŠ¯é”™è¯¯äº†)

```
 private rules = {
    title: [{ required: true, message: 'è¯·è¾“å…¥', trigger: 'blur' }],
    tagIds: [{ required: true, message: 'è¯·é€‰æ‹©', trigger: 'change' }]
  }
```

[(185æ¡æ¶ˆæ¯) Elementè¡¨å•éªŒè¯rulesæ•´ç†_element rulesæœ‰å“ªäº›å±æ€§_pany_kçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/weixin_49431999/article/details/109721425)





 label-position="left" è§¦å‘è¦ç»™æ¯ä¸ªlabelèµ‹é•¿åº¦ï¼Œå› ä¸ºä¸è¿™æ ·çš„è¯æ¯ä¸ªlabelçš„widthæ˜¯100%



label-width="100px"





### descriptionsæè¿°åˆ—è¡¨

div slot="title" class="dialog-title  -------------æè¿°åˆ—è¡¨è‡ªå¸¦çš„æ’æ§½ï¼Œè¿˜æœ‰footeræ’æ§½ï¼Œé»˜è®¤æ˜¯æ˜¾ç¤ºçš„ï¼Œåœ¨è¿™æŠŠå®ƒè®¾æ²¡äº†ï¼Œå­¦ä¼šä½¿ç”¨

ä¸»è¦å‚æ•°:span

```
<div v-if="item.boolean">
            {{ dialogData[item.value] ? 'æ˜¯' : 'å¦' }}
          </div>
          <div v-else-if="item.aaa">
            123
          </div>
          <div v-else>
            {{ dialogData[item.value] || '--' }}
          </div>
```



b)  tooltip

c)  upload

d)  table

eï¼‰éª¨æ¶å±

### dialogå¼¹çª—

##### [](https://element.eleme.cn/#/zh-CN/component/dialog#slot)Slot

| name   | è¯´æ˜                    |
| :----- | :---------------------- |
| â€”      | Dialog çš„å†…å®¹           |
| title  | Dialog æ ‡é¢˜åŒºçš„å†…å®¹     |
| footer | Dialog æŒ‰é’®æ“ä½œåŒºçš„å†…å®¹ |

```
<div slot="title" class="dialog-title">
```





### el-upload

è‡ªå®šä¹‰ä¸Šä¼ æ–¹æ³• :http-request="handleUpload"		

handleUpload (params: any) 	çš„paramsæ€ä¹ˆæ¥çš„

ä¼ è¿›æ¥çš„å‚åªèƒ½å«paramsï¼ˆå› ä¸ºæ˜¯é‡å†™el-uploadè‡ªå¸¦çš„æ–¹æ³•ç¼˜æ•…å§ï¼‰ï¼Œparamså†…å®¹ï¼š

actionã€dataã€file



**è¿ç”¨åœ¨é¡¹ç›®ä¸­æ–‡ä»¶ä¸Šä¼ é¡µé¢**

â€‹	:on-success="handleSuccess"						on-success	æ–‡ä»¶ä¸Šä¼ æˆåŠŸæ—¶çš„é’©å­



â€‹    :http-request="handleUpload"					è¦†ç›–é»˜è®¤çš„ä¸Šä¼ è¡Œä¸ºï¼Œå¯ä»¥è‡ªå®šä¹‰ä¸Šä¼ çš„å®ç°ï¼ˆç”¨äº†:autoé‚£å•¥çš„è¿™ä¸ªä¼šå¤±æ•ˆï¼‰



â€‹	multiple 

 æ˜¯å¦æ”¯æŒå¤šé€‰æ–‡ä»¶   boolean	





### Tree æ ‘å½¢æ§ä»¶

[ç»„ä»¶ | Element](http://10.14.2.33:12456/#/zh-CN/component/tree#scoped-slot)

 default-expand-all  æ˜¯å¦é»˜è®¤å±•å¼€æ‰€æœ‰èŠ‚ç‚¹   é»˜è®¤false

 :indent="20"  ç›¸é‚»çº§èŠ‚ç‚¹é—´çš„æ°´å¹³ç¼©è¿›ï¼Œå•ä½ä¸ºåƒç´  	é»˜è®¤16

 slot-scope="{ node, data }"  è‡ªå®šä¹‰æ ‘èŠ‚ç‚¹çš„å†…å®¹ï¼Œå‚æ•°ä¸º { node, data }

 @node-drag-start="handleDragStart"ï¼Œ @node-drop="handleDrop"

æ‹–æ‹½å¼€å§‹ã€æ‹–æ‹½å®Œæˆ

  :allow-drop="allowDrop"  æ‹–æ‹½ä½ç½®çš„åˆ¤æ–­



### el-progress

```js
     <el-progress
            :width="200"
            :format="progressFormat"
            type="circle"
            :percentage="windowParams.loadingPercent"
          ></el-progress>
```



### Cascader çº§è”é€‰æ‹©å™¨





### el-select

```vue
   <el-select
                  v-model="formData.meetUnitId"
                  placeholder="è¯·é€‰æ‹©"
                  :disabled="idDetail"
                  :popper-append-to-body="false"
                  @change="handleUnitChange"
                  visible-change="requestMeetingPlace"
                >
                  <el-option v-for="item in unitList" :key="item.unitId" :label="item.unitName" :value="item.unitId">
                  </el-option>
                </el-select>
```



å¼€å¯æœç´¢ï¼šfilterable



æœç´¢çš„æ¡ä»¶ä¸‹å°†åˆ›å»ºæ–°çš„æ¡ç›®åŠ å…¥é€‰æ‹©æ ï¼š

`allow-create`å±æ€§å³å¯é€šè¿‡åœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æ–‡å­—æ¥åˆ›å»ºæ–°çš„æ¡ç›®ã€‚æ³¨æ„æ­¤æ—¶`filterable`å¿…é¡»ä¸ºçœŸ

 default-first-optionï¼š æŒ‰å›è½¦é€‰ä¸­åŒ¹é…é¡¹



å°è£…ä¸€ä¸‹è¿˜èƒ½å°†åˆ›å»ºçš„æ¡ç›®æ·»åŠ è¿›ä¸‹æ‹‰é€‰é¡¹





#### el-option

æ˜¾ç¤ºåœ¨é¡µé¢çš„æ˜¯ç»‘å®šçš„ï¼šlabelï¼Œv-modelé€‰ä¸­çš„å€¼æ˜¯ï¼švalue



# Webpack

çœ‹ä¸€ä¸‹æ„å»ºè¿‡ç¨‹å’Œloaderå’Œpulginçš„åŒºåˆ«

### è‡ªå®šä¹‰æ‰“åŒ…çš„å…¥å£ä¸å‡ºå£

åœ¨ webpack.config.js é…ç½®æ–‡ä»¶ä¸­ï¼Œé€šè¿‡ entry èŠ‚ç‚¹æŒ‡å®šæ‰“åŒ…çš„å…¥å£ã€‚é€šè¿‡ output èŠ‚ç‚¹æŒ‡å®šæ‰“åŒ…çš„å‡ºå£ç¤ºä¾‹ä»£ç å¦‚ä¸‹:

![image-20230904090704112](%E6%95%B4%E7%90%86.assets/image-20230904090704112.png)

æ¯æ¬¡é‡æ–°æ‰“åŒ…æŠŠdistæ–‡ä»¶å¤¹åˆ æ‰ï¼ˆé˜²æ­¢å†²çªï¼‰

æ”¹å®Œfilenameåå­—ï¼Œè‡ªç„¶çš„ä¹Ÿè¦æŠŠå¼•å…¥çš„æ°‘èµ„æ”¹æ‰





## æ’ä»¶

æ¯æ¬¡ ä¿®æ”¹å®Œä¹‹å éƒ½è¦è‡ªå·±ç”¨npm run dev è‡ªå·±æ‰“åŒ…

æ‰€ä»¥æœ‰ä»€ä¹ˆèƒ½ç›‘å¬ä»£ç ä¿®æ”¹å¸®æˆ‘ä»¬è‡ªåŠ¨æ‰“åŒ…å—

é‚£å°±è¦ç”¨åˆ°æ’ä»¶äº†







#### webpack æ’ä»¶çš„ä½œç”¨

é€šè¿‡å®‰è£…å’Œé…ç½®ç¬¬ä¸‰æ–¹çš„æ’ä»¶ï¼Œå¯ä»¥æ‹“å±• webpack çš„èƒ½åŠ›ï¼Œä»è€Œè®© webpack ç”¨èµ·æ¥æ›´æ–¹ä¾¿ã€‚æœ€å¸¸ç”¨çš„webpack æ’ä»¶æœ‰å¦‚ä¸‹ä¸¤ä¸ª:
webpack-dev-server
0
ç±»ä¼¼äºnode.js é˜¶æ®µç”¨åˆ°çš„ nodemon å·¥å…·
æ¯å½“ä¿®æ”¹äº†æºä»£ç ï¼Œwebpack ä¼šè‡ªåŠ¨è¿›è¡Œé¡¹ç›®çš„æ‰“åŒ…å’Œæ„å»ºhtml-webpack-plugin
webpack ä¸­çš„HTML æ’ä»¶(ç±»ä¼¼äºä¸€ä¸ªæ¨¡æ¿å¼•æ“æ’ä»¶)
å¯ä»¥é€šè¿‡æ­¤æ’ä»¶è‡ªå®šåˆ¶indexhtmlé¡µé¢çš„å†…å®¹



é…ç½®æ’ä»¶

### webpack-dev-server

webpack-devserver å¯ä»¥è®© webpack ç›‘å¬é¡¹ç›®æºä»£ç çš„å˜åŒ–ï¼Œä»è€Œè¿›è¡Œè‡ªåŠ¨æ‰“åŒ…æ„å»º

![image-20230904091146231](%E6%95%B4%E7%90%86.assets/image-20230904091146231.png)

-Dè¡¨ç¤ºè®°å½•åœ¨å¼€å‘èŠ‚ç‚¹ä¸‹







2.2é…ç½® webpack-dev-server
ä¿®æ”¹ packagejson -> scripts ä¸­çš„ dev å‘½ä»¤å¦‚ä¸‹
1"scripts": {
"dev":"webpack serve"ï¼Œ// script èŠ‚ç‚¹ä¸‹çš„è„šæœ¬ï¼Œå¯ä»¥é€šè¿‡ npm run æ‰§è¡Œ
å†æ¬¡è¿è¡Œ npm run dev å‘½ä»¤ï¼Œé‡æ–°è¿›è¡Œé¡¹ç›®çš„æ‰“åŒ…

![image-20230904091316213](%E6%95%B4%E7%90%86.assets/image-20230904091316213.png)



è¿™æ ·npm run devä¹‹åä¼šè‡ªåŠ¨ç›‘å¬å˜åŒ–





### è®¿é—®è‡ªåŠ¨æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶

ä¹‹å‰çš„æ˜¯webpackä¼šä¸¥æ ¼æŒ‰ç…§é…ç½®çš„outputå»æ”¹å¼•ç”¨ï¼Œsrcä¸‹çš„æ–‡ä»¶å°±èƒ½ä½¿ç”¨äº†ï¼›

å¼€å¯å®æ—¶æ‰“åŒ…åï¼Œå°±ä¸å­˜åœ¨ç‰©ç†ç£ç›˜ä¸Šäº†å¹¶æ²¡æœ‰åœ¨distä¸‹



#### 2.3 æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶å“ªå„¿å»äº†?

Oä¸é…ç½®webpack-dev-server çš„æƒ…å†µä¸‹ï¼Œwebpack æ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶ï¼Œä¼šå­˜æ”¾åˆ°å®é™…çš„ç‰©ç†ç£ç›˜ä¸Šä¸¥æ ¼éµå®ˆå¼€å‘è€…åœ¨webpack.config.js ä¸­æŒ‡å®šé…ç½®
æ ¹æ® output èŠ‚ç‚¹æŒ‡å®šè·¯å¾„è¿›è¡Œå­˜æ”¾@é…ç½®äº† webpack-dev-server ä¹‹åï¼Œæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶å­˜æ”¾åˆ°äº†å†…å­˜ä¸­ä¸å†æ ¹æ®output èŠ‚ç‚¹æŒ‡å®šçš„è·¯å¾„ï¼Œå­˜æ”¾åˆ°å®é™…çš„ç‰©ç†ç£ç›˜ä¸Š
æé«˜äº†å®æ—¶æ‰“åŒ…è¾“å‡ºçš„æ€§èƒ½ï¼Œå› ä¸ºå†…å­˜æ¯”ç‰©ç†ç£ç›˜é€Ÿåº¦å¿«å¾ˆå¤š



![image-20230904092154088](%E6%95%B4%E7%90%86.assets/image-20230904092154088.png)







### html-webpack-plugin

html-webpack-plugin æ˜¯ webpack ä¸­çš„ HTML æ’ä»¶ï¼Œå¯ä»¥é€šè¿‡æ­¤æ’ä»¶è‡ªå®šåˆ¶ index.htmlé¡µé¢çš„å†…å®¹éœ€æ±‚:é€šè¿‡ html-webpack-plugin æ’ä»¶ï¼Œå°† sr ç›®å½•ä¸‹çš„ index.htmlé¦–é¡µï¼Œå¤åˆ¶åˆ°é¡¹ç›®æ ¹ç›®å½•ä¸­ä¸€ä»½!



è¿™æ · æ‰“å¼€ç«¯å£å°±èƒ½çœ‹åˆ°é¡µé¢äº†ï¼Œè€Œä¸æ˜¯ä¹‹å‰çš„é‚£ä¸ªæ–‡ä»¶å¤¹

ä¸éœ€è¦dist äº†ï¼Œä¹Ÿä¸éœ€è¦è‡ªå·±å†™é‚£ä¸ªé¦–é¡µçš„å¼•å…¥äº†ï¼Œéƒ½æ˜¯å› ä¸ºæ”¾åˆ°å†…å­˜é‡Œå’Œæ’ä»¶è‡ªå·±å¼•ç”¨äº†



å†™åœ¨config.jsé‡Œ ï¼Œå¾ˆå¤šé…ç½®æ˜¯å¹³çº§çš„å†™

![image-20230904092534875](%E6%95%B4%E7%90%86.assets/image-20230904092534875.png)



### é…ç½®devserverèŠ‚ç‚¹

4.devServer èŠ‚ç‚¹
åœ¨webpack.config,js é…ç½®æ–‡ä»¶ä¸­ï¼Œå¯ä»¥é€šè¿‡ devServer èŠ‚ç‚¹å¯¹ webpack-dev-server æ’ä»¶è¿›è¡Œæ›´å¤šçš„é…ç½®ç¤ºä¾‹ä»£ç å¦‚ä¸‹:
i devServer :{
open: trueï¼Œ// åˆæ¬¡æ‰“åŒ…å®Œæˆåï¼Œè‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
host:127.0.0.1ï¼Œ// å®æ—¶æ‰“åŒ…æ‰€ä½¿ç”¨çš„ä¸»æœºåœ°å€
port: 80ï¼Œ// å®æ—¶æ‰“åŒ…æ‰€ä½¿ç”¨çš„ç«¯å£å·



## loader

å°±æ˜¯å¤„ç†é.jsçš„æ–‡ä»¶å’¯ ï¼Œå°±æœ‰äº¤ç»™å¯¹åº”çš„åŠ è½½å™¨

1.loader æ¦‚è¿°
åœ¨å®é™…å¼€å‘è¿‡ç¨‹ä¸­ï¼Œwebpack é»˜è®¤åªèƒ½æ‰“åŒ…å¤„ç†ä»¥.s åç¼€åç»“å°¾çš„æ¨¡å—å…¶ä»–é s åç¼€åç»“å°¾çš„æ¨¡å—webpack é»˜è®¤å¤„ç†ä¸äº†ï¼Œéœ€è¦è°ƒç”¨ loader åŠ è½½å™¨æ‰å¯ä»¥æ­£å¸¸æ‰“åŒ…ï¼Œå¦åˆ™ä¼šæŠ¥é”™!
loader åŠ è½½å™¨çš„ä½œç”¨: ååŠ© webpack æ‰“åŒ…å¤„ç†ç‰¹å®šçš„æ–‡ä»¶æ¨¡å—ã€‚æ¯”å¦‚:
css-loaderå¯ä»¥æ‰“åŒ…å¤„ç†css ç›¸å…³çš„æ–‡ä»¶
less-loader å¯ä»¥æ‰“åŒ…å¤„ç† less ç›¸å…³çš„æ–‡ä»¶
babel-lader å¯ä»¥æ‰“åŒ…å¤„ç† webpack æ— æ³•å¤„ç†çš„é«˜çº§JSè¯­æ³•



![image-20230904093601905](%E6%95%B4%E7%90%86.assets/image-20230904093601905.png)



#### æ‰“åŒ…å¤„ç†cssæ–‡ä»¶

å½“webpackå‘ç°å¤„ç†ä¸äº†importçš„cssæ–‡ä»¶æ—¶ï¼Œå°±å¼€å§‹è°ƒç”¨é…ç½®å¥½çš„loaderï¼Œloaderå¤„ç†å¥½å†äº¤ç»™webpackè¿›è¡Œæ‰“åŒ…åˆå¹¶

è¿è¡Œ npm i style-loader@2.0.0	 css-loader@5.0.1 -D å‘½ä»¤ï¼Œå®‰è£…å¤„ç† cs æ–‡ä»¶çš„ loader



åœ¨webpack.config.js çš„ module -> rules æ•°ç»„ä¸­ï¼Œæ·»åŠ loader è§„åˆ™å¦‚ä¸‹:

![image-20230904093934513](%E6%95%B4%E7%90%86.assets/image-20230904093934513.png)1 module: { // æ‰€æœ‰ç¬¬ä¸‰æ–¹æ–‡ä»¶æ¨¡å—çš„åŒ¹é…è§„åˆ™
rules: [ // æ–‡ä»¶åç¼€åçš„åŒ¹é…è§„åˆ™
{ test: /\.css$/, use: ['style-loader'ï¼Œ 'css-loader'] )

å…¶ä¸­ï¼Œtest è¡¨ç¤ºåŒ¹é…çš„æ–‡ä»¶ç±»å‹ï¼Œ use è¡¨ç¤ºå¯¹åº”è¦è°ƒç”¨çš„ loader

æ³¨æ„: 
use æ•°ç»„ä¸­æŒ‡å®šçš„ loader é¡ºåºæ˜¯å›ºå®šçš„
å¤šä¸ªloader çš„è°ƒç”¨é¡ºåºæ˜¯: ä»åå¾€å‰è°ƒç”¨

### æ‰“åŒ…å¤„ç†lessæ–‡ä»¶

![image-20230904094432662](%E6%95%B4%E7%90%86.assets/image-20230904094432662.png)

![image-20230904094609371](%E6%95%B4%E7%90%86.assets/image-20230904094609371.png)



### url-loader

webpack5è‡ªåŠ¨å†…ç½®äº†

![](%E6%95%B4%E7%90%86.assets/image-20230904094957012.png)



### loaderå¯¹è±¡é…ç½®æ–¹å¼

![image-20230904095152745](%E6%95%B4%E7%90%86.assets/image-20230904095152745.png)



### babel-loader

æœ€è¿‘ç‰ˆçš„å…¼å®¹äº†

![image-20230904095402069](%E6%95%B4%E7%90%86.assets/image-20230904095402069.png)



## æ‰“åŒ…å‘å¸ƒ

### ä¸ºä»€ä¹ˆè¦æ‰“åŒ…å‘å¸ƒ

é¡¹ç›®å¼€å‘å®Œæˆä¹‹åï¼Œä½¿ç”¨ webpack å¯¹é¡¹ç›®è¿›è¡Œæ‰“åŒ…å‘å¸ƒçš„ä¸»è¦åŸå› æœ‰ä»¥ä¸‹ä¸¤ç‚¹:å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶å­˜æ”¾äºå†…å­˜ä¸­ï¼Œæ— æ³•è·å–åˆ°æœ€ç»ˆæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶2å¼€å‘ç¯å¢ƒä¸‹ï¼Œæ‰“åŒ…ç”Ÿæˆçš„æ–‡ä»¶ä¸ä¼šè¿›è¡Œä»£ç å‹ç¼©å’Œæ€§èƒ½ä¼˜åŒ–



åŠ äº†serverå°±æ˜¯æŠŠå®ƒæ”¾è¿›å†…å­˜äº†

![image-20230904095701466](%E6%95%B4%E7%90%86.assets/image-20230904095701466.png)



![image-20230904095647250](%E6%95%B4%E7%90%86.assets/image-20230904095647250.png)



### æ•´ç†distç›®å½•ä¸‹çš„æ–‡ä»¶



ç”¨æ’ä»¶åˆ é™¤æ—§distç›®å½•

![image-20230904100141539](%E6%95%B4%E7%90%86.assets/image-20230904100141539.png)





### ä¼ä¸šçº§é¡¹ç›®çš„æ‰“åŒ…å‘å¸ƒ

ä¼ä¸šçº§çš„é¡¹ç›®åœ¨è¿›è¡Œæ‰“åŒ…å‘å¸ƒæ—¶ï¼Œè¿œæ¯”åˆšæ‰çš„æ–¹å¼è¦å¤æ‚çš„å¤šï¼Œä¸»è¦çš„å‘å¸ƒæµç¨‹å¦‚ä¸‹ç”Ÿæˆæ‰“åŒ…æŠ¥å‘Šï¼Œæ ¹æ®æŠ¥å‘Šåˆ†æå…·ä½“çš„ä¼˜åŒ–æ–¹æ¡ˆ
Tree-Shaking
ä¸ºç¬¬ä¸‰æ–¹åº“å¯ç”¨CDN åŠ è½½
é…ç½®ç»„ä»¶çš„æŒ‰éœ€åŠ è½½
å¼€å¯è·¯ç”±æ‡’åŠ è½½
è‡ªå®šåˆ¶é¦–é¡µå†…å®¹
åœ¨åé¢çš„ vue é¡¹ç›®è¯¾ç¨‹ä¸­ï¼Œä¼šä¸“é—¨è®²è§£å¦‚ä½•è¿›è¡Œä¼ä¸šçº§é¡¹ç›®çš„æ‰“åŒ…å‘å¸ƒ





# Pinia

å®‰è£…åä½¿ç”¨ï¼Œlessæ˜¯é»˜è®¤é…ç½®çš„ä¸éœ€è¦åŠ 



[ä¸€æ–‡ææ‡‚piniaçŠ¶æ€ç®¡ç†ï¼ˆä¿å§†çº§æ•™ç¨‹ï¼‰ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/533233367)



## æ•°æ®æŒä¹…åŒ–

[pinia-plugin-persistedstate(åŸºç¡€) - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7255855818595024954)

[uniappé¡¹ç›®å®æˆ˜ç¬¬äº”ç« ï¼šå°ç¨‹åºPiniaæŒä¹…åŒ–_æå®¢æåçš„åšå®¢-CSDNåšå®¢](



# uniapp

åœ¨8_29é‡Œ







# å…¶ä»–ç§¯ç´¯

### ç¼–ç¨‹æŠ€å·§

clg

å¿«é€Ÿæ‰“å°



ä½¿ç”¨ `Ctrl + ~` å¼€å…³ç»ˆç«¯ï¼Œ

 `Ctrl + J` åˆ™æ˜¯å¼€å…³ Panel ï¼Œå³å«æœ‰ç»ˆç«¯ã€è°ƒè¯•å™¨çš„åº•éƒ¨å®¹å™¨ã€‚



 `Ctrl + D`     å¿«é€Ÿæ”¹å€¼

`Ctrl + i` å”¤èµ·ä»£ç æç¤º





## æ—¥æœŸæ ¼å¼åŒ–day.js

$xxDateFormat

```js
const dateFormat = function(value: any, flag: any) {
  if (!value) return '-'
  if (flag === null || !flag) {
    return dayjs(value).format('YYYY-MM-DD HH:mm')
  } else {
    return dayjs(value).format('YYYY-MM-DD')
  }
}

Vue.prototype.$xxDateFormat = dateFormat
Vue.prototype.$xxDateFormat.dateTime = dateFormat
```



```js
 renderDate(val: any) {
    return val ? dayjs(val).format('YYYY-MM-DD') : ''
  }
```







## lodashåº“	[**Lodash ä¸­æ–‡æ–‡æ¡£**](https://www.lodashjs.com/)

å¯¹è±¡ï¼Œæ•°ç»„æ“ä½œçš„è¯­æ³•åº“ï¼Œæ·±æ‹·è´ï¼Œé˜²æŠ–ï¼ŒèŠ‚æµ

#### lodashèŠ‚æµä½¿ç”¨

æœç´¢æ çš„è”æƒ³è¯çš„å‡ºç°

```js
 onWindowMessage (message: any) {
    // åˆ›å»ºä¸€ä¸ªèŠ‚æµå‡½æ•°ï¼Œåœ¨ wait ç§’å†…æœ€å¤šæ‰§è¡Œ func ä¸€æ¬¡çš„å‡½æ•°
    throttle(() => {
      if (message.data.keyDigNumGather) {
        if (message.data?.keyDigNumGather === this.subParams.keyDigNumGather) {
          this.$emit('refreshInit')
        } else if (message.data?.keyDigNumGather === this.treeData.keyDigNumGather) {
          this.$emit('refreshInit')
        }
      }
    }, 500)()
  }
```



## signature_padæ’ä»¶

ç”µå­ç­¾å

æŠŠç”»å¸ƒå˜æˆç­¾åç‰ˆäº†ï¼Ÿ

```js
    const canvas: any = document.querySelector('canvas')
      this.signaturePad = new SignaturePad(canvas, {
        minWidth: 5,
        maxWidth: 10,
        // penColor: '#08BCB0',
        penColor: '#333',
        backgroundColor: '#ecfafa'
      })
```



é¡¹ç›®é‡Œé¢ç”¨äº†æ’ä»¶æŠŠç»„ä»¶åŒ…è£…æˆäº†ä¸€ä¸ªç±»ï¼Œæ‰€ä»¥é‡Œé¢å†™çš„æ–¹æ³•å’Œå…¶ä»–åœ°æ–¹ä¸ä¸€æ ·ï¼Œå…¶ä»–éƒ½æ˜¯èµ‹ç»™å˜é‡çš„ï¼Œé¡¹ç›®é‡Œå†™çš„æ˜¯ç±»æ–¹æ³•ï¼Œèƒ½ç”¨es6çš„ç®€å†™å½¢å¼







## contextMenu

[Element: contextmenu event - Web API æ¥å£å‚è€ƒ | MDN (mozilla.org)](https://developer.mozilla.org/zh-CN/docs/Web/API/Element/contextmenu_event)

**`contextmenu`** äº‹ä»¶ä¼šåœ¨ç”¨æˆ·å°è¯•æ‰“å¼€ä¸Šä¸‹æ–‡èœå•æ—¶è¢«è§¦å‘

[vue3+tså¼€å‘vue3-context-menuæ’ä»¶ - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6974596228914872350?searchId=202307191727067A339FB81AB9CD657070)





## websocket

[ä¸€æ–‡åƒé€ WebSocket åŸç† åˆšé¢è¯•å®Œï¼Œè¶çƒ­èµ¶ç´§æ•´ç† - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/7020964728386093093)





## vuedraggable

move æ‹–æ‹½äº‹ä»¶é‡Œé¢ä¼ çš„ä¸€ä¸ªäº‹ä»¶å¯¹è±¡

åˆ©ç”¨ä»–å°è£…å¥½çš„ä¼ çš„ä¸œè¥¿å»å®Œæˆä¸šåŠ¡æµç¨‹

```js
//moveå›è°ƒæ–¹æ³•
onMove(e,originalEvent){ 
         console.log(e);
         console.log(originalEvent);
         //falseè¡¨ç¤ºé˜»æ­¢æ‹–æ‹½
         return true;
  },  
//eå¯¹è±¡ç»“æ„
draggedContext: è¢«æ‹–æ‹½çš„å…ƒç´ 
      index: è¢«æ‹–æ‹½çš„å…ƒç´ çš„åºå·
      element: è¢«æ‹–æ‹½çš„å…ƒç´ å¯¹åº”çš„å¯¹è±¡
      futureIndex: é¢„æœŸä½ç½®ã€ç›®æ ‡ä½ç½®
relatedContext: å°†åœé çš„å¯¹è±¡
      index: ç›®æ ‡åœé å¯¹è±¡çš„åºå·
      element: ç›®æ ‡çš„å…ƒç´ å¯¹åº”çš„å¯¹è±¡
      list:  ç›®æ ‡æ•°ç»„
      component: å°†åœé çš„vueç»„ä»¶å¯¹è±¡
```

moveé‡Œå¹¶æ²¡æœ‰è®©å®ƒæˆåŠŸåšæ‹–æ‹½ï¼Œè€Œæ˜¯æ‰¾åˆ°äº†å®ƒçš„åŸç”Ÿçš„ä½ç½®idå’Œæ‹–æ‹½ä¹‹åçš„ä½ç½®å­˜èµ·æ¥äº†



[vue.draggable move è‡ªå®šä¹‰æ§åˆ¶é‚£äº›å…ƒç´ å¯ä»¥æ‹–æ‹½æˆ–ä¸å…è®¸æ‹–æ‹½å¹¶æ§åˆ¶æ˜¯å¦å…è®¸åœé  - itxst.com](https://www.itxst.com/vue-draggable/ufjv2i7j.html)





## vue-class-componentï¼ˆregisterHooksï¼‰



æŠŠç»„ä»¶å†…å®ˆå«å’Œç»„ä»¶ç¼“å­˜åˆèµ·æ¥ç†è§£

åŸæ¥é‚£ä¸ªåƒæ³¨è§£çš„ä¸œè¥¿å«ç±»ç»„ä»¶

[Additional Hooks | Vue Class Component (vuejs.org)](https://class-component.vuejs.org/guide/additional-hooks.html)

```js
é™„åŠ é’©å­
å¦‚æœä½ ä½¿ç”¨ä¸€äº› Vue æ’ä»¶ï¼Œæ¯”å¦‚Vue è·¯ç”±å™¨ï¼Œæ‚¨å¯èƒ½å¸Œæœ›ç±»ç»„ä»¶è§£æå®ƒä»¬æä¾›çš„é’©å­ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œå…è®¸æ‚¨æ³¨å†Œè¿™æ ·çš„é’©å­ï¼šComponent.registerHooks

import Component from 'vue-class-component'
Component.registerHooks([
  'beforeRouteEnter',
  'beforeRouteLeave',
  'beforeRouteUpdate'
])
```



```js
Component.registerHooks(['beforeRouteLeave'])
```

```js
//	å®ƒçš„åŠŸåŠ³
import { Component, Vue, Watch, Prop, Ref } from 'vue-property-decorator'
```







## vuex-module-decorators

[Vue & TypeScript åˆä½“éªŒ - ä½¿ç”¨Vuex (vuex-module-decorators) - æ˜é‡‘ (juejin.cn)](https://juejin.cn/post/6844904003633954829?searchId=2023080715173976B24BC43AF1CF1DA7F1#comment)

ç®€å•çš„çœ‹äº†ä¸‹vuex

action	å†™ä¸šåŠ¡é€»è¾‘ï¼ˆåˆ¤æ–­ã€è¯·æ±‚ï¼‰

mutation æ“ä½œæ•°æ®

æœ‰ç‚¹åƒmvc   ä¸šåŠ¡å±‚...









## wangeditor

å¯Œæ–‡æœ¬ç¼–è¾‘å™¨çš„ä½¿ç”¨ wangeditor for vue





## Jenkins

### [Jenkinsè¯¦ç»†æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)](https://zhuanlan.zhihu.com/p/157592663)





## qsåº“

axiosçš„ get æ–¹æ³• params ä¼ å‚ï¼Œåœ¨è¾“å…¥æ¡†ä¸­è¾“å…¥æŸäº›ç‰¹æ®Šå­—ç¬¦ ä¾‹å¦‚ä¸­æ‹¬å·ã€Jsonæ ¼å¼å‚æ•°ç­‰ï¼Œè¯·æ±‚æ—¶ä¼šç›´æ¥æŠ¥ 400 é”™è¯¯ï¼ŒBad Request

æ–¹æ¡ˆï¼šåœ¨åˆ›å»º axios å®ä¾‹æ—¶ï¼Œå¢åŠ å¯é€‰çš„[åºåˆ—åŒ–](https://so.csdn.net/so/search?q=åºåˆ—åŒ–&spm=1001.2101.3001.7020)å±æ€§ paramsSerializerï¼ŒæŒ‰éœ€æ±‚ä½¿ç”¨encodeURIComponentã€JSON.stringifytç­‰æ–¹æ³•å¤„ç†å‚æ•°ï¼Œåœ¨è´Ÿè´£åºåˆ—åŒ– 'paramsâ€™çš„å‡½æ•°ä¸­ä½¿ç”¨è‡ªå®šä¹‰å‚æ•°çš„åºåˆ—åŒ–



[axiosè¯·æ±‚ä¼ å‚è‡ªå®šä¹‰paramsSerializeråºåˆ—åŒ–_axios paramsserializer_ç å¤§æ˜Ÿçš„åšå®¢-CSDNåšå®¢](https://blog.csdn.net/hututu3/article/details/123222938)

## æ’ä»¶

GitLens â€” Git supercharged

Git History



[ç¬¬ 1 ç« : æˆ‘ä»¬åœ¨åšä»€ä¹ˆï¼Ÿ Â· å‡½æ•°å¼ç¼–ç¨‹æŒ‡åŒ— (gitbooks.io)](https://llh911001.gitbooks.io/mostly-adequate-guide-chinese/content/ch1.html)

## Git

### æˆ‘è‡ªå·±çš„ç¬”è®°ä½¿ç”¨git

#### git stash pop 

git stash pop åä¼šè‡ªåŠ¨æŠŠå†²çªæŠ›å‡ºæ¥ï¼Œè¿™ä¸ªæ—¶å€™è§£å†³å†²çªåå°±ç›´æ¥pushäº†å§

[Learn Git Branching](https://learngitbranching.js.org/?locale=zh_CN)





#### å›é€€æäº¤


git reset --soft HEAD^







### åœ¨é¡¹ç›®é‡Œçš„è¿ç”¨





git clone åœ°å€ -b  åˆ†æ”¯

#### gitæ“ä½œï¼šæäº¤åˆ°master

å…ˆä¿å­˜åˆ°æš‚å­˜åŒº git stash		ç­‰ä¸‹è¦æ‹‰ä»£ç çš„ï¼Œåˆ«æŠŠè‡ªå·±ä»£ç å†²ç‚¹

ç„¶åæ‹‰å–master æœ€æ–°ä»£ç 	git pull origin master	(åº”è¯¥æ˜¯çœ‹æœ‰æ²¡æœ‰æ–°ä»£ç æäº¤ä¸Šå»çš„)

å†æŠŠè‡ªå·±ä»£ç æ‹¿å‡ºæ¥  		git stash pop



è½¬å…¥github desktop   è¿›è¡Œadd commit  push æ“ä½œ



æäº¤ feat  fix





```js
1ã€git stash

    å¤‡ä»½å½“å‰å·¥ä½œåŒºçš„å†…å®¹ï¼Œä¿å­˜åˆ°git æ ˆä¸­ï¼Œä»æœ€è¿‘çš„ä¸€æ¬¡commitä¸­è¯»å–ç›¸å…³å†…å®¹

2ã€git pull  æˆ–è€…åšå…¶ä»–çš„å·¥ä½œ    

3ã€git stash pop

    ä»gitæ ˆä¸­è·å–åˆ°æœ€è¿‘ä¸€æ¬¡stashè¿›å»çš„å†…å®¹ï¼Œæ¢å¤å·¥ä½œåŒºçš„å†…å®¹ã€‚ã€‚è·å–ä¹‹åï¼Œä¼šåˆ é™¤æ ˆä¸­å¯¹åº”çš„stashã€‚ã€‚

    ç”±äºå¯èƒ½ä¼šstashå¤šæ¬¡ï¼Œgitä½¿ç”¨æ ˆç®¡ç†ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨git stash listæŸ¥çœ‹æ‰€æœ‰çš„stash
 4. git stash clear

        æ¸…ç©ºgitæ ˆ

è¿˜å¯ä»¥git reset --hardæ”¾å¼ƒæœ¬åœ°ä¿®æ”¹ï¼Œç„¶åå°±å¯ä»¥git pulläº†ã€‚ã€‚ä½†æ˜¯ä¸æ¨èä½¿ç”¨gitreset --hardæŒ‡ä»¤ï¼Œå®åœ¨æ˜¯å¤ªå±é™©å•¦ï¼
```

#### åˆ†æ”¯

![image-20230629192719908](%E6%95%B4%E7%90%86.assets/image-20230629192719908.png)

git checkout 

git merge ï¼ˆè¦åˆå¹¶åˆ°ï¼‰   åˆå¹¶

`git pull` å°±æ˜¯ fetch å’Œ merge çš„ç®€å†™

`git pull --rebase` å°±æ˜¯ fetch å’Œ rebase çš„ç®€å†™ï¼

git rebase ï¼ˆxåˆ†æ”¯ï¼‰   åˆå¹¶åˆ†æ”¯çš„æ–¹æ³•--æŠŠå½“å‰åˆ†æ”¯å¤åˆ¶åˆ°xåˆ†æ”¯ä¸Šã€‚

Rebase å®é™…ä¸Šå°±æ˜¯å–å‡ºä¸€ç³»åˆ—çš„æäº¤è®°å½•ï¼Œâ€œå¤åˆ¶â€å®ƒä»¬ï¼Œç„¶ååœ¨å¦å¤–ä¸€ä¸ªåœ°æ–¹é€ä¸ªçš„æ”¾ä¸‹å»ã€‚**æ‹‰å…¬å…±åˆ†æ”¯æœ€æ–°ä»£ç **

git pull -ræˆ–git pull --rebase

ï¼ˆå¥½åƒåªæœ‰ä¸ªäººå¼€å‘ç”¨ï¼Ÿï¼‰

![img](%E6%95%B4%E7%90%86.assets/f0729d5bc6504c2283ecff9fdb3e484a.png)



------

git config --list

git credential-manager uninstall

 

------

æºä»£ç ç®¡ç†ï¼Œä¸­

+å·ï¼ˆæš‚å­˜æ›´æ”¹ï¼‰  ä»£è¡¨æ˜¯git add   

------

**git push <remote> <place>**

å‘½ä»¤åçš„origin å‚æ•° ä»£è¡¨è¿œç¨‹ä»“åº“

```
git push origin main
```

æŠŠè¿™ä¸ªå‘½ä»¤ç¿»è¯‘è¿‡æ¥å°±æ˜¯ï¼š

*åˆ‡åˆ°æœ¬åœ°ä»“åº“ä¸­çš„â€œmainâ€åˆ†æ”¯ï¼Œè·å–æ‰€æœ‰çš„æäº¤ï¼Œå†åˆ°è¿œç¨‹ä»“åº“â€œoriginâ€ä¸­æ‰¾åˆ°â€œmainâ€åˆ†æ”¯ï¼Œå°†è¿œç¨‹ä»“åº“ä¸­æ²¡æœ‰çš„æäº¤è®°å½•éƒ½æ·»åŠ ä¸Šå»ï¼Œæå®šä¹‹åå‘Šè¯‰æˆ‘ã€‚*

æˆ‘ä»¬é€šè¿‡â€œplaceâ€å‚æ•°æ¥å‘Šè¯‰ Git æäº¤è®°å½•æ¥è‡ªäº main, è¦æ¨é€åˆ°è¿œç¨‹ä»“åº“ä¸­çš„ mainã€‚å®ƒå®é™…å°±æ˜¯è¦åŒæ­¥çš„ä¸¤ä¸ªä»“åº“çš„ä½ç½®ã€‚

è¦åŒæ—¶ä¸ºæºå’Œç›®çš„åœ°æŒ‡å®š `<place>` çš„è¯ï¼Œåªéœ€è¦ç”¨å†’å· `:` å°†äºŒè€…è¿èµ·æ¥å°±å¯ä»¥äº†

1. `<remote>`ï¼šè¿œç¨‹ä»“åº“çš„åç§°ã€‚å®ƒæŒ‡å®šäº†ä½ è¦å°†ä»£ç æ¨é€åˆ°å“ªä¸ªè¿œç¨‹ä»“åº“ã€‚ä¾‹å¦‚ï¼Œ`origin` æ˜¯é»˜è®¤çš„è¿œç¨‹ä»“åº“åç§°ã€‚
2. `<branch>`ï¼šåˆ†æ”¯çš„åç§°ã€‚å®ƒæŒ‡å®šäº†ä½ è¦æ¨é€å“ªä¸ªåˆ†æ”¯çš„ä»£ç ã€‚ä¾‹å¦‚ï¼Œ`master` æ˜¯é»˜è®¤çš„ä¸»åˆ†æ”¯åç§°ã€‚
3. `--all`ï¼šæ¨é€æ‰€æœ‰åˆ†æ”¯åˆ°è¿œç¨‹ä»“åº“ã€‚ä½¿ç”¨è¿™ä¸ªå‚æ•°å¯ä»¥å°†æœ¬åœ°æ‰€æœ‰åˆ†æ”¯éƒ½æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚
4. `--tags`ï¼šæ¨é€æ‰€æœ‰æ ‡ç­¾åˆ°è¿œç¨‹ä»“åº“ã€‚ä½¿ç”¨è¿™ä¸ªå‚æ•°å¯ä»¥å°†æœ¬åœ°æ‰€æœ‰æ ‡ç­¾éƒ½æ¨é€åˆ°è¿œç¨‹ä»“åº“ã€‚
5. `--force`ï¼šå¼ºåˆ¶æ¨é€ã€‚ä½¿ç”¨è¿™ä¸ªå‚æ•°å¯ä»¥å¼ºåˆ¶å°†ä»£ç æ¨é€åˆ°è¿œç¨‹ä»“åº“ï¼Œå³ä½¿æœ‰å†²çªæˆ–è€…ä¼šè¦†ç›–å·²æœ‰çš„æäº¤ã€‚
6. `--set-upstream` æˆ– `-u`ï¼šè®¾ç½®ä¸Šæ¸¸åˆ†æ”¯ã€‚ä½¿ç”¨è¿™ä¸ªå‚æ•°å¯ä»¥å°†å½“å‰åˆ†æ”¯ä¸è¿œç¨‹åˆ†æ”¯å…³è”èµ·æ¥ï¼Œä»¥åå¯ä»¥ç›´æ¥ä½¿ç”¨ `git push` æ¨é€ä»£ç ã€‚
7. `<refspec>`ï¼šè‡ªå®šä¹‰å¼•ç”¨è§„èŒƒã€‚å®ƒå¯ä»¥æŒ‡å®šè¦æ¨é€çš„åˆ†æ”¯æˆ–æ ‡ç­¾çš„å¼•ç”¨è§„èŒƒã€‚ä¾‹å¦‚ï¼Œ`refs/heads/feature`



------



##### å­¦ä¹ å†…å®¹

æŸ¥çœ‹log

![image-20230629191624781](%E6%95%B4%E7%90%86.assets/image-20230629191624781.png)









## Token

tokençš„ä¸¤ç§æ–¹æ¡ˆï¼š

- å°† token æ”¾åœ¨ cookie é‡Œï¼›
- å°† token æ”¾åœ¨è¯·æ±‚å¤´é‡Œï¼Œç”¨ Authorization å­—æ®µ

**è®¤è¯æ­¥éª¤è§£æ**

1. å®¢æˆ·ç«¯å‘é€ç™»å½•è¯·æ±‚
2. æœåŠ¡ç«¯æ ¡éªŒè´¦å·å¯†ç ï¼Œç”Ÿæˆ Tokenï¼Œå¹¶è¿”å›ç»™å®¢æˆ·ç«¯
3. æ”¶åˆ° Token ä»¥åéœ€è¦æŠŠå®ƒå­˜å‚¨èµ·æ¥ï¼Œweb ç«¯ä¸€èˆ¬ä¼šæ”¾åœ¨ localStorage æˆ– Cookie ä¸­
4. å®¢æˆ·ç«¯è¯·æ±‚ API èµ„æºçš„æ—¶å€™ï¼Œå°† Token é€šè¿‡ HTTP è¯·æ±‚å¤´ Authorization å­—æ®µæˆ–è€…å…¶å®ƒæ–¹å¼å‘é€ç»™æœåŠ¡ç«¯
5. æœåŠ¡ç«¯æ‹¿åˆ° Tokenï¼Œåšè§£å¯†å’Œç­¾åæ ¡éªŒï¼Œé€šè¿‡æ ¡éªŒè¿”å›æ•°æ®ï¼Œå¦åˆ™è¿”å› 401



æ„Ÿè§‰æ²¡æœ‰æ‰¾åˆ°è‡ªå·±æƒ³è¦çœ‹çš„ä¸œè¥¿





# TODO



æµè§ˆå™¨è¾“å…¥urlåˆ°é¡µé¢åŠ è½½å…¨è¿‡ç¨‹